(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function s(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(u){if(u.ep)return;u.ep=!0;const d=s(u);fetch(u.href,d)}})();function id(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function X0(o){if(Object.prototype.hasOwnProperty.call(o,"__esModule"))return o;var r=o.default;if(typeof r=="function"){var s=function l(){var u=!1;try{u=this instanceof l}catch{}return u?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};s.prototype=r.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(o).forEach(function(l){var u=Object.getOwnPropertyDescriptor(o,l);Object.defineProperty(s,l,u.get?u:{enumerable:!0,get:function(){return o[l]}})}),s}var Eu={exports:{}},us={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ng;function K0(){if(ng)return us;ng=1;var o=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function s(l,u,d){var f=null;if(d!==void 0&&(f=""+d),u.key!==void 0&&(f=""+u.key),"key"in u){d={};for(var y in u)y!=="key"&&(d[y]=u[y])}else d=u;return u=d.ref,{$$typeof:o,type:l,key:f,ref:u!==void 0?u:null,props:d}}return us.Fragment=r,us.jsx=s,us.jsxs=s,us}var ag;function Z0(){return ag||(ag=1,Eu.exports=K0()),Eu.exports}var a=Z0(),zu={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ig;function J0(){if(ig)return Re;ig=1;var o=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.iterator;function k(A){return A===null||typeof A!="object"?null:(A=w&&A[w]||A["@@iterator"],typeof A=="function"?A:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,q={};function L(A,N,V){this.props=A,this.context=N,this.refs=q,this.updater=V||S}L.prototype.isReactComponent={},L.prototype.setState=function(A,N){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,N,"setState")},L.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function B(){}B.prototype=L.prototype;function oe(A,N,V){this.props=A,this.context=N,this.refs=q,this.updater=V||S}var G=oe.prototype=new B;G.constructor=oe,b(G,L.prototype),G.isPureReactComponent=!0;var te=Array.isArray,ae={H:null,A:null,T:null,S:null,V:null},de=Object.prototype.hasOwnProperty;function he(A,N,V,j,R,ne){return V=ne.ref,{$$typeof:o,type:A,key:N,ref:V!==void 0?V:null,props:ne}}function qe(A,N){return he(A.type,N,void 0,void 0,void 0,A.props)}function be(A){return typeof A=="object"&&A!==null&&A.$$typeof===o}function ie(A){var N={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(V){return N[V]})}var Ue=/\/+/g;function $e(A,N){return typeof A=="object"&&A!==null&&A.key!=null?ie(""+A.key):N.toString(36)}function et(){}function je(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(et,et):(A.status="pending",A.then(function(N){A.status==="pending"&&(A.status="fulfilled",A.value=N)},function(N){A.status==="pending"&&(A.status="rejected",A.reason=N)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function ke(A,N,V,j,R){var ne=typeof A;(ne==="undefined"||ne==="boolean")&&(A=null);var re=!1;if(A===null)re=!0;else switch(ne){case"bigint":case"string":case"number":re=!0;break;case"object":switch(A.$$typeof){case o:case r:re=!0;break;case x:return re=A._init,ke(re(A._payload),N,V,j,R)}}if(re)return R=R(A),re=j===""?"."+$e(A,0):j,te(R)?(V="",re!=null&&(V=re.replace(Ue,"$&/")+"/"),ke(R,N,V,"",function(Qe){return Qe})):R!=null&&(be(R)&&(R=qe(R,V+(R.key==null||A&&A.key===R.key?"":(""+R.key).replace(Ue,"$&/")+"/")+re)),N.push(R)),1;re=0;var Te=j===""?".":j+":";if(te(A))for(var me=0;me<A.length;me++)j=A[me],ne=Te+$e(j,me),re+=ke(j,N,V,ne,R);else if(me=k(A),typeof me=="function")for(A=me.call(A),me=0;!(j=A.next()).done;)j=j.value,ne=Te+$e(j,me++),re+=ke(j,N,V,ne,R);else if(ne==="object"){if(typeof A.then=="function")return ke(je(A),N,V,j,R);throw N=String(A),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.")}return re}function W(A,N,V){if(A==null)return A;var j=[],R=0;return ke(A,j,"","",function(ne){return N.call(V,ne,R++)}),j}function J(A){if(A._status===-1){var N=A._result;N=N(),N.then(function(V){(A._status===0||A._status===-1)&&(A._status=1,A._result=V)},function(V){(A._status===0||A._status===-1)&&(A._status=2,A._result=V)}),A._status===-1&&(A._status=0,A._result=N)}if(A._status===1)return A._result.default;throw A._result}var ge=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var N=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(N))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function ue(){}return Re.Children={map:W,forEach:function(A,N,V){W(A,function(){N.apply(this,arguments)},V)},count:function(A){var N=0;return W(A,function(){N++}),N},toArray:function(A){return W(A,function(N){return N})||[]},only:function(A){if(!be(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Re.Component=L,Re.Fragment=s,Re.Profiler=u,Re.PureComponent=oe,Re.StrictMode=l,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Re.__COMPILER_RUNTIME={__proto__:null,c:function(A){return ae.H.useMemoCache(A)}},Re.cache=function(A){return function(){return A.apply(null,arguments)}},Re.cloneElement=function(A,N,V){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var j=b({},A.props),R=A.key,ne=void 0;if(N!=null)for(re in N.ref!==void 0&&(ne=void 0),N.key!==void 0&&(R=""+N.key),N)!de.call(N,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&N.ref===void 0||(j[re]=N[re]);var re=arguments.length-2;if(re===1)j.children=V;else if(1<re){for(var Te=Array(re),me=0;me<re;me++)Te[me]=arguments[me+2];j.children=Te}return he(A.type,R,void 0,void 0,ne,j)},Re.createContext=function(A){return A={$$typeof:f,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:d,_context:A},A},Re.createElement=function(A,N,V){var j,R={},ne=null;if(N!=null)for(j in N.key!==void 0&&(ne=""+N.key),N)de.call(N,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(R[j]=N[j]);var re=arguments.length-2;if(re===1)R.children=V;else if(1<re){for(var Te=Array(re),me=0;me<re;me++)Te[me]=arguments[me+2];R.children=Te}if(A&&A.defaultProps)for(j in re=A.defaultProps,re)R[j]===void 0&&(R[j]=re[j]);return he(A,ne,void 0,void 0,null,R)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(A){return{$$typeof:y,render:A}},Re.isValidElement=be,Re.lazy=function(A){return{$$typeof:x,_payload:{_status:-1,_result:A},_init:J}},Re.memo=function(A,N){return{$$typeof:m,type:A,compare:N===void 0?null:N}},Re.startTransition=function(A){var N=ae.T,V={};ae.T=V;try{var j=A(),R=ae.S;R!==null&&R(V,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(ue,ge)}catch(ne){ge(ne)}finally{ae.T=N}},Re.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Re.use=function(A){return ae.H.use(A)},Re.useActionState=function(A,N,V){return ae.H.useActionState(A,N,V)},Re.useCallback=function(A,N){return ae.H.useCallback(A,N)},Re.useContext=function(A){return ae.H.useContext(A)},Re.useDebugValue=function(){},Re.useDeferredValue=function(A,N){return ae.H.useDeferredValue(A,N)},Re.useEffect=function(A,N,V){var j=ae.H;if(typeof V=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return j.useEffect(A,N)},Re.useId=function(){return ae.H.useId()},Re.useImperativeHandle=function(A,N,V){return ae.H.useImperativeHandle(A,N,V)},Re.useInsertionEffect=function(A,N){return ae.H.useInsertionEffect(A,N)},Re.useLayoutEffect=function(A,N){return ae.H.useLayoutEffect(A,N)},Re.useMemo=function(A,N){return ae.H.useMemo(A,N)},Re.useOptimistic=function(A,N){return ae.H.useOptimistic(A,N)},Re.useReducer=function(A,N,V){return ae.H.useReducer(A,N,V)},Re.useRef=function(A){return ae.H.useRef(A)},Re.useState=function(A){return ae.H.useState(A)},Re.useSyncExternalStore=function(A,N,V){return ae.H.useSyncExternalStore(A,N,V)},Re.useTransition=function(){return ae.H.useTransition()},Re.version="19.1.1",Re}var rg;function rd(){return rg||(rg=1,zu.exports=J0()),zu.exports}var C=rd();const ex=id(C);var Au={exports:{}},ds={},Ru={exports:{}},Du={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg;function tx(){return sg||(sg=1,function(o){function r(W,J){var ge=W.length;W.push(J);e:for(;0<ge;){var ue=ge-1>>>1,A=W[ue];if(0<u(A,J))W[ue]=J,W[ge]=A,ge=ue;else break e}}function s(W){return W.length===0?null:W[0]}function l(W){if(W.length===0)return null;var J=W[0],ge=W.pop();if(ge!==J){W[0]=ge;e:for(var ue=0,A=W.length,N=A>>>1;ue<N;){var V=2*(ue+1)-1,j=W[V],R=V+1,ne=W[R];if(0>u(j,ge))R<A&&0>u(ne,j)?(W[ue]=ne,W[R]=ge,ue=R):(W[ue]=j,W[V]=ge,ue=V);else if(R<A&&0>u(ne,ge))W[ue]=ne,W[R]=ge,ue=R;else break e}}return J}function u(W,J){var ge=W.sortIndex-J.sortIndex;return ge!==0?ge:W.id-J.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;o.unstable_now=function(){return d.now()}}else{var f=Date,y=f.now();o.unstable_now=function(){return f.now()-y}}var p=[],m=[],x=1,w=null,k=3,S=!1,b=!1,q=!1,L=!1,B=typeof setTimeout=="function"?setTimeout:null,oe=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function te(W){for(var J=s(m);J!==null;){if(J.callback===null)l(m);else if(J.startTime<=W)l(m),J.sortIndex=J.expirationTime,r(p,J);else break;J=s(m)}}function ae(W){if(q=!1,te(W),!b)if(s(p)!==null)b=!0,de||(de=!0,$e());else{var J=s(m);J!==null&&ke(ae,J.startTime-W)}}var de=!1,he=-1,qe=5,be=-1;function ie(){return L?!0:!(o.unstable_now()-be<qe)}function Ue(){if(L=!1,de){var W=o.unstable_now();be=W;var J=!0;try{e:{b=!1,q&&(q=!1,oe(he),he=-1),S=!0;var ge=k;try{t:{for(te(W),w=s(p);w!==null&&!(w.expirationTime>W&&ie());){var ue=w.callback;if(typeof ue=="function"){w.callback=null,k=w.priorityLevel;var A=ue(w.expirationTime<=W);if(W=o.unstable_now(),typeof A=="function"){w.callback=A,te(W),J=!0;break t}w===s(p)&&l(p),te(W)}else l(p);w=s(p)}if(w!==null)J=!0;else{var N=s(m);N!==null&&ke(ae,N.startTime-W),J=!1}}break e}finally{w=null,k=ge,S=!1}J=void 0}}finally{J?$e():de=!1}}}var $e;if(typeof G=="function")$e=function(){G(Ue)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,je=et.port2;et.port1.onmessage=Ue,$e=function(){je.postMessage(null)}}else $e=function(){B(Ue,0)};function ke(W,J){he=B(function(){W(o.unstable_now())},J)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(W){W.callback=null},o.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):qe=0<W?Math.floor(1e3/W):5},o.unstable_getCurrentPriorityLevel=function(){return k},o.unstable_next=function(W){switch(k){case 1:case 2:case 3:var J=3;break;default:J=k}var ge=k;k=J;try{return W()}finally{k=ge}},o.unstable_requestPaint=function(){L=!0},o.unstable_runWithPriority=function(W,J){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ge=k;k=W;try{return J()}finally{k=ge}},o.unstable_scheduleCallback=function(W,J,ge){var ue=o.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?ue+ge:ue):ge=ue,W){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=ge+A,W={id:x++,callback:J,priorityLevel:W,startTime:ge,expirationTime:A,sortIndex:-1},ge>ue?(W.sortIndex=ge,r(m,W),s(p)===null&&W===s(m)&&(q?(oe(he),he=-1):q=!0,ke(ae,ge-ue))):(W.sortIndex=A,r(p,W),b||S||(b=!0,de||(de=!0,$e()))),W},o.unstable_shouldYield=ie,o.unstable_wrapCallback=function(W){var J=k;return function(){var ge=k;k=J;try{return W.apply(this,arguments)}finally{k=ge}}}}(Du)),Du}var lg;function nx(){return lg||(lg=1,Ru.exports=tx()),Ru.exports}var Mu={exports:{}},Pt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var og;function ax(){if(og)return Pt;og=1;var o=rd();function r(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(r(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(p,m,x){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:w==null?null:""+w,children:p,containerInfo:m,implementation:x}}var f=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Pt.createPortal=function(p,m){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(r(299));return d(p,m,null,x)},Pt.flushSync=function(p){var m=f.T,x=l.p;try{if(f.T=null,l.p=2,p)return p()}finally{f.T=m,l.p=x,l.d.f()}},Pt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,l.d.C(p,m))},Pt.prefetchDNS=function(p){typeof p=="string"&&l.d.D(p)},Pt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var x=m.as,w=y(x,m.crossOrigin),k=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;x==="style"?l.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:w,integrity:k,fetchPriority:S}):x==="script"&&l.d.X(p,{crossOrigin:w,integrity:k,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Pt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var x=y(m.as,m.crossOrigin);l.d.M(p,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&l.d.M(p)},Pt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var x=m.as,w=y(x,m.crossOrigin);l.d.L(p,x,{crossOrigin:w,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Pt.preloadModule=function(p,m){if(typeof p=="string")if(m){var x=y(m.as,m.crossOrigin);l.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else l.d.m(p)},Pt.requestFormReset=function(p){l.d.r(p)},Pt.unstable_batchedUpdates=function(p,m){return p(m)},Pt.useFormState=function(p,m,x){return f.H.useFormState(p,m,x)},Pt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Pt.version="19.1.1",Pt}var cg;function ix(){if(cg)return Mu.exports;cg=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(r){console.error(r)}}return o(),Mu.exports=ax(),Mu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ug;function rx(){if(ug)return ds;ug=1;var o=nx(),r=rd(),s=ix();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(d(e)!==e)throw Error(l(188))}function p(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(l(188));return t!==e?null:e}for(var n=e,i=t;;){var c=n.return;if(c===null)break;var h=c.alternate;if(h===null){if(i=c.return,i!==null){n=i;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===n)return y(c),e;if(h===i)return y(c),t;h=h.sibling}throw Error(l(188))}if(n.return!==i.return)n=c,i=h;else{for(var g=!1,v=c.child;v;){if(v===n){g=!0,n=c,i=h;break}if(v===i){g=!0,i=c,n=h;break}v=v.sibling}if(!g){for(v=h.child;v;){if(v===n){g=!0,n=h,i=c;break}if(v===i){g=!0,i=h,n=c;break}v=v.sibling}if(!g)throw Error(l(189))}}if(n.alternate!==i)throw Error(l(190))}if(n.tag!==3)throw Error(l(188));return n.stateNode.current===n?e:t}function m(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=m(e),t!==null)return t;e=e.sibling}return null}var x=Object.assign,w=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),oe=Symbol.for("react.consumer"),G=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),qe=Symbol.for("react.lazy"),be=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),Ue=Symbol.iterator;function $e(e){return e===null||typeof e!="object"?null:(e=Ue&&e[Ue]||e["@@iterator"],typeof e=="function"?e:null)}var et=Symbol.for("react.client.reference");function je(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===et?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case b:return"Fragment";case L:return"Profiler";case q:return"StrictMode";case ae:return"Suspense";case de:return"SuspenseList";case be:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case G:return(e.displayName||"Context")+".Provider";case oe:return(e._context.displayName||"Context")+".Consumer";case te:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case he:return t=e.displayName||null,t!==null?t:je(e.type)||"Memo";case qe:t=e._payload,e=e._init;try{return je(e(t))}catch{}}return null}var ke=Array.isArray,W=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},ue=[],A=-1;function N(e){return{current:e}}function V(e){0>A||(e.current=ue[A],ue[A]=null,A--)}function j(e,t){A++,ue[A]=e.current,e.current=t}var R=N(null),ne=N(null),re=N(null),Te=N(null);function me(e,t){switch(j(re,t),j(ne,e),j(R,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ap(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ap(t),e=Rp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(R),j(R,e)}function Qe(){V(R),V(ne),V(re)}function ut(e){e.memoizedState!==null&&j(Te,e);var t=R.current,n=Rp(t,e.type);t!==n&&(j(ne,e),j(R,n))}function z(e){ne.current===e&&(V(R),V(ne)),Te.current===e&&(V(Te),rs._currentValue=ge)}var Y=Object.prototype.hasOwnProperty,ye=o.unstable_scheduleCallback,xe=o.unstable_cancelCallback,Ie=o.unstable_shouldYield,tt=o.unstable_requestPaint,_t=o.unstable_now,sa=o.unstable_getCurrentPriorityLevel,la=o.unstable_ImmediatePriority,Wt=o.unstable_UserBlockingPriority,Ot=o.unstable_NormalPriority,qt=o.unstable_LowPriority,Nn=o.unstable_IdlePriority,mt=o.log,sn=o.unstable_setDisableYieldValue,Ft=null,_=null;function D(e){if(typeof mt=="function"&&sn(e),_&&typeof _.setStrictMode=="function")try{_.setStrictMode(Ft,e)}catch{}}var se=Math.clz32?Math.clz32:En,ze=Math.log,st=Math.LN2;function En(e){return e>>>=0,e===0?32:31-(ze(e)/st|0)|0}var bn=256,ci=4194304;function Ln(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Tt(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var c=0,h=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var v=i&134217727;return v!==0?(i=v&~h,i!==0?c=Ln(i):(g&=v,g!==0?c=Ln(g):n||(n=v&~e,n!==0&&(c=Ln(n))))):(v=i&~h,v!==0?c=Ln(v):g!==0?c=Ln(g):n||(n=i&~e,n!==0&&(c=Ln(n)))),c===0?0:t!==0&&t!==c&&(t&h)===0&&(h=c&-c,n=t&-t,h>=n||h===32&&(n&4194048)!==0)?t:c}function oa(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function fr(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function T(){var e=bn;return bn<<=1,(bn&4194048)===0&&(bn=256),e}function X(){var e=ci;return ci<<=1,(ci&62914560)===0&&(ci=4194304),e}function le(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ce(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Se(e,t,n,i,c,h){var g=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var v=e.entanglements,E=e.expirationTimes,P=e.hiddenUpdates;for(n=g&~n;0<n;){var I=31-se(n),K=1<<I;v[I]=0,E[I]=-1;var H=P[I];if(H!==null)for(P[I]=null,I=0;I<H.length;I++){var $=H[I];$!==null&&($.lane&=-536870913)}n&=~K}i!==0&&Me(e,i,0),h!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=h&~(g&~t))}function Me(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-se(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194090}function Xe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-se(n),c=1<<i;c&t|e[i]&t&&(e[i]|=t),n&=~c}}function dt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ht(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ln(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:Xp(e.type))}function pr(e,t){var n=J.p;try{return J.p=e,t()}finally{J.p=n}}var Pn=Math.random().toString(36).slice(2),Ge="__reactFiber$"+Pn,Pe="__reactProps$"+Pn,on="__reactContainer$"+Pn,Na="__reactEvents$"+Pn,gr="__reactListeners$"+Pn,yd="__reactHandles$"+Pn,ui="__reactResources$"+Pn,mr="__reactMarker$"+Pn;function jo(e){delete e[Ge],delete e[Pe],delete e[Na],delete e[gr],delete e[yd]}function di(e){var t=e[Ge];if(t)return t;for(var n=e.parentNode;n;){if(t=n[on]||n[Ge]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Up(e);e!==null;){if(n=e[Ge])return n;e=Up(e)}return t}e=n,n=e.parentNode}return null}function hi(e){if(e=e[Ge]||e[on]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function yr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function fi(e){var t=e[ui];return t||(t=e[ui]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Et(e){e[mr]=!0}var xd=new Set,vd={};function La(e,t){pi(e,t),pi(e+"Capture",t)}function pi(e,t){for(vd[e]=t,e=0;e<t.length;e++)xd.add(t[e])}var $m=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bd={},jd={};function Gm(e){return Y.call(jd,e)?!0:Y.call(bd,e)?!1:$m.test(e)?jd[e]=!0:(bd[e]=!0,!1)}function Ws(e,t,n){if(Gm(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Fs(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function qn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}var _o,_d;function gi(e){if(_o===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_o=t&&t[1]||"",_d=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_o+e+_d}var wo=!1;function So(e,t){if(!e||wo)return"";wo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch($){var H=$}Reflect.construct(e,[],K)}else{try{K.call()}catch($){H=$}e.call(K.prototype)}}else{try{throw Error()}catch($){H=$}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch($){if($&&H&&typeof $.stack=="string")return[$.stack,H.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=i.DetermineComponentFrameRoot(),g=h[0],v=h[1];if(g&&v){var E=g.split(`
`),P=v.split(`
`);for(c=i=0;i<E.length&&!E[i].includes("DetermineComponentFrameRoot");)i++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(i===E.length||c===P.length)for(i=E.length-1,c=P.length-1;1<=i&&0<=c&&E[i]!==P[c];)c--;for(;1<=i&&0<=c;i--,c--)if(E[i]!==P[c]){if(i!==1||c!==1)do if(i--,c--,0>c||E[i]!==P[c]){var I=`
`+E[i].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=i&&0<=c);break}}}finally{wo=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?gi(n):""}function Wm(e){switch(e.tag){case 26:case 27:case 5:return gi(e.type);case 16:return gi("Lazy");case 13:return gi("Suspense");case 19:return gi("SuspenseList");case 0:case 15:return So(e.type,!1);case 11:return So(e.type.render,!1);case 1:return So(e.type,!0);case 31:return gi("Activity");default:return""}}function wd(e){try{var t="";do t+=Wm(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function cn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Fm(e){var t=Sd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var c=n.get,h=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(g){i=""+g,h.call(this,g)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(g){i=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Is(e){e._valueTracker||(e._valueTracker=Fm(e))}function Cd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Sd(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Vs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Im=/[\n"\\]/g;function un(e){return e.replace(Im,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Co(e,t,n,i,c,h,g,v){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+cn(t)):e.value!==""+cn(t)&&(e.value=""+cn(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?ko(e,g,cn(t)):n!=null?ko(e,g,cn(n)):i!=null&&e.removeAttribute("value"),c==null&&h!=null&&(e.defaultChecked=!!h),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+cn(v):e.removeAttribute("name")}function kd(e,t,n,i,c,h,g,v){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),t!=null||n!=null){if(!(h!=="submit"&&h!=="reset"||t!=null))return;n=n!=null?""+cn(n):"",t=t!=null?""+cn(t):n,v||t===e.value||(e.value=t),e.defaultValue=t}i=i??c,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=v?e.checked:!!i,e.defaultChecked=!!i,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g)}function ko(e,t,n){t==="number"&&Vs(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function mi(e,t,n,i){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&i&&(e[n].defaultSelected=!0)}else{for(n=""+cn(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,i&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Td(e,t,n){if(t!=null&&(t=""+cn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+cn(n):""}function Ed(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(l(92));if(ke(i)){if(1<i.length)throw Error(l(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=cn(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i)}function yi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Vm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zd(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||Vm.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ad(e,t,n){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var c in t)i=t[c],t.hasOwnProperty(c)&&n[c]!==i&&zd(e,c,i)}else for(var h in t)t.hasOwnProperty(h)&&zd(e,h,t[h])}function To(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ym=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ys(e){return Qm.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Eo=null;function zo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xi=null,vi=null;function Rd(e){var t=hi(e);if(t&&(e=t.stateNode)){var n=e[Pe]||null;e:switch(e=t.stateNode,t.type){case"input":if(Co(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+un(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var c=i[Pe]||null;if(!c)throw Error(l(90));Co(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Cd(i)}break e;case"textarea":Td(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&mi(e,!!n.multiple,t,!1)}}}var Ao=!1;function Dd(e,t,n){if(Ao)return e(t,n);Ao=!0;try{var i=e(t);return i}finally{if(Ao=!1,(xi!==null||vi!==null)&&(Ml(),xi&&(t=xi,e=vi,vi=xi=null,Rd(t),e)))for(t=0;t<e.length;t++)Rd(e[t])}}function xr(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Pe]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(l(231,t,typeof n));return n}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ro=!1;if(Hn)try{var vr={};Object.defineProperty(vr,"passive",{get:function(){Ro=!0}}),window.addEventListener("test",vr,vr),window.removeEventListener("test",vr,vr)}catch{Ro=!1}var ca=null,Do=null,Qs=null;function Md(){if(Qs)return Qs;var e,t=Do,n=t.length,i,c="value"in ca?ca.value:ca.textContent,h=c.length;for(e=0;e<n&&t[e]===c[e];e++);var g=n-e;for(i=1;i<=g&&t[n-i]===c[h-i];i++);return Qs=c.slice(e,1<i?1-i:void 0)}function Xs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ks(){return!0}function Od(){return!1}function It(e){function t(n,i,c,h,g){this._reactName=n,this._targetInst=c,this.type=i,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(h):h[v]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ks:Od,this.isPropagationStopped=Od,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ks)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ks)},persist:function(){},isPersistent:Ks}),t}var Pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zs=It(Pa),br=x({},Pa,{view:0,detail:0}),Xm=It(br),Mo,Oo,jr,Js=x({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jr&&(jr&&e.type==="mousemove"?(Mo=e.screenX-jr.screenX,Oo=e.screenY-jr.screenY):Oo=Mo=0,jr=e),Mo)},movementY:function(e){return"movementY"in e?e.movementY:Oo}}),Ud=It(Js),Km=x({},Js,{dataTransfer:0}),Zm=It(Km),Jm=x({},br,{relatedTarget:0}),Uo=It(Jm),ey=x({},Pa,{animationName:0,elapsedTime:0,pseudoElement:0}),ty=It(ey),ny=x({},Pa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ay=It(ny),iy=x({},Pa,{data:0}),Bd=It(iy),ry={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ly={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ly[e])?!!t[e]:!1}function Bo(){return oy}var cy=x({},br,{key:function(e){if(e.key){var t=ry[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bo,charCode:function(e){return e.type==="keypress"?Xs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uy=It(cy),dy=x({},Js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nd=It(dy),hy=x({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bo}),fy=It(hy),py=x({},Pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),gy=It(py),my=x({},Js,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yy=It(my),xy=x({},Pa,{newState:0,oldState:0}),vy=It(xy),by=[9,13,27,32],No=Hn&&"CompositionEvent"in window,_r=null;Hn&&"documentMode"in document&&(_r=document.documentMode);var jy=Hn&&"TextEvent"in window&&!_r,Ld=Hn&&(!No||_r&&8<_r&&11>=_r),Pd=" ",qd=!1;function Hd(e,t){switch(e){case"keyup":return by.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $d(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bi=!1;function _y(e,t){switch(e){case"compositionend":return $d(t);case"keypress":return t.which!==32?null:(qd=!0,Pd);case"textInput":return e=t.data,e===Pd&&qd?null:e;default:return null}}function wy(e,t){if(bi)return e==="compositionend"||!No&&Hd(e,t)?(e=Md(),Qs=Do=ca=null,bi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ld&&t.locale!=="ko"?null:t.data;default:return null}}var Sy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Sy[e.type]:t==="textarea"}function Wd(e,t,n,i){xi?vi?vi.push(i):vi=[i]:xi=i,t=Pl(t,"onChange"),0<t.length&&(n=new Zs("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var wr=null,Sr=null;function Cy(e){Cp(e,0)}function el(e){var t=yr(e);if(Cd(t))return e}function Fd(e,t){if(e==="change")return t}var Id=!1;if(Hn){var Lo;if(Hn){var Po="oninput"in document;if(!Po){var Vd=document.createElement("div");Vd.setAttribute("oninput","return;"),Po=typeof Vd.oninput=="function"}Lo=Po}else Lo=!1;Id=Lo&&(!document.documentMode||9<document.documentMode)}function Yd(){wr&&(wr.detachEvent("onpropertychange",Qd),Sr=wr=null)}function Qd(e){if(e.propertyName==="value"&&el(Sr)){var t=[];Wd(t,Sr,e,zo(e)),Dd(Cy,t)}}function ky(e,t,n){e==="focusin"?(Yd(),wr=t,Sr=n,wr.attachEvent("onpropertychange",Qd)):e==="focusout"&&Yd()}function Ty(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return el(Sr)}function Ey(e,t){if(e==="click")return el(t)}function zy(e,t){if(e==="input"||e==="change")return el(t)}function Ay(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zt=typeof Object.is=="function"?Object.is:Ay;function Cr(e,t){if(Zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var c=n[i];if(!Y.call(t,c)||!Zt(e[c],t[c]))return!1}return!0}function Xd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kd(e,t){var n=Xd(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xd(n)}}function Zd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Jd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Vs(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Vs(e.document)}return t}function qo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Ry=Hn&&"documentMode"in document&&11>=document.documentMode,ji=null,Ho=null,kr=null,$o=!1;function eh(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$o||ji==null||ji!==Vs(i)||(i=ji,"selectionStart"in i&&qo(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),kr&&Cr(kr,i)||(kr=i,i=Pl(Ho,"onSelect"),0<i.length&&(t=new Zs("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ji)))}function qa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _i={animationend:qa("Animation","AnimationEnd"),animationiteration:qa("Animation","AnimationIteration"),animationstart:qa("Animation","AnimationStart"),transitionrun:qa("Transition","TransitionRun"),transitionstart:qa("Transition","TransitionStart"),transitioncancel:qa("Transition","TransitionCancel"),transitionend:qa("Transition","TransitionEnd")},Go={},th={};Hn&&(th=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);function Ha(e){if(Go[e])return Go[e];if(!_i[e])return e;var t=_i[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in th)return Go[e]=t[n];return e}var nh=Ha("animationend"),ah=Ha("animationiteration"),ih=Ha("animationstart"),Dy=Ha("transitionrun"),My=Ha("transitionstart"),Oy=Ha("transitioncancel"),rh=Ha("transitionend"),sh=new Map,Wo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wo.push("scrollEnd");function jn(e,t){sh.set(e,t),La(t,[e])}var lh=new WeakMap;function dn(e,t){if(typeof e=="object"&&e!==null){var n=lh.get(e);return n!==void 0?n:(t={value:e,source:t,stack:wd(t)},lh.set(e,t),t)}return{value:e,source:t,stack:wd(t)}}var hn=[],wi=0,Fo=0;function tl(){for(var e=wi,t=Fo=wi=0;t<e;){var n=hn[t];hn[t++]=null;var i=hn[t];hn[t++]=null;var c=hn[t];hn[t++]=null;var h=hn[t];if(hn[t++]=null,i!==null&&c!==null){var g=i.pending;g===null?c.next=c:(c.next=g.next,g.next=c),i.pending=c}h!==0&&oh(n,c,h)}}function nl(e,t,n,i){hn[wi++]=e,hn[wi++]=t,hn[wi++]=n,hn[wi++]=i,Fo|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Io(e,t,n,i){return nl(e,t,n,i),al(e)}function Si(e,t){return nl(e,null,null,t),al(e)}function oh(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var c=!1,h=e.return;h!==null;)h.childLanes|=n,i=h.alternate,i!==null&&(i.childLanes|=n),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(c=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,c&&t!==null&&(c=31-se(n),e=h.hiddenUpdates,i=e[c],i===null?e[c]=[t]:i.push(t),t.lane=n|536870912),h):null}function al(e){if(50<Kr)throw Kr=0,Zc=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ci={};function Uy(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(e,t,n,i){return new Uy(e,t,n,i)}function Vo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $n(e,t){var n=e.alternate;return n===null?(n=Jt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function ch(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function il(e,t,n,i,c,h){var g=0;if(i=e,typeof e=="function")Vo(e)&&(g=1);else if(typeof e=="string")g=N0(e,n,R.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case be:return e=Jt(31,n,t,c),e.elementType=be,e.lanes=h,e;case b:return $a(n.children,c,h,t);case q:g=8,c|=24;break;case L:return e=Jt(12,n,t,c|2),e.elementType=L,e.lanes=h,e;case ae:return e=Jt(13,n,t,c),e.elementType=ae,e.lanes=h,e;case de:return e=Jt(19,n,t,c),e.elementType=de,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:case G:g=10;break e;case oe:g=9;break e;case te:g=11;break e;case he:g=14;break e;case qe:g=16,i=null;break e}g=29,n=Error(l(130,e===null?"null":typeof e,"")),i=null}return t=Jt(g,n,t,c),t.elementType=e,t.type=i,t.lanes=h,t}function $a(e,t,n,i){return e=Jt(7,e,i,t),e.lanes=n,e}function Yo(e,t,n){return e=Jt(6,e,null,t),e.lanes=n,e}function Qo(e,t,n){return t=Jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ki=[],Ti=0,rl=null,sl=0,fn=[],pn=0,Ga=null,Gn=1,Wn="";function Wa(e,t){ki[Ti++]=sl,ki[Ti++]=rl,rl=e,sl=t}function uh(e,t,n){fn[pn++]=Gn,fn[pn++]=Wn,fn[pn++]=Ga,Ga=e;var i=Gn;e=Wn;var c=32-se(i)-1;i&=~(1<<c),n+=1;var h=32-se(t)+c;if(30<h){var g=c-c%5;h=(i&(1<<g)-1).toString(32),i>>=g,c-=g,Gn=1<<32-se(t)+c|n<<c|i,Wn=h+e}else Gn=1<<h|n<<c|i,Wn=e}function Xo(e){e.return!==null&&(Wa(e,1),uh(e,1,0))}function Ko(e){for(;e===rl;)rl=ki[--Ti],ki[Ti]=null,sl=ki[--Ti],ki[Ti]=null;for(;e===Ga;)Ga=fn[--pn],fn[pn]=null,Wn=fn[--pn],fn[pn]=null,Gn=fn[--pn],fn[pn]=null}var Ht=null,ft=null,Fe=!1,Fa=null,zn=!1,Zo=Error(l(519));function Ia(e){var t=Error(l(418,""));throw zr(dn(t,e)),Zo}function dh(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Ge]=e,t[Pe]=i,n){case"dialog":Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":case"embed":Ne("load",t);break;case"video":case"audio":for(n=0;n<Jr.length;n++)Ne(Jr[n],t);break;case"source":Ne("error",t);break;case"img":case"image":case"link":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"input":Ne("invalid",t),kd(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Is(t);break;case"select":Ne("invalid",t);break;case"textarea":Ne("invalid",t),Ed(t,i.value,i.defaultValue,i.children),Is(t)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||zp(t.textContent,n)?(i.popover!=null&&(Ne("beforetoggle",t),Ne("toggle",t)),i.onScroll!=null&&Ne("scroll",t),i.onScrollEnd!=null&&Ne("scrollend",t),i.onClick!=null&&(t.onclick=ql),t=!0):t=!1,t||Ia(e)}function hh(e){for(Ht=e.return;Ht;)switch(Ht.tag){case 5:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Ht=Ht.return}}function Tr(e){if(e!==Ht)return!1;if(!Fe)return hh(e),Fe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||pu(e.type,e.memoizedProps)),n=!n),n&&ft&&Ia(e),hh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){ft=wn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}ft=null}}else t===27?(t=ft,Ca(e.type)?(e=xu,xu=null,ft=e):ft=t):ft=Ht?wn(e.stateNode.nextSibling):null;return!0}function Er(){ft=Ht=null,Fe=!1}function fh(){var e=Fa;return e!==null&&(Qt===null?Qt=e:Qt.push.apply(Qt,e),Fa=null),e}function zr(e){Fa===null?Fa=[e]:Fa.push(e)}var Jo=N(null),Va=null,Fn=null;function ua(e,t,n){j(Jo,t._currentValue),t._currentValue=n}function In(e){e._currentValue=Jo.current,V(Jo)}function ec(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function tc(e,t,n,i){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var h=c.dependencies;if(h!==null){var g=c.child;h=h.firstContext;e:for(;h!==null;){var v=h;h=c;for(var E=0;E<t.length;E++)if(v.context===t[E]){h.lanes|=n,v=h.alternate,v!==null&&(v.lanes|=n),ec(h.return,n,e),i||(g=null);break e}h=v.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(l(341));g.lanes|=n,h=g.alternate,h!==null&&(h.lanes|=n),ec(g,n,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Ar(e,t,n,i){e=null;for(var c=t,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(l(387));if(g=g.memoizedProps,g!==null){var v=c.type;Zt(c.pendingProps.value,g.value)||(e!==null?e.push(v):e=[v])}}else if(c===Te.current){if(g=c.alternate,g===null)throw Error(l(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(rs):e=[rs])}c=c.return}e!==null&&tc(t,e,n,i),t.flags|=262144}function ll(e){for(e=e.firstContext;e!==null;){if(!Zt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ya(e){Va=e,Fn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Lt(e){return ph(Va,e)}function ol(e,t){return Va===null&&Ya(e),ph(e,t)}function ph(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Fn===null){if(e===null)throw Error(l(308));Fn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Fn=Fn.next=t;return n}var By=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Ny=o.unstable_scheduleCallback,Ly=o.unstable_NormalPriority,wt={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nc(){return{controller:new By,data:new Map,refCount:0}}function Rr(e){e.refCount--,e.refCount===0&&Ny(Ly,function(){e.controller.abort()})}var Dr=null,ac=0,Ei=0,zi=null;function Py(e,t){if(Dr===null){var n=Dr=[];ac=0,Ei=ru(),zi={status:"pending",value:void 0,then:function(i){n.push(i)}}}return ac++,t.then(gh,gh),t}function gh(){if(--ac===0&&Dr!==null){zi!==null&&(zi.status="fulfilled");var e=Dr;Dr=null,Ei=0,zi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function qy(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var c=0;c<n.length;c++)(0,n[c])(t)},function(c){for(i.status="rejected",i.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),i}var mh=W.S;W.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Py(e,t),mh!==null&&mh(e,t)};var Qa=N(null);function ic(){var e=Qa.current;return e!==null?e:at.pooledCache}function cl(e,t){t===null?j(Qa,Qa.current):j(Qa,t.pool)}function yh(){var e=ic();return e===null?null:{parent:wt._currentValue,pool:e}}var Mr=Error(l(460)),xh=Error(l(474)),ul=Error(l(542)),rc={then:function(){}};function vh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function dl(){}function bh(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(dl,dl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_h(e),e;default:if(typeof t.status=="string")t.then(dl,dl);else{if(e=at,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=i}},function(i){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_h(e),e}throw Or=t,Mr}}var Or=null;function jh(){if(Or===null)throw Error(l(459));var e=Or;return Or=null,e}function _h(e){if(e===Mr||e===ul)throw Error(l(483))}var da=!1;function sc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ha(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function fa(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Ve&2)!==0){var c=i.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),i.pending=t,t=al(e),oh(e,null,n),t}return nl(e,i,t,n),al(e)}function Ur(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Xe(e,n)}}function oc(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var c=null,h=null;if(n=n.firstBaseUpdate,n!==null){do{var g={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};h===null?c=h=g:h=h.next=g,n=n.next}while(n!==null);h===null?c=h=t:h=h.next=t}else c=h=t;n={baseState:i.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var cc=!1;function Br(){if(cc){var e=zi;if(e!==null)throw e}}function Nr(e,t,n,i){cc=!1;var c=e.updateQueue;da=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var E=v,P=E.next;E.next=null,g===null?h=P:g.next=P,g=E;var I=e.alternate;I!==null&&(I=I.updateQueue,v=I.lastBaseUpdate,v!==g&&(v===null?I.firstBaseUpdate=P:v.next=P,I.lastBaseUpdate=E))}if(h!==null){var K=c.baseState;g=0,I=P=E=null,v=h;do{var H=v.lane&-536870913,$=H!==v.lane;if($?(He&H)===H:(i&H)===H){H!==0&&H===Ei&&(cc=!0),I!==null&&(I=I.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var Ce=e,_e=v;H=t;var Je=n;switch(_e.tag){case 1:if(Ce=_e.payload,typeof Ce=="function"){K=Ce.call(Je,K,H);break e}K=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=_e.payload,H=typeof Ce=="function"?Ce.call(Je,K,H):Ce,H==null)break e;K=x({},K,H);break e;case 2:da=!0}}H=v.callback,H!==null&&(e.flags|=64,$&&(e.flags|=8192),$=c.callbacks,$===null?c.callbacks=[H]:$.push(H))}else $={lane:H,tag:v.tag,payload:v.payload,callback:v.callback,next:null},I===null?(P=I=$,E=K):I=I.next=$,g|=H;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;$=v,v=$.next,$.next=null,c.lastBaseUpdate=$,c.shared.pending=null}}while(!0);I===null&&(E=K),c.baseState=E,c.firstBaseUpdate=P,c.lastBaseUpdate=I,h===null&&(c.shared.lanes=0),ja|=g,e.lanes=g,e.memoizedState=K}}function wh(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Sh(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)wh(n[e],t)}var Ai=N(null),hl=N(0);function Ch(e,t){e=Jn,j(hl,e),j(Ai,t),Jn=e|t.baseLanes}function uc(){j(hl,Jn),j(Ai,Ai.current)}function dc(){Jn=hl.current,V(Ai),V(hl)}var pa=0,De=null,Ke=null,bt=null,fl=!1,Ri=!1,Xa=!1,pl=0,Lr=0,Di=null,Hy=0;function yt(){throw Error(l(321))}function hc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zt(e[n],t[n]))return!1;return!0}function fc(e,t,n,i,c,h){return pa=h,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,W.H=e===null||e.memoizedState===null?cf:uf,Xa=!1,h=n(i,c),Xa=!1,Ri&&(h=Th(t,n,i,c)),kh(e),h}function kh(e){W.H=bl;var t=Ke!==null&&Ke.next!==null;if(pa=0,bt=Ke=De=null,fl=!1,Lr=0,Di=null,t)throw Error(l(300));e===null||zt||(e=e.dependencies,e!==null&&ll(e)&&(zt=!0))}function Th(e,t,n,i){De=e;var c=0;do{if(Ri&&(Di=null),Lr=0,Ri=!1,25<=c)throw Error(l(301));if(c+=1,bt=Ke=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}W.H=Yy,h=t(n,i)}while(Ri);return h}function $y(){var e=W.H,t=e.useState()[0];return t=typeof t.then=="function"?Pr(t):t,e=e.useState()[0],(Ke!==null?Ke.memoizedState:null)!==e&&(De.flags|=1024),t}function pc(){var e=pl!==0;return pl=0,e}function gc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function mc(e){if(fl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}fl=!1}pa=0,bt=Ke=De=null,Ri=!1,Lr=pl=0,Di=null}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?De.memoizedState=bt=e:bt=bt.next=e,bt}function jt(){if(Ke===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=bt===null?De.memoizedState:bt.next;if(t!==null)bt=t,Ke=e;else{if(e===null)throw De.alternate===null?Error(l(467)):Error(l(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},bt===null?De.memoizedState=bt=e:bt=bt.next=e}return bt}function yc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pr(e){var t=Lr;return Lr+=1,Di===null&&(Di=[]),e=bh(Di,e,t),t=De,(bt===null?t.memoizedState:bt.next)===null&&(t=t.alternate,W.H=t===null||t.memoizedState===null?cf:uf),e}function gl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Pr(e);if(e.$$typeof===G)return Lt(e)}throw Error(l(438,String(e)))}function xc(e){var t=null,n=De.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=De.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=yc(),De.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=ie;return t.index++,n}function Vn(e,t){return typeof t=="function"?t(e):t}function ml(e){var t=jt();return vc(t,Ke,e)}function vc(e,t,n){var i=e.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=n;var c=e.baseQueue,h=i.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}t.baseQueue=c=h,i.pending=null}if(h=e.baseState,c===null)e.memoizedState=h;else{t=c.next;var v=g=null,E=null,P=t,I=!1;do{var K=P.lane&-536870913;if(K!==P.lane?(He&K)===K:(pa&K)===K){var H=P.revertLane;if(H===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),K===Ei&&(I=!0);else if((pa&H)===H){P=P.next,H===Ei&&(I=!0);continue}else K={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},E===null?(v=E=K,g=h):E=E.next=K,De.lanes|=H,ja|=H;K=P.action,Xa&&n(h,K),h=P.hasEagerState?P.eagerState:n(h,K)}else H={lane:K,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},E===null?(v=E=H,g=h):E=E.next=H,De.lanes|=K,ja|=K;P=P.next}while(P!==null&&P!==t);if(E===null?g=h:E.next=v,!Zt(h,e.memoizedState)&&(zt=!0,I&&(n=zi,n!==null)))throw n;e.memoizedState=h,e.baseState=g,e.baseQueue=E,i.lastRenderedState=h}return c===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function bc(e){var t=jt(),n=t.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=e;var i=n.dispatch,c=n.pending,h=t.memoizedState;if(c!==null){n.pending=null;var g=c=c.next;do h=e(h,g.action),g=g.next;while(g!==c);Zt(h,t.memoizedState)||(zt=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),n.lastRenderedState=h}return[h,i]}function Eh(e,t,n){var i=De,c=jt(),h=Fe;if(h){if(n===void 0)throw Error(l(407));n=n()}else n=t();var g=!Zt((Ke||c).memoizedState,n);g&&(c.memoizedState=n,zt=!0),c=c.queue;var v=Rh.bind(null,i,c,e);if(qr(2048,8,v,[e]),c.getSnapshot!==t||g||bt!==null&&bt.memoizedState.tag&1){if(i.flags|=2048,Mi(9,yl(),Ah.bind(null,i,c,n,t),null),at===null)throw Error(l(349));h||(pa&124)!==0||zh(i,t,n)}return n}function zh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=De.updateQueue,t===null?(t=yc(),De.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ah(e,t,n,i){t.value=n,t.getSnapshot=i,Dh(t)&&Mh(e)}function Rh(e,t,n){return n(function(){Dh(t)&&Mh(e)})}function Dh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zt(e,n)}catch{return!0}}function Mh(e){var t=Si(e,2);t!==null&&rn(t,e,2)}function jc(e){var t=Vt();if(typeof e=="function"){var n=e;if(e=n(),Xa){D(!0);try{n()}finally{D(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:e},t}function Oh(e,t,n,i){return e.baseState=n,vc(e,Ke,typeof i=="function"?i:Vn)}function Gy(e,t,n,i,c){if(vl(e))throw Error(l(485));if(e=t.action,e!==null){var h={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};W.T!==null?n(!0):h.isTransition=!1,i(h),n=t.pending,n===null?(h.next=t.pending=h,Uh(t,h)):(h.next=n.next,t.pending=n.next=h)}}function Uh(e,t){var n=t.action,i=t.payload,c=e.state;if(t.isTransition){var h=W.T,g={};W.T=g;try{var v=n(c,i),E=W.S;E!==null&&E(g,v),Bh(e,t,v)}catch(P){_c(e,t,P)}finally{W.T=h}}else try{h=n(c,i),Bh(e,t,h)}catch(P){_c(e,t,P)}}function Bh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Nh(e,t,i)},function(i){return _c(e,t,i)}):Nh(e,t,n)}function Nh(e,t,n){t.status="fulfilled",t.value=n,Lh(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Uh(e,n)))}function _c(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,Lh(t),t=t.next;while(t!==i)}e.action=null}function Lh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ph(e,t){return t}function qh(e,t){if(Fe){var n=at.formState;if(n!==null){e:{var i=De;if(Fe){if(ft){t:{for(var c=ft,h=zn;c.nodeType!==8;){if(!h){c=null;break t}if(c=wn(c.nextSibling),c===null){c=null;break t}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){ft=wn(c.nextSibling),i=c.data==="F!";break e}}Ia(i)}i=!1}i&&(t=n[0])}}return n=Vt(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ph,lastRenderedState:t},n.queue=i,n=sf.bind(null,De,i),i.dispatch=n,i=jc(!1),h=Tc.bind(null,De,!1,i.queue),i=Vt(),c={state:t,dispatch:null,action:e,pending:null},i.queue=c,n=Gy.bind(null,De,c,h,n),c.dispatch=n,i.memoizedState=e,[t,n,!1]}function Hh(e){var t=jt();return $h(t,Ke,e)}function $h(e,t,n){if(t=vc(e,t,Ph)[0],e=ml(Vn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Pr(t)}catch(g){throw g===Mr?ul:g}else i=t;t=jt();var c=t.queue,h=c.dispatch;return n!==t.memoizedState&&(De.flags|=2048,Mi(9,yl(),Wy.bind(null,c,n),null)),[i,h,e]}function Wy(e,t){e.action=t}function Gh(e){var t=jt(),n=Ke;if(n!==null)return $h(t,n,e);jt(),t=t.memoizedState,n=jt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Mi(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=De.updateQueue,t===null&&(t=yc(),De.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function yl(){return{destroy:void 0,resource:void 0}}function Wh(){return jt().memoizedState}function xl(e,t,n,i){var c=Vt();i=i===void 0?null:i,De.flags|=e,c.memoizedState=Mi(1|t,yl(),n,i)}function qr(e,t,n,i){var c=jt();i=i===void 0?null:i;var h=c.memoizedState.inst;Ke!==null&&i!==null&&hc(i,Ke.memoizedState.deps)?c.memoizedState=Mi(t,h,n,i):(De.flags|=e,c.memoizedState=Mi(1|t,h,n,i))}function Fh(e,t){xl(8390656,8,e,t)}function Ih(e,t){qr(2048,8,e,t)}function Vh(e,t){return qr(4,2,e,t)}function Yh(e,t){return qr(4,4,e,t)}function Qh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Xh(e,t,n){n=n!=null?n.concat([e]):null,qr(4,4,Qh.bind(null,t,e),n)}function wc(){}function Kh(e,t){var n=jt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&hc(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Zh(e,t){var n=jt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&hc(t,i[1]))return i[0];if(i=e(),Xa){D(!0);try{e()}finally{D(!1)}}return n.memoizedState=[i,t],i}function Sc(e,t,n){return n===void 0||(pa&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=np(),De.lanes|=e,ja|=e,n)}function Jh(e,t,n,i){return Zt(n,t)?n:Ai.current!==null?(e=Sc(e,n,i),Zt(e,t)||(zt=!0),e):(pa&42)===0?(zt=!0,e.memoizedState=n):(e=np(),De.lanes|=e,ja|=e,t)}function ef(e,t,n,i,c){var h=J.p;J.p=h!==0&&8>h?h:8;var g=W.T,v={};W.T=v,Tc(e,!1,t,n);try{var E=c(),P=W.S;if(P!==null&&P(v,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var I=qy(E,i);Hr(e,t,I,an(e))}else Hr(e,t,i,an(e))}catch(K){Hr(e,t,{then:function(){},status:"rejected",reason:K},an())}finally{J.p=h,W.T=g}}function Fy(){}function Cc(e,t,n,i){if(e.tag!==5)throw Error(l(476));var c=tf(e).queue;ef(e,c,t,ge,n===null?Fy:function(){return nf(e),n(i)})}function tf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:ge},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function nf(e){var t=tf(e).next.queue;Hr(e,t,{},an())}function kc(){return Lt(rs)}function af(){return jt().memoizedState}function rf(){return jt().memoizedState}function Iy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=an();e=ha(n);var i=fa(t,e,n);i!==null&&(rn(i,t,n),Ur(i,t,n)),t={cache:nc()},e.payload=t;return}t=t.return}}function Vy(e,t,n){var i=an();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},vl(e)?lf(t,n):(n=Io(e,t,n,i),n!==null&&(rn(n,e,i),of(n,t,i)))}function sf(e,t,n){var i=an();Hr(e,t,n,i)}function Hr(e,t,n,i){var c={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(vl(e))lf(t,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var g=t.lastRenderedState,v=h(g,n);if(c.hasEagerState=!0,c.eagerState=v,Zt(v,g))return nl(e,t,c,0),at===null&&tl(),!1}catch{}finally{}if(n=Io(e,t,c,i),n!==null)return rn(n,e,i),of(n,t,i),!0}return!1}function Tc(e,t,n,i){if(i={lane:2,revertLane:ru(),action:i,hasEagerState:!1,eagerState:null,next:null},vl(e)){if(t)throw Error(l(479))}else t=Io(e,n,i,2),t!==null&&rn(t,e,2)}function vl(e){var t=e.alternate;return e===De||t!==null&&t===De}function lf(e,t){Ri=fl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function of(e,t,n){if((n&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Xe(e,n)}}var bl={readContext:Lt,use:gl,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt},cf={readContext:Lt,use:gl,useCallback:function(e,t){return Vt().memoizedState=[e,t===void 0?null:t],e},useContext:Lt,useEffect:Fh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,xl(4194308,4,Qh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xl(4194308,4,e,t)},useInsertionEffect:function(e,t){xl(4,2,e,t)},useMemo:function(e,t){var n=Vt();t=t===void 0?null:t;var i=e();if(Xa){D(!0);try{e()}finally{D(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Vt();if(n!==void 0){var c=n(t);if(Xa){D(!0);try{n(t)}finally{D(!1)}}}else c=t;return i.memoizedState=i.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},i.queue=e,e=e.dispatch=Vy.bind(null,De,e),[i.memoizedState,e]},useRef:function(e){var t=Vt();return e={current:e},t.memoizedState=e},useState:function(e){e=jc(e);var t=e.queue,n=sf.bind(null,De,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:wc,useDeferredValue:function(e,t){var n=Vt();return Sc(n,e,t)},useTransition:function(){var e=jc(!1);return e=ef.bind(null,De,e.queue,!0,!1),Vt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=De,c=Vt();if(Fe){if(n===void 0)throw Error(l(407));n=n()}else{if(n=t(),at===null)throw Error(l(349));(He&124)!==0||zh(i,t,n)}c.memoizedState=n;var h={value:n,getSnapshot:t};return c.queue=h,Fh(Rh.bind(null,i,h,e),[e]),i.flags|=2048,Mi(9,yl(),Ah.bind(null,i,h,n,t),null),n},useId:function(){var e=Vt(),t=at.identifierPrefix;if(Fe){var n=Wn,i=Gn;n=(i&~(1<<32-se(i)-1)).toString(32)+n,t=""+t+"R"+n,n=pl++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=Hy++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:kc,useFormState:qh,useActionState:qh,useOptimistic:function(e){var t=Vt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Tc.bind(null,De,!0,n),n.dispatch=t,[e,t]},useMemoCache:xc,useCacheRefresh:function(){return Vt().memoizedState=Iy.bind(null,De)}},uf={readContext:Lt,use:gl,useCallback:Kh,useContext:Lt,useEffect:Ih,useImperativeHandle:Xh,useInsertionEffect:Vh,useLayoutEffect:Yh,useMemo:Zh,useReducer:ml,useRef:Wh,useState:function(){return ml(Vn)},useDebugValue:wc,useDeferredValue:function(e,t){var n=jt();return Jh(n,Ke.memoizedState,e,t)},useTransition:function(){var e=ml(Vn)[0],t=jt().memoizedState;return[typeof e=="boolean"?e:Pr(e),t]},useSyncExternalStore:Eh,useId:af,useHostTransitionStatus:kc,useFormState:Hh,useActionState:Hh,useOptimistic:function(e,t){var n=jt();return Oh(n,Ke,e,t)},useMemoCache:xc,useCacheRefresh:rf},Yy={readContext:Lt,use:gl,useCallback:Kh,useContext:Lt,useEffect:Ih,useImperativeHandle:Xh,useInsertionEffect:Vh,useLayoutEffect:Yh,useMemo:Zh,useReducer:bc,useRef:Wh,useState:function(){return bc(Vn)},useDebugValue:wc,useDeferredValue:function(e,t){var n=jt();return Ke===null?Sc(n,e,t):Jh(n,Ke.memoizedState,e,t)},useTransition:function(){var e=bc(Vn)[0],t=jt().memoizedState;return[typeof e=="boolean"?e:Pr(e),t]},useSyncExternalStore:Eh,useId:af,useHostTransitionStatus:kc,useFormState:Gh,useActionState:Gh,useOptimistic:function(e,t){var n=jt();return Ke!==null?Oh(n,Ke,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:xc,useCacheRefresh:rf},Oi=null,$r=0;function jl(e){var t=$r;return $r+=1,Oi===null&&(Oi=[]),bh(Oi,e,t)}function Gr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function _l(e,t){throw t.$$typeof===w?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function df(e){var t=e._init;return t(e._payload)}function hf(e){function t(O,M){if(e){var U=O.deletions;U===null?(O.deletions=[M],O.flags|=16):U.push(M)}}function n(O,M){if(!e)return null;for(;M!==null;)t(O,M),M=M.sibling;return null}function i(O){for(var M=new Map;O!==null;)O.key!==null?M.set(O.key,O):M.set(O.index,O),O=O.sibling;return M}function c(O,M){return O=$n(O,M),O.index=0,O.sibling=null,O}function h(O,M,U){return O.index=U,e?(U=O.alternate,U!==null?(U=U.index,U<M?(O.flags|=67108866,M):U):(O.flags|=67108866,M)):(O.flags|=1048576,M)}function g(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function v(O,M,U,Q){return M===null||M.tag!==6?(M=Yo(U,O.mode,Q),M.return=O,M):(M=c(M,U),M.return=O,M)}function E(O,M,U,Q){var fe=U.type;return fe===b?I(O,M,U.props.children,Q,U.key):M!==null&&(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===qe&&df(fe)===M.type)?(M=c(M,U.props),Gr(M,U),M.return=O,M):(M=il(U.type,U.key,U.props,null,O.mode,Q),Gr(M,U),M.return=O,M)}function P(O,M,U,Q){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=Qo(U,O.mode,Q),M.return=O,M):(M=c(M,U.children||[]),M.return=O,M)}function I(O,M,U,Q,fe){return M===null||M.tag!==7?(M=$a(U,O.mode,Q,fe),M.return=O,M):(M=c(M,U),M.return=O,M)}function K(O,M,U){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Yo(""+M,O.mode,U),M.return=O,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case k:return U=il(M.type,M.key,M.props,null,O.mode,U),Gr(U,M),U.return=O,U;case S:return M=Qo(M,O.mode,U),M.return=O,M;case qe:var Q=M._init;return M=Q(M._payload),K(O,M,U)}if(ke(M)||$e(M))return M=$a(M,O.mode,U,null),M.return=O,M;if(typeof M.then=="function")return K(O,jl(M),U);if(M.$$typeof===G)return K(O,ol(O,M),U);_l(O,M)}return null}function H(O,M,U,Q){var fe=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return fe!==null?null:v(O,M,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case k:return U.key===fe?E(O,M,U,Q):null;case S:return U.key===fe?P(O,M,U,Q):null;case qe:return fe=U._init,U=fe(U._payload),H(O,M,U,Q)}if(ke(U)||$e(U))return fe!==null?null:I(O,M,U,Q,null);if(typeof U.then=="function")return H(O,M,jl(U),Q);if(U.$$typeof===G)return H(O,M,ol(O,U),Q);_l(O,U)}return null}function $(O,M,U,Q,fe){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return O=O.get(U)||null,v(M,O,""+Q,fe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case k:return O=O.get(Q.key===null?U:Q.key)||null,E(M,O,Q,fe);case S:return O=O.get(Q.key===null?U:Q.key)||null,P(M,O,Q,fe);case qe:var Oe=Q._init;return Q=Oe(Q._payload),$(O,M,U,Q,fe)}if(ke(Q)||$e(Q))return O=O.get(U)||null,I(M,O,Q,fe,null);if(typeof Q.then=="function")return $(O,M,U,jl(Q),fe);if(Q.$$typeof===G)return $(O,M,U,ol(M,Q),fe);_l(M,Q)}return null}function Ce(O,M,U,Q){for(var fe=null,Oe=null,ve=M,we=M=0,Rt=null;ve!==null&&we<U.length;we++){ve.index>we?(Rt=ve,ve=null):Rt=ve.sibling;var We=H(O,ve,U[we],Q);if(We===null){ve===null&&(ve=Rt);break}e&&ve&&We.alternate===null&&t(O,ve),M=h(We,M,we),Oe===null?fe=We:Oe.sibling=We,Oe=We,ve=Rt}if(we===U.length)return n(O,ve),Fe&&Wa(O,we),fe;if(ve===null){for(;we<U.length;we++)ve=K(O,U[we],Q),ve!==null&&(M=h(ve,M,we),Oe===null?fe=ve:Oe.sibling=ve,Oe=ve);return Fe&&Wa(O,we),fe}for(ve=i(ve);we<U.length;we++)Rt=$(ve,O,we,U[we],Q),Rt!==null&&(e&&Rt.alternate!==null&&ve.delete(Rt.key===null?we:Rt.key),M=h(Rt,M,we),Oe===null?fe=Rt:Oe.sibling=Rt,Oe=Rt);return e&&ve.forEach(function(Aa){return t(O,Aa)}),Fe&&Wa(O,we),fe}function _e(O,M,U,Q){if(U==null)throw Error(l(151));for(var fe=null,Oe=null,ve=M,we=M=0,Rt=null,We=U.next();ve!==null&&!We.done;we++,We=U.next()){ve.index>we?(Rt=ve,ve=null):Rt=ve.sibling;var Aa=H(O,ve,We.value,Q);if(Aa===null){ve===null&&(ve=Rt);break}e&&ve&&Aa.alternate===null&&t(O,ve),M=h(Aa,M,we),Oe===null?fe=Aa:Oe.sibling=Aa,Oe=Aa,ve=Rt}if(We.done)return n(O,ve),Fe&&Wa(O,we),fe;if(ve===null){for(;!We.done;we++,We=U.next())We=K(O,We.value,Q),We!==null&&(M=h(We,M,we),Oe===null?fe=We:Oe.sibling=We,Oe=We);return Fe&&Wa(O,we),fe}for(ve=i(ve);!We.done;we++,We=U.next())We=$(ve,O,we,We.value,Q),We!==null&&(e&&We.alternate!==null&&ve.delete(We.key===null?we:We.key),M=h(We,M,we),Oe===null?fe=We:Oe.sibling=We,Oe=We);return e&&ve.forEach(function(Q0){return t(O,Q0)}),Fe&&Wa(O,we),fe}function Je(O,M,U,Q){if(typeof U=="object"&&U!==null&&U.type===b&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case k:e:{for(var fe=U.key;M!==null;){if(M.key===fe){if(fe=U.type,fe===b){if(M.tag===7){n(O,M.sibling),Q=c(M,U.props.children),Q.return=O,O=Q;break e}}else if(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===qe&&df(fe)===M.type){n(O,M.sibling),Q=c(M,U.props),Gr(Q,U),Q.return=O,O=Q;break e}n(O,M);break}else t(O,M);M=M.sibling}U.type===b?(Q=$a(U.props.children,O.mode,Q,U.key),Q.return=O,O=Q):(Q=il(U.type,U.key,U.props,null,O.mode,Q),Gr(Q,U),Q.return=O,O=Q)}return g(O);case S:e:{for(fe=U.key;M!==null;){if(M.key===fe)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){n(O,M.sibling),Q=c(M,U.children||[]),Q.return=O,O=Q;break e}else{n(O,M);break}else t(O,M);M=M.sibling}Q=Qo(U,O.mode,Q),Q.return=O,O=Q}return g(O);case qe:return fe=U._init,U=fe(U._payload),Je(O,M,U,Q)}if(ke(U))return Ce(O,M,U,Q);if($e(U)){if(fe=$e(U),typeof fe!="function")throw Error(l(150));return U=fe.call(U),_e(O,M,U,Q)}if(typeof U.then=="function")return Je(O,M,jl(U),Q);if(U.$$typeof===G)return Je(O,M,ol(O,U),Q);_l(O,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,M!==null&&M.tag===6?(n(O,M.sibling),Q=c(M,U),Q.return=O,O=Q):(n(O,M),Q=Yo(U,O.mode,Q),Q.return=O,O=Q),g(O)):n(O,M)}return function(O,M,U,Q){try{$r=0;var fe=Je(O,M,U,Q);return Oi=null,fe}catch(ve){if(ve===Mr||ve===ul)throw ve;var Oe=Jt(29,ve,null,O.mode);return Oe.lanes=Q,Oe.return=O,Oe}finally{}}}var Ui=hf(!0),ff=hf(!1),gn=N(null),An=null;function ga(e){var t=e.alternate;j(St,St.current&1),j(gn,e),An===null&&(t===null||Ai.current!==null||t.memoizedState!==null)&&(An=e)}function pf(e){if(e.tag===22){if(j(St,St.current),j(gn,e),An===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(An=e)}}else ma()}function ma(){j(St,St.current),j(gn,gn.current)}function Yn(e){V(gn),An===e&&(An=null),V(St)}var St=N(0);function wl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||yu(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ec(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:x({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var zc={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=an(),c=ha(i);c.payload=t,n!=null&&(c.callback=n),t=fa(e,c,i),t!==null&&(rn(t,e,i),Ur(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=an(),c=ha(i);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=fa(e,c,i),t!==null&&(rn(t,e,i),Ur(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=an(),i=ha(n);i.tag=2,t!=null&&(i.callback=t),t=fa(e,i,n),t!==null&&(rn(t,e,n),Ur(t,e,n))}};function gf(e,t,n,i,c,h,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,h,g):t.prototype&&t.prototype.isPureReactComponent?!Cr(n,i)||!Cr(c,h):!0}function mf(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&zc.enqueueReplaceState(t,t.state,null)}function Ka(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=x({},n));for(var c in e)n[c]===void 0&&(n[c]=e[c])}return n}var Sl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function yf(e){Sl(e)}function xf(e){console.error(e)}function vf(e){Sl(e)}function Cl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function bf(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Ac(e,t,n){return n=ha(n),n.tag=3,n.payload={element:null},n.callback=function(){Cl(e,t)},n}function jf(e){return e=ha(e),e.tag=3,e}function _f(e,t,n,i){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var h=i.value;e.payload=function(){return c(h)},e.callback=function(){bf(t,n,i)}}var g=n.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){bf(t,n,i),typeof c!="function"&&(_a===null?_a=new Set([this]):_a.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})})}function Qy(e,t,n,i,c){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Ar(t,n,c,!0),n=gn.current,n!==null){switch(n.tag){case 13:return An===null?eu():n.alternate===null&&pt===0&&(pt=3),n.flags&=-257,n.flags|=65536,n.lanes=c,i===rc?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),nu(e,i,c)),!1;case 22:return n.flags|=65536,i===rc?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),nu(e,i,c)),!1}throw Error(l(435,n.tag))}return nu(e,i,c),eu(),!1}if(Fe)return t=gn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,i!==Zo&&(e=Error(l(422),{cause:i}),zr(dn(e,n)))):(i!==Zo&&(t=Error(l(423),{cause:i}),zr(dn(t,n))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,i=dn(i,n),c=Ac(e.stateNode,i,c),oc(e,c),pt!==4&&(pt=2)),!1;var h=Error(l(520),{cause:i});if(h=dn(h,n),Xr===null?Xr=[h]:Xr.push(h),pt!==4&&(pt=2),t===null)return!0;i=dn(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=c&-c,n.lanes|=e,e=Ac(n.stateNode,i,e),oc(n,e),!1;case 1:if(t=n.type,h=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(_a===null||!_a.has(h))))return n.flags|=65536,c&=-c,n.lanes|=c,c=jf(c),_f(c,e,n,i),oc(n,c),!1}n=n.return}while(n!==null);return!1}var wf=Error(l(461)),zt=!1;function Ut(e,t,n,i){t.child=e===null?ff(t,null,n,i):Ui(t,e.child,n,i)}function Sf(e,t,n,i,c){n=n.render;var h=t.ref;if("ref"in i){var g={};for(var v in i)v!=="ref"&&(g[v]=i[v])}else g=i;return Ya(t),i=fc(e,t,n,g,h,c),v=pc(),e!==null&&!zt?(gc(e,t,c),Qn(e,t,c)):(Fe&&v&&Xo(t),t.flags|=1,Ut(e,t,i,c),t.child)}function Cf(e,t,n,i,c){if(e===null){var h=n.type;return typeof h=="function"&&!Vo(h)&&h.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=h,kf(e,t,h,i,c)):(e=il(n.type,null,i,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!Lc(e,c)){var g=h.memoizedProps;if(n=n.compare,n=n!==null?n:Cr,n(g,i)&&e.ref===t.ref)return Qn(e,t,c)}return t.flags|=1,e=$n(h,i),e.ref=t.ref,e.return=t,t.child=e}function kf(e,t,n,i,c){if(e!==null){var h=e.memoizedProps;if(Cr(h,i)&&e.ref===t.ref)if(zt=!1,t.pendingProps=i=h,Lc(e,c))(e.flags&131072)!==0&&(zt=!0);else return t.lanes=e.lanes,Qn(e,t,c)}return Rc(e,t,n,i,c)}function Tf(e,t,n){var i=t.pendingProps,c=i.children,h=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if((t.flags&128)!==0){if(i=h!==null?h.baseLanes|n:n,e!==null){for(c=t.child=e.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;t.childLanes=h&~i}else t.childLanes=0,t.child=null;return Ef(e,t,i,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&cl(t,h!==null?h.cachePool:null),h!==null?Ch(t,h):uc(),pf(t);else return t.lanes=t.childLanes=536870912,Ef(e,t,h!==null?h.baseLanes|n:n,n)}else h!==null?(cl(t,h.cachePool),Ch(t,h),ma(),t.memoizedState=null):(e!==null&&cl(t,null),uc(),ma());return Ut(e,t,c,n),t.child}function Ef(e,t,n,i){var c=ic();return c=c===null?null:{parent:wt._currentValue,pool:c},t.memoizedState={baseLanes:n,cachePool:c},e!==null&&cl(t,null),uc(),pf(t),e!==null&&Ar(e,t,i,!0),null}function kl(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(l(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Rc(e,t,n,i,c){return Ya(t),n=fc(e,t,n,i,void 0,c),i=pc(),e!==null&&!zt?(gc(e,t,c),Qn(e,t,c)):(Fe&&i&&Xo(t),t.flags|=1,Ut(e,t,n,c),t.child)}function zf(e,t,n,i,c,h){return Ya(t),t.updateQueue=null,n=Th(t,i,n,c),kh(e),i=pc(),e!==null&&!zt?(gc(e,t,h),Qn(e,t,h)):(Fe&&i&&Xo(t),t.flags|=1,Ut(e,t,n,h),t.child)}function Af(e,t,n,i,c){if(Ya(t),t.stateNode===null){var h=Ci,g=n.contextType;typeof g=="object"&&g!==null&&(h=Lt(g)),h=new n(i,h),t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=zc,t.stateNode=h,h._reactInternals=t,h=t.stateNode,h.props=i,h.state=t.memoizedState,h.refs={},sc(t),g=n.contextType,h.context=typeof g=="object"&&g!==null?Lt(g):Ci,h.state=t.memoizedState,g=n.getDerivedStateFromProps,typeof g=="function"&&(Ec(t,n,g,i),h.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&zc.enqueueReplaceState(h,h.state,null),Nr(t,i,h,c),Br(),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){h=t.stateNode;var v=t.memoizedProps,E=Ka(n,v);h.props=E;var P=h.context,I=n.contextType;g=Ci,typeof I=="object"&&I!==null&&(g=Lt(I));var K=n.getDerivedStateFromProps;I=typeof K=="function"||typeof h.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,I||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v||P!==g)&&mf(t,h,i,g),da=!1;var H=t.memoizedState;h.state=H,Nr(t,i,h,c),Br(),P=t.memoizedState,v||H!==P||da?(typeof K=="function"&&(Ec(t,n,K,i),P=t.memoizedState),(E=da||gf(t,n,E,i,H,P,g))?(I||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=P),h.props=i,h.state=P,h.context=g,i=E):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{h=t.stateNode,lc(e,t),g=t.memoizedProps,I=Ka(n,g),h.props=I,K=t.pendingProps,H=h.context,P=n.contextType,E=Ci,typeof P=="object"&&P!==null&&(E=Lt(P)),v=n.getDerivedStateFromProps,(P=typeof v=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==K||H!==E)&&mf(t,h,i,E),da=!1,H=t.memoizedState,h.state=H,Nr(t,i,h,c),Br();var $=t.memoizedState;g!==K||H!==$||da||e!==null&&e.dependencies!==null&&ll(e.dependencies)?(typeof v=="function"&&(Ec(t,n,v,i),$=t.memoizedState),(I=da||gf(t,n,I,i,H,$,E)||e!==null&&e.dependencies!==null&&ll(e.dependencies))?(P||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(i,$,E),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(i,$,E)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=$),h.props=i,h.state=$,h.context=E,i=I):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),i=!1)}return h=i,kl(e,t),i=(t.flags&128)!==0,h||i?(h=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:h.render(),t.flags|=1,e!==null&&i?(t.child=Ui(t,e.child,null,c),t.child=Ui(t,null,n,c)):Ut(e,t,n,c),t.memoizedState=h.state,e=t.child):e=Qn(e,t,c),e}function Rf(e,t,n,i){return Er(),t.flags|=256,Ut(e,t,n,i),t.child}var Dc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mc(e){return{baseLanes:e,cachePool:yh()}}function Oc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=mn),e}function Df(e,t,n){var i=t.pendingProps,c=!1,h=(t.flags&128)!==0,g;if((g=h)||(g=e!==null&&e.memoizedState===null?!1:(St.current&2)!==0),g&&(c=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(Fe){if(c?ga(t):ma(),Fe){var v=ft,E;if(E=v){e:{for(E=v,v=zn;E.nodeType!==8;){if(!v){v=null;break e}if(E=wn(E.nextSibling),E===null){v=null;break e}}v=E}v!==null?(t.memoizedState={dehydrated:v,treeContext:Ga!==null?{id:Gn,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},E=Jt(18,null,null,0),E.stateNode=v,E.return=t,t.child=E,Ht=t,ft=null,E=!0):E=!1}E||Ia(t)}if(v=t.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return yu(v)?t.lanes=32:t.lanes=536870912,null;Yn(t)}return v=i.children,i=i.fallback,c?(ma(),c=t.mode,v=Tl({mode:"hidden",children:v},c),i=$a(i,c,n,null),v.return=t,i.return=t,v.sibling=i,t.child=v,c=t.child,c.memoizedState=Mc(n),c.childLanes=Oc(e,g,n),t.memoizedState=Dc,i):(ga(t),Uc(t,v))}if(E=e.memoizedState,E!==null&&(v=E.dehydrated,v!==null)){if(h)t.flags&256?(ga(t),t.flags&=-257,t=Bc(e,t,n)):t.memoizedState!==null?(ma(),t.child=e.child,t.flags|=128,t=null):(ma(),c=i.fallback,v=t.mode,i=Tl({mode:"visible",children:i.children},v),c=$a(c,v,n,null),c.flags|=2,i.return=t,c.return=t,i.sibling=c,t.child=i,Ui(t,e.child,null,n),i=t.child,i.memoizedState=Mc(n),i.childLanes=Oc(e,g,n),t.memoizedState=Dc,t=c);else if(ga(t),yu(v)){if(g=v.nextSibling&&v.nextSibling.dataset,g)var P=g.dgst;g=P,i=Error(l(419)),i.stack="",i.digest=g,zr({value:i,source:null,stack:null}),t=Bc(e,t,n)}else if(zt||Ar(e,t,n,!1),g=(n&e.childLanes)!==0,zt||g){if(g=at,g!==null&&(i=n&-n,i=(i&42)!==0?1:dt(i),i=(i&(g.suspendedLanes|n))!==0?0:i,i!==0&&i!==E.retryLane))throw E.retryLane=i,Si(e,i),rn(g,e,i),wf;v.data==="$?"||eu(),t=Bc(e,t,n)}else v.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=E.treeContext,ft=wn(v.nextSibling),Ht=t,Fe=!0,Fa=null,zn=!1,e!==null&&(fn[pn++]=Gn,fn[pn++]=Wn,fn[pn++]=Ga,Gn=e.id,Wn=e.overflow,Ga=t),t=Uc(t,i.children),t.flags|=4096);return t}return c?(ma(),c=i.fallback,v=t.mode,E=e.child,P=E.sibling,i=$n(E,{mode:"hidden",children:i.children}),i.subtreeFlags=E.subtreeFlags&65011712,P!==null?c=$n(P,c):(c=$a(c,v,n,null),c.flags|=2),c.return=t,i.return=t,i.sibling=c,t.child=i,i=c,c=t.child,v=e.child.memoizedState,v===null?v=Mc(n):(E=v.cachePool,E!==null?(P=wt._currentValue,E=E.parent!==P?{parent:P,pool:P}:E):E=yh(),v={baseLanes:v.baseLanes|n,cachePool:E}),c.memoizedState=v,c.childLanes=Oc(e,g,n),t.memoizedState=Dc,i):(ga(t),n=e.child,e=n.sibling,n=$n(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=n,t.memoizedState=null,n)}function Uc(e,t){return t=Tl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Tl(e,t){return e=Jt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Bc(e,t,n){return Ui(t,e.child,null,n),e=Uc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Mf(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),ec(e.return,t,n)}function Nc(e,t,n,i,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:c}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=i,h.tail=n,h.tailMode=c)}function Of(e,t,n){var i=t.pendingProps,c=i.revealOrder,h=i.tail;if(Ut(e,t,i.children,n),i=St.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mf(e,n,t);else if(e.tag===19)Mf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(j(St,i),c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&wl(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),Nc(t,!1,c,n,h);break;case"backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&wl(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}Nc(t,!0,n,null,h);break;case"together":Nc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ja|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ar(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,n=$n(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=$n(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Lc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ll(e)))}function Xy(e,t,n){switch(t.tag){case 3:me(t,t.stateNode.containerInfo),ua(t,wt,e.memoizedState.cache),Er();break;case 27:case 5:ut(t);break;case 4:me(t,t.stateNode.containerInfo);break;case 10:ua(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(ga(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Df(e,t,n):(ga(t),e=Qn(e,t,n),e!==null?e.sibling:null);ga(t);break;case 19:var c=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Ar(e,t,n,!1),i=(n&t.childLanes)!==0),c){if(i)return Of(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),j(St,St.current),i)break;return null;case 22:case 23:return t.lanes=0,Tf(e,t,n);case 24:ua(t,wt,e.memoizedState.cache)}return Qn(e,t,n)}function Uf(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)zt=!0;else{if(!Lc(e,n)&&(t.flags&128)===0)return zt=!1,Xy(e,t,n);zt=(e.flags&131072)!==0}else zt=!1,Fe&&(t.flags&1048576)!==0&&uh(t,sl,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,c=i._init;if(i=c(i._payload),t.type=i,typeof i=="function")Vo(i)?(e=Ka(i,e),t.tag=1,t=Af(null,t,i,e,n)):(t.tag=0,t=Rc(null,t,i,e,n));else{if(i!=null){if(c=i.$$typeof,c===te){t.tag=11,t=Sf(null,t,i,e,n);break e}else if(c===he){t.tag=14,t=Cf(null,t,i,e,n);break e}}throw t=je(i)||i,Error(l(306,t,""))}}return t;case 0:return Rc(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,c=Ka(i,t.pendingProps),Af(e,t,i,c,n);case 3:e:{if(me(t,t.stateNode.containerInfo),e===null)throw Error(l(387));i=t.pendingProps;var h=t.memoizedState;c=h.element,lc(e,t),Nr(t,i,null,n);var g=t.memoizedState;if(i=g.cache,ua(t,wt,i),i!==h.cache&&tc(t,[wt],n,!0),Br(),i=g.element,h.isDehydrated)if(h={element:i,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){t=Rf(e,t,i,n);break e}else if(i!==c){c=dn(Error(l(424)),t),zr(c),t=Rf(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ft=wn(e.firstChild),Ht=t,Fe=!0,Fa=null,zn=!0,n=ff(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Er(),i===c){t=Qn(e,t,n);break e}Ut(e,t,i,n)}t=t.child}return t;case 26:return kl(e,t),e===null?(n=Pp(t.type,null,t.pendingProps,null))?t.memoizedState=n:Fe||(n=t.type,e=t.pendingProps,i=Hl(re.current).createElement(n),i[Ge]=t,i[Pe]=e,Nt(i,n,e),Et(i),t.stateNode=i):t.memoizedState=Pp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ut(t),e===null&&Fe&&(i=t.stateNode=Bp(t.type,t.pendingProps,re.current),Ht=t,zn=!0,c=ft,Ca(t.type)?(xu=c,ft=wn(i.firstChild)):ft=c),Ut(e,t,t.pendingProps.children,n),kl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Fe&&((c=i=ft)&&(i=S0(i,t.type,t.pendingProps,zn),i!==null?(t.stateNode=i,Ht=t,ft=wn(i.firstChild),zn=!1,c=!0):c=!1),c||Ia(t)),ut(t),c=t.type,h=t.pendingProps,g=e!==null?e.memoizedProps:null,i=h.children,pu(c,h)?i=null:g!==null&&pu(c,g)&&(t.flags|=32),t.memoizedState!==null&&(c=fc(e,t,$y,null,null,n),rs._currentValue=c),kl(e,t),Ut(e,t,i,n),t.child;case 6:return e===null&&Fe&&((e=n=ft)&&(n=C0(n,t.pendingProps,zn),n!==null?(t.stateNode=n,Ht=t,ft=null,e=!0):e=!1),e||Ia(t)),null;case 13:return Df(e,t,n);case 4:return me(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Ui(t,null,i,n):Ut(e,t,i,n),t.child;case 11:return Sf(e,t,t.type,t.pendingProps,n);case 7:return Ut(e,t,t.pendingProps,n),t.child;case 8:return Ut(e,t,t.pendingProps.children,n),t.child;case 12:return Ut(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,ua(t,t.type,i.value),Ut(e,t,i.children,n),t.child;case 9:return c=t.type._context,i=t.pendingProps.children,Ya(t),c=Lt(c),i=i(c),t.flags|=1,Ut(e,t,i,n),t.child;case 14:return Cf(e,t,t.type,t.pendingProps,n);case 15:return kf(e,t,t.type,t.pendingProps,n);case 19:return Of(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},e===null?(n=Tl(i,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=$n(e.child,i),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Tf(e,t,n);case 24:return Ya(t),i=Lt(wt),e===null?(c=ic(),c===null&&(c=at,h=nc(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=n),c=h),t.memoizedState={parent:i,cache:c},sc(t),ua(t,wt,c)):((e.lanes&n)!==0&&(lc(e,t),Nr(t,null,null,n),Br()),c=e.memoizedState,h=t.memoizedState,c.parent!==i?(c={parent:i,cache:i},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),ua(t,wt,i)):(i=h.cache,ua(t,wt,i),i!==c.cache&&tc(t,[wt],n,!0))),Ut(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function Xn(e){e.flags|=4}function Bf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Wp(t)){if(t=gn.current,t!==null&&((He&4194048)===He?An!==null:(He&62914560)!==He&&(He&536870912)===0||t!==An))throw Or=rc,xh;e.flags|=8192}}function El(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?X():536870912,e.lanes|=t,Pi|=t)}function Wr(e,t){if(!Fe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,i|=c.subtreeFlags&65011712,i|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,i|=c.subtreeFlags,i|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Ky(e,t,n){var i=t.pendingProps;switch(Ko(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return lt(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),In(wt),Qe(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Tr(t)?Xn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,fh())),lt(t),null;case 26:return n=t.memoizedState,e===null?(Xn(t),n!==null?(lt(t),Bf(t,n)):(lt(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Xn(t),lt(t),Bf(t,n)):(lt(t),t.flags&=-16777217):(e.memoizedProps!==i&&Xn(t),lt(t),t.flags&=-16777217),null;case 27:z(t),n=re.current;var c=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Xn(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return lt(t),null}e=R.current,Tr(t)?dh(t):(e=Bp(c,i,n),t.stateNode=e,Xn(t))}return lt(t),null;case 5:if(z(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Xn(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return lt(t),null}if(e=R.current,Tr(t))dh(t);else{switch(c=Hl(re.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?c.createElement("select",{is:i.is}):c.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?c.createElement(n,{is:i.is}):c.createElement(n)}}e[Ge]=t,e[Pe]=i;e:for(c=t.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}t.stateNode=e;e:switch(Nt(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Xn(t)}}return lt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Xn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(l(166));if(e=re.current,Tr(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,c=Ht,c!==null)switch(c.tag){case 27:case 5:i=c.memoizedProps}e[Ge]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||zp(e.nodeValue,n)),e||Ia(t)}else e=Hl(e).createTextNode(i),e[Ge]=t,t.stateNode=e}return lt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Tr(t),i!==null&&i.dehydrated!==null){if(e===null){if(!c)throw Error(l(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));c[Ge]=t}else Er(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;lt(t),c=!1}else c=fh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(Yn(t),t):(Yn(t),null)}if(Yn(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=t.child,c=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(c=i.alternate.memoizedState.cachePool.pool);var h=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),h!==c&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),El(t,t.updateQueue),lt(t),null;case 4:return Qe(),e===null&&cu(t.stateNode.containerInfo),lt(t),null;case 10:return In(t.type),lt(t),null;case 19:if(V(St),c=t.memoizedState,c===null)return lt(t),null;if(i=(t.flags&128)!==0,h=c.rendering,h===null)if(i)Wr(c,!1);else{if(pt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=wl(e),h!==null){for(t.flags|=128,Wr(c,!1),e=h.updateQueue,t.updateQueue=e,El(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)ch(n,e),n=n.sibling;return j(St,St.current&1|2),t.child}e=e.sibling}c.tail!==null&&_t()>Rl&&(t.flags|=128,i=!0,Wr(c,!1),t.lanes=4194304)}else{if(!i)if(e=wl(h),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,El(t,e),Wr(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Fe)return lt(t),null}else 2*_t()-c.renderingStartTime>Rl&&n!==536870912&&(t.flags|=128,i=!0,Wr(c,!1),t.lanes=4194304);c.isBackwards?(h.sibling=t.child,t.child=h):(e=c.last,e!==null?e.sibling=h:t.child=h,c.last=h)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=_t(),t.sibling=null,e=St.current,j(St,i?e&1|2:e&1),t):(lt(t),null);case 22:case 23:return Yn(t),dc(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(n&536870912)!==0&&(t.flags&128)===0&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),n=t.updateQueue,n!==null&&El(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&V(Qa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),In(wt),lt(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Zy(e,t){switch(Ko(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return In(wt),Qe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return z(t),null;case 13:if(Yn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));Er()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(St),null;case 4:return Qe(),null;case 10:return In(t.type),null;case 22:case 23:return Yn(t),dc(),e!==null&&V(Qa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return In(wt),null;case 25:return null;default:return null}}function Nf(e,t){switch(Ko(t),t.tag){case 3:In(wt),Qe();break;case 26:case 27:case 5:z(t);break;case 4:Qe();break;case 13:Yn(t);break;case 19:V(St);break;case 10:In(t.type);break;case 22:case 23:Yn(t),dc(),e!==null&&V(Qa);break;case 24:In(wt)}}function Fr(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var c=i.next;n=c;do{if((n.tag&e)===e){i=void 0;var h=n.create,g=n.inst;i=h(),g.destroy=i}n=n.next}while(n!==c)}}catch(v){nt(t,t.return,v)}}function ya(e,t,n){try{var i=t.updateQueue,c=i!==null?i.lastEffect:null;if(c!==null){var h=c.next;i=h;do{if((i.tag&e)===e){var g=i.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,c=t;var E=n,P=v;try{P()}catch(I){nt(c,E,I)}}}i=i.next}while(i!==h)}}catch(I){nt(t,t.return,I)}}function Lf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Sh(t,n)}catch(i){nt(e,e.return,i)}}}function Pf(e,t,n){n.props=Ka(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){nt(e,t,i)}}function Ir(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(c){nt(e,t,c)}}function Rn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(c){nt(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){nt(e,t,c)}else n.current=null}function qf(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(c){nt(e,e.return,c)}}function Pc(e,t,n){try{var i=e.stateNode;v0(i,e.type,n,t),i[Pe]=t}catch(c){nt(e,e.return,c)}}function Hf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ca(e.type)||e.tag===4}function qc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Hf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ca(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hc(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ql));else if(i!==4&&(i===27&&Ca(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Hc(e,t,n),e=e.sibling;e!==null;)Hc(e,t,n),e=e.sibling}function zl(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Ca(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(zl(e,t,n),e=e.sibling;e!==null;)zl(e,t,n),e=e.sibling}function $f(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);Nt(t,i,n),t[Ge]=e,t[Pe]=n}catch(h){nt(e,e.return,h)}}var Kn=!1,xt=!1,$c=!1,Gf=typeof WeakSet=="function"?WeakSet:Set,At=null;function Jy(e,t){if(e=e.containerInfo,hu=Vl,e=Jd(e),qo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var c=i.anchorOffset,h=i.focusNode;i=i.focusOffset;try{n.nodeType,h.nodeType}catch{n=null;break e}var g=0,v=-1,E=-1,P=0,I=0,K=e,H=null;t:for(;;){for(var $;K!==n||c!==0&&K.nodeType!==3||(v=g+c),K!==h||i!==0&&K.nodeType!==3||(E=g+i),K.nodeType===3&&(g+=K.nodeValue.length),($=K.firstChild)!==null;)H=K,K=$;for(;;){if(K===e)break t;if(H===n&&++P===c&&(v=g),H===h&&++I===i&&(E=g),($=K.nextSibling)!==null)break;K=H,H=K.parentNode}K=$}n=v===-1||E===-1?null:{start:v,end:E}}else n=null}n=n||{start:0,end:0}}else n=null;for(fu={focusedElem:e,selectionRange:n},Vl=!1,At=t;At!==null;)if(t=At,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,At=e;else for(;At!==null;){switch(t=At,h=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,n=t,c=h.memoizedProps,h=h.memoizedState,i=n.stateNode;try{var Ce=Ka(n.type,c,n.elementType===n.type);e=i.getSnapshotBeforeUpdate(Ce,h),i.__reactInternalSnapshotBeforeUpdate=e}catch(_e){nt(n,n.return,_e)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)mu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":mu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,At=e;break}At=t.return}}function Wf(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:xa(e,n),i&4&&Fr(5,n);break;case 1:if(xa(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(g){nt(n,n.return,g)}else{var c=Ka(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){nt(n,n.return,g)}}i&64&&Lf(n),i&512&&Ir(n,n.return);break;case 3:if(xa(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Sh(e,t)}catch(g){nt(n,n.return,g)}}break;case 27:t===null&&i&4&&$f(n);case 26:case 5:xa(e,n),t===null&&i&4&&qf(n),i&512&&Ir(n,n.return);break;case 12:xa(e,n);break;case 13:xa(e,n),i&4&&Vf(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=o0.bind(null,n),k0(e,n))));break;case 22:if(i=n.memoizedState!==null||Kn,!i){t=t!==null&&t.memoizedState!==null||xt,c=Kn;var h=xt;Kn=i,(xt=t)&&!h?va(e,n,(n.subtreeFlags&8772)!==0):xa(e,n),Kn=c,xt=h}break;case 30:break;default:xa(e,n)}}function Ff(e){var t=e.alternate;t!==null&&(e.alternate=null,Ff(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&jo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var rt=null,Yt=!1;function Zn(e,t,n){for(n=n.child;n!==null;)If(e,t,n),n=n.sibling}function If(e,t,n){if(_&&typeof _.onCommitFiberUnmount=="function")try{_.onCommitFiberUnmount(Ft,n)}catch{}switch(n.tag){case 26:xt||Rn(n,t),Zn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:xt||Rn(n,t);var i=rt,c=Yt;Ca(n.type)&&(rt=n.stateNode,Yt=!1),Zn(e,t,n),ts(n.stateNode),rt=i,Yt=c;break;case 5:xt||Rn(n,t);case 6:if(i=rt,c=Yt,rt=null,Zn(e,t,n),rt=i,Yt=c,rt!==null)if(Yt)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(n.stateNode)}catch(h){nt(n,t,h)}else try{rt.removeChild(n.stateNode)}catch(h){nt(n,t,h)}break;case 18:rt!==null&&(Yt?(e=rt,Op(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),cs(e)):Op(rt,n.stateNode));break;case 4:i=rt,c=Yt,rt=n.stateNode.containerInfo,Yt=!0,Zn(e,t,n),rt=i,Yt=c;break;case 0:case 11:case 14:case 15:xt||ya(2,n,t),xt||ya(4,n,t),Zn(e,t,n);break;case 1:xt||(Rn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Pf(n,t,i)),Zn(e,t,n);break;case 21:Zn(e,t,n);break;case 22:xt=(i=xt)||n.memoizedState!==null,Zn(e,t,n),xt=i;break;default:Zn(e,t,n)}}function Vf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{cs(e)}catch(n){nt(t,t.return,n)}}function e0(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Gf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Gf),t;default:throw Error(l(435,e.tag))}}function Gc(e,t){var n=e0(e);t.forEach(function(i){var c=c0.bind(null,e,i);n.has(i)||(n.add(i),i.then(c,c))})}function en(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var c=n[i],h=e,g=t,v=g;e:for(;v!==null;){switch(v.tag){case 27:if(Ca(v.type)){rt=v.stateNode,Yt=!1;break e}break;case 5:rt=v.stateNode,Yt=!1;break e;case 3:case 4:rt=v.stateNode.containerInfo,Yt=!0;break e}v=v.return}if(rt===null)throw Error(l(160));If(h,g,c),rt=null,Yt=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Yf(t,e),t=t.sibling}var _n=null;function Yf(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:en(t,e),tn(e),i&4&&(ya(3,e,e.return),Fr(3,e),ya(5,e,e.return));break;case 1:en(t,e),tn(e),i&512&&(xt||n===null||Rn(n,n.return)),i&64&&Kn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var c=_n;if(en(t,e),tn(e),i&512&&(xt||n===null||Rn(n,n.return)),i&4){var h=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,c=c.ownerDocument||c;t:switch(i){case"title":h=c.getElementsByTagName("title")[0],(!h||h[mr]||h[Ge]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(i),c.head.insertBefore(h,c.querySelector("head > title"))),Nt(h,i,n),h[Ge]=e,Et(h),i=h;break e;case"link":var g=$p("link","href",c).get(i+(n.href||""));if(g){for(var v=0;v<g.length;v++)if(h=g[v],h.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&h.getAttribute("rel")===(n.rel==null?null:n.rel)&&h.getAttribute("title")===(n.title==null?null:n.title)&&h.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){g.splice(v,1);break t}}h=c.createElement(i),Nt(h,i,n),c.head.appendChild(h);break;case"meta":if(g=$p("meta","content",c).get(i+(n.content||""))){for(v=0;v<g.length;v++)if(h=g[v],h.getAttribute("content")===(n.content==null?null:""+n.content)&&h.getAttribute("name")===(n.name==null?null:n.name)&&h.getAttribute("property")===(n.property==null?null:n.property)&&h.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&h.getAttribute("charset")===(n.charSet==null?null:n.charSet)){g.splice(v,1);break t}}h=c.createElement(i),Nt(h,i,n),c.head.appendChild(h);break;default:throw Error(l(468,i))}h[Ge]=e,Et(h),i=h}e.stateNode=i}else Gp(c,e.type,e.stateNode);else e.stateNode=Hp(c,i,e.memoizedProps);else h!==i?(h===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):h.count--,i===null?Gp(c,e.type,e.stateNode):Hp(c,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Pc(e,e.memoizedProps,n.memoizedProps)}break;case 27:en(t,e),tn(e),i&512&&(xt||n===null||Rn(n,n.return)),n!==null&&i&4&&Pc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(en(t,e),tn(e),i&512&&(xt||n===null||Rn(n,n.return)),e.flags&32){c=e.stateNode;try{yi(c,"")}catch($){nt(e,e.return,$)}}i&4&&e.stateNode!=null&&(c=e.memoizedProps,Pc(e,c,n!==null?n.memoizedProps:c)),i&1024&&($c=!0);break;case 6:if(en(t,e),tn(e),i&4){if(e.stateNode===null)throw Error(l(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch($){nt(e,e.return,$)}}break;case 3:if(Wl=null,c=_n,_n=$l(t.containerInfo),en(t,e),_n=c,tn(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{cs(t.containerInfo)}catch($){nt(e,e.return,$)}$c&&($c=!1,Qf(e));break;case 4:i=_n,_n=$l(e.stateNode.containerInfo),en(t,e),tn(e),_n=i;break;case 12:en(t,e),tn(e);break;case 13:en(t,e),tn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Qc=_t()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Gc(e,i)));break;case 22:c=e.memoizedState!==null;var E=n!==null&&n.memoizedState!==null,P=Kn,I=xt;if(Kn=P||c,xt=I||E,en(t,e),xt=I,Kn=P,tn(e),i&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(n===null||E||Kn||xt||Za(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){E=n=t;try{if(h=E.stateNode,c)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{v=E.stateNode;var K=E.memoizedProps.style,H=K!=null&&K.hasOwnProperty("display")?K.display:null;v.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch($){nt(E,E.return,$)}}}else if(t.tag===6){if(n===null){E=t;try{E.stateNode.nodeValue=c?"":E.memoizedProps}catch($){nt(E,E.return,$)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Gc(e,n))));break;case 19:en(t,e),tn(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Gc(e,i)));break;case 30:break;case 21:break;default:en(t,e),tn(e)}}function tn(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(Hf(i)){n=i;break}i=i.return}if(n==null)throw Error(l(160));switch(n.tag){case 27:var c=n.stateNode,h=qc(e);zl(e,h,c);break;case 5:var g=n.stateNode;n.flags&32&&(yi(g,""),n.flags&=-33);var v=qc(e);zl(e,v,g);break;case 3:case 4:var E=n.stateNode.containerInfo,P=qc(e);Hc(e,P,E);break;default:throw Error(l(161))}}catch(I){nt(e,e.return,I)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Qf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function xa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Wf(e,t.alternate,t),t=t.sibling}function Za(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ya(4,t,t.return),Za(t);break;case 1:Rn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Pf(t,t.return,n),Za(t);break;case 27:ts(t.stateNode);case 26:case 5:Rn(t,t.return),Za(t);break;case 22:t.memoizedState===null&&Za(t);break;case 30:Za(t);break;default:Za(t)}e=e.sibling}}function va(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,c=e,h=t,g=h.flags;switch(h.tag){case 0:case 11:case 15:va(c,h,n),Fr(4,h);break;case 1:if(va(c,h,n),i=h,c=i.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){nt(i,i.return,P)}if(i=h,c=i.updateQueue,c!==null){var v=i.stateNode;try{var E=c.shared.hiddenCallbacks;if(E!==null)for(c.shared.hiddenCallbacks=null,c=0;c<E.length;c++)wh(E[c],v)}catch(P){nt(i,i.return,P)}}n&&g&64&&Lf(h),Ir(h,h.return);break;case 27:$f(h);case 26:case 5:va(c,h,n),n&&i===null&&g&4&&qf(h),Ir(h,h.return);break;case 12:va(c,h,n);break;case 13:va(c,h,n),n&&g&4&&Vf(c,h);break;case 22:h.memoizedState===null&&va(c,h,n),Ir(h,h.return);break;case 30:break;default:va(c,h,n)}t=t.sibling}}function Wc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Rr(n))}function Fc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Rr(e))}function Dn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xf(e,t,n,i),t=t.sibling}function Xf(e,t,n,i){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Dn(e,t,n,i),c&2048&&Fr(9,t);break;case 1:Dn(e,t,n,i);break;case 3:Dn(e,t,n,i),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Rr(e)));break;case 12:if(c&2048){Dn(e,t,n,i),e=t.stateNode;try{var h=t.memoizedProps,g=h.id,v=h.onPostCommit;typeof v=="function"&&v(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){nt(t,t.return,E)}}else Dn(e,t,n,i);break;case 13:Dn(e,t,n,i);break;case 23:break;case 22:h=t.stateNode,g=t.alternate,t.memoizedState!==null?h._visibility&2?Dn(e,t,n,i):Vr(e,t):h._visibility&2?Dn(e,t,n,i):(h._visibility|=2,Bi(e,t,n,i,(t.subtreeFlags&10256)!==0)),c&2048&&Wc(g,t);break;case 24:Dn(e,t,n,i),c&2048&&Fc(t.alternate,t);break;default:Dn(e,t,n,i)}}function Bi(e,t,n,i,c){for(c=c&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var h=e,g=t,v=n,E=i,P=g.flags;switch(g.tag){case 0:case 11:case 15:Bi(h,g,v,E,c),Fr(8,g);break;case 23:break;case 22:var I=g.stateNode;g.memoizedState!==null?I._visibility&2?Bi(h,g,v,E,c):Vr(h,g):(I._visibility|=2,Bi(h,g,v,E,c)),c&&P&2048&&Wc(g.alternate,g);break;case 24:Bi(h,g,v,E,c),c&&P&2048&&Fc(g.alternate,g);break;default:Bi(h,g,v,E,c)}t=t.sibling}}function Vr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,c=i.flags;switch(i.tag){case 22:Vr(n,i),c&2048&&Wc(i.alternate,i);break;case 24:Vr(n,i),c&2048&&Fc(i.alternate,i);break;default:Vr(n,i)}t=t.sibling}}var Yr=8192;function Ni(e){if(e.subtreeFlags&Yr)for(e=e.child;e!==null;)Kf(e),e=e.sibling}function Kf(e){switch(e.tag){case 26:Ni(e),e.flags&Yr&&e.memoizedState!==null&&P0(_n,e.memoizedState,e.memoizedProps);break;case 5:Ni(e);break;case 3:case 4:var t=_n;_n=$l(e.stateNode.containerInfo),Ni(e),_n=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Yr,Yr=16777216,Ni(e),Yr=t):Ni(e));break;default:Ni(e)}}function Zf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Qr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];At=i,ep(i,e)}Zf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Jf(e),e=e.sibling}function Jf(e){switch(e.tag){case 0:case 11:case 15:Qr(e),e.flags&2048&&ya(9,e,e.return);break;case 3:Qr(e);break;case 12:Qr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Al(e)):Qr(e);break;default:Qr(e)}}function Al(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];At=i,ep(i,e)}Zf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ya(8,t,t.return),Al(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Al(t));break;default:Al(t)}e=e.sibling}}function ep(e,t){for(;At!==null;){var n=At;switch(n.tag){case 0:case 11:case 15:ya(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Rr(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,At=i;else e:for(n=e;At!==null;){i=At;var c=i.sibling,h=i.return;if(Ff(i),i===n){At=null;break e}if(c!==null){c.return=h,At=c;break e}At=h}}}var t0={getCacheForType:function(e){var t=Lt(wt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},n0=typeof WeakMap=="function"?WeakMap:Map,Ve=0,at=null,Be=null,He=0,Ye=0,nn=null,ba=!1,Li=!1,Ic=!1,Jn=0,pt=0,ja=0,Ja=0,Vc=0,mn=0,Pi=0,Xr=null,Qt=null,Yc=!1,Qc=0,Rl=1/0,Dl=null,_a=null,Bt=0,wa=null,qi=null,Hi=0,Xc=0,Kc=null,tp=null,Kr=0,Zc=null;function an(){if((Ve&2)!==0&&He!==0)return He&-He;if(W.T!==null){var e=Ei;return e!==0?e:ru()}return ln()}function np(){mn===0&&(mn=(He&536870912)===0||Fe?T():536870912);var e=gn.current;return e!==null&&(e.flags|=32),mn}function rn(e,t,n){(e===at&&(Ye===2||Ye===9)||e.cancelPendingCommit!==null)&&($i(e,0),Sa(e,He,mn,!1)),ce(e,n),((Ve&2)===0||e!==at)&&(e===at&&((Ve&2)===0&&(Ja|=n),pt===4&&Sa(e,He,mn,!1)),Mn(e))}function ap(e,t,n){if((Ve&6)!==0)throw Error(l(327));var i=!n&&(t&124)===0&&(t&e.expiredLanes)===0||oa(e,t),c=i?r0(e,t):tu(e,t,!0),h=i;do{if(c===0){Li&&!i&&Sa(e,t,0,!1);break}else{if(n=e.current.alternate,h&&!a0(n)){c=tu(e,t,!1),h=!1;continue}if(c===2){if(h=t,e.errorRecoveryDisabledLanes&h)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var v=e;c=Xr;var E=v.current.memoizedState.isDehydrated;if(E&&($i(v,g).flags|=256),g=tu(v,g,!1),g!==2){if(Ic&&!E){v.errorRecoveryDisabledLanes|=h,Ja|=h,c=4;break e}h=Qt,Qt=c,h!==null&&(Qt===null?Qt=h:Qt.push.apply(Qt,h))}c=g}if(h=!1,c!==2)continue}}if(c===1){$i(e,0),Sa(e,t,0,!0);break}e:{switch(i=e,h=c,h){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Sa(i,t,mn,!ba);break e;case 2:Qt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(c=Qc+300-_t(),10<c)){if(Sa(i,t,mn,!ba),Tt(i,0,!0)!==0)break e;i.timeoutHandle=Dp(ip.bind(null,i,n,Qt,Dl,Yc,t,mn,Ja,Pi,ba,h,2,-0,0),c);break e}ip(i,n,Qt,Dl,Yc,t,mn,Ja,Pi,ba,h,0,-0,0)}}break}while(!0);Mn(e)}function ip(e,t,n,i,c,h,g,v,E,P,I,K,H,$){if(e.timeoutHandle=-1,K=t.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(is={stylesheets:null,count:0,unsuspend:L0},Kf(t),K=q0(),K!==null)){e.cancelPendingCommit=K(dp.bind(null,e,t,h,n,i,c,g,v,E,I,1,H,$)),Sa(e,h,g,!P);return}dp(e,t,h,n,i,c,g,v,E)}function a0(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var c=n[i],h=c.getSnapshot;c=c.value;try{if(!Zt(h(),c))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Sa(e,t,n,i){t&=~Vc,t&=~Ja,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var c=t;0<c;){var h=31-se(c),g=1<<h;i[h]=-1,c&=~g}n!==0&&Me(e,n,t)}function Ml(){return(Ve&6)===0?(Zr(0),!1):!0}function Jc(){if(Be!==null){if(Ye===0)var e=Be.return;else e=Be,Fn=Va=null,mc(e),Oi=null,$r=0,e=Be;for(;e!==null;)Nf(e.alternate,e),e=e.return;Be=null}}function $i(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,j0(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Jc(),at=e,Be=n=$n(e.current,null),He=t,Ye=0,nn=null,ba=!1,Li=oa(e,t),Ic=!1,Pi=mn=Vc=Ja=ja=pt=0,Qt=Xr=null,Yc=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var c=31-se(i),h=1<<c;t|=e[c],i&=~h}return Jn=t,tl(),n}function rp(e,t){De=null,W.H=bl,t===Mr||t===ul?(t=jh(),Ye=3):t===xh?(t=jh(),Ye=4):Ye=t===wf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,nn=t,Be===null&&(pt=1,Cl(e,dn(t,e.current)))}function sp(){var e=W.H;return W.H=bl,e===null?bl:e}function lp(){var e=W.A;return W.A=t0,e}function eu(){pt=4,ba||(He&4194048)!==He&&gn.current!==null||(Li=!0),(ja&134217727)===0&&(Ja&134217727)===0||at===null||Sa(at,He,mn,!1)}function tu(e,t,n){var i=Ve;Ve|=2;var c=sp(),h=lp();(at!==e||He!==t)&&(Dl=null,$i(e,t)),t=!1;var g=pt;e:do try{if(Ye!==0&&Be!==null){var v=Be,E=nn;switch(Ye){case 8:Jc(),g=6;break e;case 3:case 2:case 9:case 6:gn.current===null&&(t=!0);var P=Ye;if(Ye=0,nn=null,Gi(e,v,E,P),n&&Li){g=0;break e}break;default:P=Ye,Ye=0,nn=null,Gi(e,v,E,P)}}i0(),g=pt;break}catch(I){rp(e,I)}while(!0);return t&&e.shellSuspendCounter++,Fn=Va=null,Ve=i,W.H=c,W.A=h,Be===null&&(at=null,He=0,tl()),g}function i0(){for(;Be!==null;)op(Be)}function r0(e,t){var n=Ve;Ve|=2;var i=sp(),c=lp();at!==e||He!==t?(Dl=null,Rl=_t()+500,$i(e,t)):Li=oa(e,t);e:do try{if(Ye!==0&&Be!==null){t=Be;var h=nn;t:switch(Ye){case 1:Ye=0,nn=null,Gi(e,t,h,1);break;case 2:case 9:if(vh(h)){Ye=0,nn=null,cp(t);break}t=function(){Ye!==2&&Ye!==9||at!==e||(Ye=7),Mn(e)},h.then(t,t);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:vh(h)?(Ye=0,nn=null,cp(t)):(Ye=0,nn=null,Gi(e,t,h,7));break;case 5:var g=null;switch(Be.tag){case 26:g=Be.memoizedState;case 5:case 27:var v=Be;if(!g||Wp(g)){Ye=0,nn=null;var E=v.sibling;if(E!==null)Be=E;else{var P=v.return;P!==null?(Be=P,Ol(P)):Be=null}break t}}Ye=0,nn=null,Gi(e,t,h,5);break;case 6:Ye=0,nn=null,Gi(e,t,h,6);break;case 8:Jc(),pt=6;break e;default:throw Error(l(462))}}s0();break}catch(I){rp(e,I)}while(!0);return Fn=Va=null,W.H=i,W.A=c,Ve=n,Be!==null?0:(at=null,He=0,tl(),pt)}function s0(){for(;Be!==null&&!Ie();)op(Be)}function op(e){var t=Uf(e.alternate,e,Jn);e.memoizedProps=e.pendingProps,t===null?Ol(e):Be=t}function cp(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=zf(n,t,t.pendingProps,t.type,void 0,He);break;case 11:t=zf(n,t,t.pendingProps,t.type.render,t.ref,He);break;case 5:mc(t);default:Nf(n,t),t=Be=ch(t,Jn),t=Uf(n,t,Jn)}e.memoizedProps=e.pendingProps,t===null?Ol(e):Be=t}function Gi(e,t,n,i){Fn=Va=null,mc(t),Oi=null,$r=0;var c=t.return;try{if(Qy(e,c,t,n,He)){pt=1,Cl(e,dn(n,e.current)),Be=null;return}}catch(h){if(c!==null)throw Be=c,h;pt=1,Cl(e,dn(n,e.current)),Be=null;return}t.flags&32768?(Fe||i===1?e=!0:Li||(He&536870912)!==0?e=!1:(ba=e=!0,(i===2||i===9||i===3||i===6)&&(i=gn.current,i!==null&&i.tag===13&&(i.flags|=16384))),up(t,e)):Ol(t)}function Ol(e){var t=e;do{if((t.flags&32768)!==0){up(t,ba);return}e=t.return;var n=Ky(t.alternate,t,Jn);if(n!==null){Be=n;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);pt===0&&(pt=5)}function up(e,t){do{var n=Zy(e.alternate,e);if(n!==null){n.flags&=32767,Be=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Be=e;return}Be=e=n}while(e!==null);pt=6,Be=null}function dp(e,t,n,i,c,h,g,v,E){e.cancelPendingCommit=null;do Ul();while(Bt!==0);if((Ve&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(h=t.lanes|t.childLanes,h|=Fo,Se(e,n,h,g,v,E),e===at&&(Be=at=null,He=0),qi=t,wa=e,Hi=n,Xc=h,Kc=c,tp=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,u0(Ot,function(){return mp(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=W.T,W.T=null,c=J.p,J.p=2,g=Ve,Ve|=4;try{Jy(e,t,n)}finally{Ve=g,J.p=c,W.T=i}}Bt=1,hp(),fp(),pp()}}function hp(){if(Bt===1){Bt=0;var e=wa,t=qi,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=W.T,W.T=null;var i=J.p;J.p=2;var c=Ve;Ve|=4;try{Yf(t,e);var h=fu,g=Jd(e.containerInfo),v=h.focusedElem,E=h.selectionRange;if(g!==v&&v&&v.ownerDocument&&Zd(v.ownerDocument.documentElement,v)){if(E!==null&&qo(v)){var P=E.start,I=E.end;if(I===void 0&&(I=P),"selectionStart"in v)v.selectionStart=P,v.selectionEnd=Math.min(I,v.value.length);else{var K=v.ownerDocument||document,H=K&&K.defaultView||window;if(H.getSelection){var $=H.getSelection(),Ce=v.textContent.length,_e=Math.min(E.start,Ce),Je=E.end===void 0?_e:Math.min(E.end,Ce);!$.extend&&_e>Je&&(g=Je,Je=_e,_e=g);var O=Kd(v,_e),M=Kd(v,Je);if(O&&M&&($.rangeCount!==1||$.anchorNode!==O.node||$.anchorOffset!==O.offset||$.focusNode!==M.node||$.focusOffset!==M.offset)){var U=K.createRange();U.setStart(O.node,O.offset),$.removeAllRanges(),_e>Je?($.addRange(U),$.extend(M.node,M.offset)):(U.setEnd(M.node,M.offset),$.addRange(U))}}}}for(K=[],$=v;$=$.parentNode;)$.nodeType===1&&K.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<K.length;v++){var Q=K[v];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Vl=!!hu,fu=hu=null}finally{Ve=c,J.p=i,W.T=n}}e.current=t,Bt=2}}function fp(){if(Bt===2){Bt=0;var e=wa,t=qi,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=W.T,W.T=null;var i=J.p;J.p=2;var c=Ve;Ve|=4;try{Wf(e,t.alternate,t)}finally{Ve=c,J.p=i,W.T=n}}Bt=3}}function pp(){if(Bt===4||Bt===3){Bt=0,tt();var e=wa,t=qi,n=Hi,i=tp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Bt=5:(Bt=0,qi=wa=null,gp(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(_a=null),ht(n),t=t.stateNode,_&&typeof _.onCommitFiberRoot=="function")try{_.onCommitFiberRoot(Ft,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=W.T,c=J.p,J.p=2,W.T=null;try{for(var h=e.onRecoverableError,g=0;g<i.length;g++){var v=i[g];h(v.value,{componentStack:v.stack})}}finally{W.T=t,J.p=c}}(Hi&3)!==0&&Ul(),Mn(e),c=e.pendingLanes,(n&4194090)!==0&&(c&42)!==0?e===Zc?Kr++:(Kr=0,Zc=e):Kr=0,Zr(0)}}function gp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Rr(t)))}function Ul(e){return hp(),fp(),pp(),mp()}function mp(){if(Bt!==5)return!1;var e=wa,t=Xc;Xc=0;var n=ht(Hi),i=W.T,c=J.p;try{J.p=32>n?32:n,W.T=null,n=Kc,Kc=null;var h=wa,g=Hi;if(Bt=0,qi=wa=null,Hi=0,(Ve&6)!==0)throw Error(l(331));var v=Ve;if(Ve|=4,Jf(h.current),Xf(h,h.current,g,n),Ve=v,Zr(0,!1),_&&typeof _.onPostCommitFiberRoot=="function")try{_.onPostCommitFiberRoot(Ft,h)}catch{}return!0}finally{J.p=c,W.T=i,gp(e,t)}}function yp(e,t,n){t=dn(n,t),t=Ac(e.stateNode,t,2),e=fa(e,t,2),e!==null&&(ce(e,2),Mn(e))}function nt(e,t,n){if(e.tag===3)yp(e,e,n);else for(;t!==null;){if(t.tag===3){yp(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(_a===null||!_a.has(i))){e=dn(n,e),n=jf(2),i=fa(t,n,2),i!==null&&(_f(n,i,t,e),ce(i,2),Mn(i));break}}t=t.return}}function nu(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new n0;var c=new Set;i.set(t,c)}else c=i.get(t),c===void 0&&(c=new Set,i.set(t,c));c.has(n)||(Ic=!0,c.add(n),e=l0.bind(null,e,t,n),t.then(e,e))}function l0(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,at===e&&(He&n)===n&&(pt===4||pt===3&&(He&62914560)===He&&300>_t()-Qc?(Ve&2)===0&&$i(e,0):Vc|=n,Pi===He&&(Pi=0)),Mn(e)}function xp(e,t){t===0&&(t=X()),e=Si(e,t),e!==null&&(ce(e,t),Mn(e))}function o0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),xp(e,n)}function c0(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(l(314))}i!==null&&i.delete(t),xp(e,n)}function u0(e,t){return ye(e,t)}var Bl=null,Wi=null,au=!1,Nl=!1,iu=!1,ei=0;function Mn(e){e!==Wi&&e.next===null&&(Wi===null?Bl=Wi=e:Wi=Wi.next=e),Nl=!0,au||(au=!0,h0())}function Zr(e,t){if(!iu&&Nl){iu=!0;do for(var n=!1,i=Bl;i!==null;){if(e!==0){var c=i.pendingLanes;if(c===0)var h=0;else{var g=i.suspendedLanes,v=i.pingedLanes;h=(1<<31-se(42|e)+1)-1,h&=c&~(g&~v),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(n=!0,_p(i,h))}else h=He,h=Tt(i,i===at?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(h&3)===0||oa(i,h)||(n=!0,_p(i,h));i=i.next}while(n);iu=!1}}function d0(){vp()}function vp(){Nl=au=!1;var e=0;ei!==0&&(b0()&&(e=ei),ei=0);for(var t=_t(),n=null,i=Bl;i!==null;){var c=i.next,h=bp(i,t);h===0?(i.next=null,n===null?Bl=c:n.next=c,c===null&&(Wi=n)):(n=i,(e!==0||(h&3)!==0)&&(Nl=!0)),i=c}Zr(e)}function bp(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var g=31-se(h),v=1<<g,E=c[g];E===-1?((v&n)===0||(v&i)!==0)&&(c[g]=fr(v,t)):E<=t&&(e.expiredLanes|=v),h&=~v}if(t=at,n=He,n=Tt(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(Ye===2||Ye===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&xe(i),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||oa(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&xe(i),ht(n)){case 2:case 8:n=Wt;break;case 32:n=Ot;break;case 268435456:n=Nn;break;default:n=Ot}return i=jp.bind(null,e),n=ye(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&xe(i),e.callbackPriority=2,e.callbackNode=null,2}function jp(e,t){if(Bt!==0&&Bt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Ul()&&e.callbackNode!==n)return null;var i=He;return i=Tt(e,e===at?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(ap(e,i,t),bp(e,_t()),e.callbackNode!=null&&e.callbackNode===n?jp.bind(null,e):null)}function _p(e,t){if(Ul())return null;ap(e,t,!0)}function h0(){_0(function(){(Ve&6)!==0?ye(la,d0):vp()})}function ru(){return ei===0&&(ei=T()),ei}function wp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ys(""+e)}function Sp(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function f0(e,t,n,i,c){if(t==="submit"&&n&&n.stateNode===c){var h=wp((c[Pe]||null).action),g=i.submitter;g&&(t=(t=g[Pe]||null)?wp(t.formAction):g.getAttribute("formAction"),t!==null&&(h=t,g=null));var v=new Zs("action","action",null,i,c);e.push({event:v,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(ei!==0){var E=g?Sp(c,g):new FormData(c);Cc(n,{pending:!0,data:E,method:c.method,action:h},null,E)}}else typeof h=="function"&&(v.preventDefault(),E=g?Sp(c,g):new FormData(c),Cc(n,{pending:!0,data:E,method:c.method,action:h},h,E))},currentTarget:c}]})}}for(var su=0;su<Wo.length;su++){var lu=Wo[su],p0=lu.toLowerCase(),g0=lu[0].toUpperCase()+lu.slice(1);jn(p0,"on"+g0)}jn(nh,"onAnimationEnd"),jn(ah,"onAnimationIteration"),jn(ih,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(Dy,"onTransitionRun"),jn(My,"onTransitionStart"),jn(Oy,"onTransitionCancel"),jn(rh,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),La("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),La("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),La("onBeforeInput",["compositionend","keypress","textInput","paste"]),La("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),La("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),La("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jr));function Cp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],c=i.event;i=i.listeners;e:{var h=void 0;if(t)for(var g=i.length-1;0<=g;g--){var v=i[g],E=v.instance,P=v.currentTarget;if(v=v.listener,E!==h&&c.isPropagationStopped())break e;h=v,c.currentTarget=P;try{h(c)}catch(I){Sl(I)}c.currentTarget=null,h=E}else for(g=0;g<i.length;g++){if(v=i[g],E=v.instance,P=v.currentTarget,v=v.listener,E!==h&&c.isPropagationStopped())break e;h=v,c.currentTarget=P;try{h(c)}catch(I){Sl(I)}c.currentTarget=null,h=E}}}}function Ne(e,t){var n=t[Na];n===void 0&&(n=t[Na]=new Set);var i=e+"__bubble";n.has(i)||(kp(t,e,2,!1),n.add(i))}function ou(e,t,n){var i=0;t&&(i|=4),kp(n,e,i,t)}var Ll="_reactListening"+Math.random().toString(36).slice(2);function cu(e){if(!e[Ll]){e[Ll]=!0,xd.forEach(function(n){n!=="selectionchange"&&(m0.has(n)||ou(n,!1,e),ou(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ll]||(t[Ll]=!0,ou("selectionchange",!1,t))}}function kp(e,t,n,i){switch(Xp(t)){case 2:var c=G0;break;case 8:c=W0;break;default:c=wu}n=c.bind(null,t,n,e),c=void 0,!Ro||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),i?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function uu(e,t,n,i,c){var h=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var g=i.tag;if(g===3||g===4){var v=i.stateNode.containerInfo;if(v===c)break;if(g===4)for(g=i.return;g!==null;){var E=g.tag;if((E===3||E===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;v!==null;){if(g=di(v),g===null)return;if(E=g.tag,E===5||E===6||E===26||E===27){i=h=g;continue e}v=v.parentNode}}i=i.return}Dd(function(){var P=h,I=zo(n),K=[];e:{var H=sh.get(e);if(H!==void 0){var $=Zs,Ce=e;switch(e){case"keypress":if(Xs(n)===0)break e;case"keydown":case"keyup":$=uy;break;case"focusin":Ce="focus",$=Uo;break;case"focusout":Ce="blur",$=Uo;break;case"beforeblur":case"afterblur":$=Uo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Ud;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Zm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=fy;break;case nh:case ah:case ih:$=ty;break;case rh:$=gy;break;case"scroll":case"scrollend":$=Xm;break;case"wheel":$=yy;break;case"copy":case"cut":case"paste":$=ay;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Nd;break;case"toggle":case"beforetoggle":$=vy}var _e=(t&4)!==0,Je=!_e&&(e==="scroll"||e==="scrollend"),O=_e?H!==null?H+"Capture":null:H;_e=[];for(var M=P,U;M!==null;){var Q=M;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||O===null||(Q=xr(M,O),Q!=null&&_e.push(es(M,Q,U))),Je)break;M=M.return}0<_e.length&&(H=new $(H,Ce,null,n,I),K.push({event:H,listeners:_e}))}}if((t&7)===0){e:{if(H=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",H&&n!==Eo&&(Ce=n.relatedTarget||n.fromElement)&&(di(Ce)||Ce[on]))break e;if(($||H)&&(H=I.window===I?I:(H=I.ownerDocument)?H.defaultView||H.parentWindow:window,$?(Ce=n.relatedTarget||n.toElement,$=P,Ce=Ce?di(Ce):null,Ce!==null&&(Je=d(Ce),_e=Ce.tag,Ce!==Je||_e!==5&&_e!==27&&_e!==6)&&(Ce=null)):($=null,Ce=P),$!==Ce)){if(_e=Ud,Q="onMouseLeave",O="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(_e=Nd,Q="onPointerLeave",O="onPointerEnter",M="pointer"),Je=$==null?H:yr($),U=Ce==null?H:yr(Ce),H=new _e(Q,M+"leave",$,n,I),H.target=Je,H.relatedTarget=U,Q=null,di(I)===P&&(_e=new _e(O,M+"enter",Ce,n,I),_e.target=U,_e.relatedTarget=Je,Q=_e),Je=Q,$&&Ce)t:{for(_e=$,O=Ce,M=0,U=_e;U;U=Fi(U))M++;for(U=0,Q=O;Q;Q=Fi(Q))U++;for(;0<M-U;)_e=Fi(_e),M--;for(;0<U-M;)O=Fi(O),U--;for(;M--;){if(_e===O||O!==null&&_e===O.alternate)break t;_e=Fi(_e),O=Fi(O)}_e=null}else _e=null;$!==null&&Tp(K,H,$,_e,!1),Ce!==null&&Je!==null&&Tp(K,Je,Ce,_e,!0)}}e:{if(H=P?yr(P):window,$=H.nodeName&&H.nodeName.toLowerCase(),$==="select"||$==="input"&&H.type==="file")var fe=Fd;else if(Gd(H))if(Id)fe=zy;else{fe=Ty;var Oe=ky}else $=H.nodeName,!$||$.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?P&&To(P.elementType)&&(fe=Fd):fe=Ey;if(fe&&(fe=fe(e,P))){Wd(K,fe,n,I);break e}Oe&&Oe(e,H,P),e==="focusout"&&P&&H.type==="number"&&P.memoizedProps.value!=null&&ko(H,"number",H.value)}switch(Oe=P?yr(P):window,e){case"focusin":(Gd(Oe)||Oe.contentEditable==="true")&&(ji=Oe,Ho=P,kr=null);break;case"focusout":kr=Ho=ji=null;break;case"mousedown":$o=!0;break;case"contextmenu":case"mouseup":case"dragend":$o=!1,eh(K,n,I);break;case"selectionchange":if(Ry)break;case"keydown":case"keyup":eh(K,n,I)}var ve;if(No)e:{switch(e){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else bi?Hd(e,n)&&(we="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(we="onCompositionStart");we&&(Ld&&n.locale!=="ko"&&(bi||we!=="onCompositionStart"?we==="onCompositionEnd"&&bi&&(ve=Md()):(ca=I,Do="value"in ca?ca.value:ca.textContent,bi=!0)),Oe=Pl(P,we),0<Oe.length&&(we=new Bd(we,e,null,n,I),K.push({event:we,listeners:Oe}),ve?we.data=ve:(ve=$d(n),ve!==null&&(we.data=ve)))),(ve=jy?_y(e,n):wy(e,n))&&(we=Pl(P,"onBeforeInput"),0<we.length&&(Oe=new Bd("onBeforeInput","beforeinput",null,n,I),K.push({event:Oe,listeners:we}),Oe.data=ve)),f0(K,e,P,n,I)}Cp(K,t)})}function es(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Pl(e,t){for(var n=t+"Capture",i=[];e!==null;){var c=e,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=xr(e,n),c!=null&&i.unshift(es(e,c,h)),c=xr(e,t),c!=null&&i.push(es(e,c,h))),e.tag===3)return i;e=e.return}return[]}function Fi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Tp(e,t,n,i,c){for(var h=t._reactName,g=[];n!==null&&n!==i;){var v=n,E=v.alternate,P=v.stateNode;if(v=v.tag,E!==null&&E===i)break;v!==5&&v!==26&&v!==27||P===null||(E=P,c?(P=xr(n,h),P!=null&&g.unshift(es(n,P,E))):c||(P=xr(n,h),P!=null&&g.push(es(n,P,E)))),n=n.return}g.length!==0&&e.push({event:t,listeners:g})}var y0=/\r\n?/g,x0=/\u0000|\uFFFD/g;function Ep(e){return(typeof e=="string"?e:""+e).replace(y0,`
`).replace(x0,"")}function zp(e,t){return t=Ep(t),Ep(e)===t}function ql(){}function Ze(e,t,n,i,c,h){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||yi(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&yi(e,""+i);break;case"className":Fs(e,"class",i);break;case"tabIndex":Fs(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Fs(e,n,i);break;case"style":Ad(e,i,h);break;case"data":if(t!=="object"){Fs(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Ys(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(n==="formAction"?(t!=="input"&&Ze(e,t,"name",c.name,c,null),Ze(e,t,"formEncType",c.formEncType,c,null),Ze(e,t,"formMethod",c.formMethod,c,null),Ze(e,t,"formTarget",c.formTarget,c,null)):(Ze(e,t,"encType",c.encType,c,null),Ze(e,t,"method",c.method,c,null),Ze(e,t,"target",c.target,c,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Ys(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=ql);break;case"onScroll":i!=null&&Ne("scroll",e);break;case"onScrollEnd":i!=null&&Ne("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(n=i.__html,n!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Ys(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Ne("beforetoggle",e),Ne("toggle",e),Ws(e,"popover",i);break;case"xlinkActuate":qn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":qn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":qn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":qn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":qn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":qn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":qn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":qn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":qn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Ws(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Ym.get(n)||n,Ws(e,n,i))}}function du(e,t,n,i,c,h){switch(n){case"style":Ad(e,i,h);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(n=i.__html,n!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"children":typeof i=="string"?yi(e,i):(typeof i=="number"||typeof i=="bigint")&&yi(e,""+i);break;case"onScroll":i!=null&&Ne("scroll",e);break;case"onScrollEnd":i!=null&&Ne("scrollend",e);break;case"onClick":i!=null&&(e.onclick=ql);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vd.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),t=n.slice(2,c?n.length-7:void 0),h=e[Pe]||null,h=h!=null?h[n]:null,typeof h=="function"&&e.removeEventListener(t,h,c),typeof i=="function")){typeof h!="function"&&h!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,c);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Ws(e,n,i)}}}function Nt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",e),Ne("load",e);var i=!1,c=!1,h;for(h in n)if(n.hasOwnProperty(h)){var g=n[h];if(g!=null)switch(h){case"src":i=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ze(e,t,h,g,n,null)}}c&&Ze(e,t,"srcSet",n.srcSet,n,null),i&&Ze(e,t,"src",n.src,n,null);return;case"input":Ne("invalid",e);var v=h=g=c=null,E=null,P=null;for(i in n)if(n.hasOwnProperty(i)){var I=n[i];if(I!=null)switch(i){case"name":c=I;break;case"type":g=I;break;case"checked":E=I;break;case"defaultChecked":P=I;break;case"value":h=I;break;case"defaultValue":v=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(l(137,t));break;default:Ze(e,t,i,I,n,null)}}kd(e,h,v,E,P,g,c,!1),Is(e);return;case"select":Ne("invalid",e),i=g=h=null;for(c in n)if(n.hasOwnProperty(c)&&(v=n[c],v!=null))switch(c){case"value":h=v;break;case"defaultValue":g=v;break;case"multiple":i=v;default:Ze(e,t,c,v,n,null)}t=h,n=g,e.multiple=!!i,t!=null?mi(e,!!i,t,!1):n!=null&&mi(e,!!i,n,!0);return;case"textarea":Ne("invalid",e),h=c=i=null;for(g in n)if(n.hasOwnProperty(g)&&(v=n[g],v!=null))switch(g){case"value":i=v;break;case"defaultValue":c=v;break;case"children":h=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(l(91));break;default:Ze(e,t,g,v,n,null)}Ed(e,i,c,h),Is(e);return;case"option":for(E in n)if(n.hasOwnProperty(E)&&(i=n[E],i!=null))switch(E){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ze(e,t,E,i,n,null)}return;case"dialog":Ne("beforetoggle",e),Ne("toggle",e),Ne("cancel",e),Ne("close",e);break;case"iframe":case"object":Ne("load",e);break;case"video":case"audio":for(i=0;i<Jr.length;i++)Ne(Jr[i],e);break;case"image":Ne("error",e),Ne("load",e);break;case"details":Ne("toggle",e);break;case"embed":case"source":case"link":Ne("error",e),Ne("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in n)if(n.hasOwnProperty(P)&&(i=n[P],i!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ze(e,t,P,i,n,null)}return;default:if(To(t)){for(I in n)n.hasOwnProperty(I)&&(i=n[I],i!==void 0&&du(e,t,I,i,n,void 0));return}}for(v in n)n.hasOwnProperty(v)&&(i=n[v],i!=null&&Ze(e,t,v,i,n,null))}function v0(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,g=null,v=null,E=null,P=null,I=null;for($ in n){var K=n[$];if(n.hasOwnProperty($)&&K!=null)switch($){case"checked":break;case"value":break;case"defaultValue":E=K;default:i.hasOwnProperty($)||Ze(e,t,$,null,i,K)}}for(var H in i){var $=i[H];if(K=n[H],i.hasOwnProperty(H)&&($!=null||K!=null))switch(H){case"type":h=$;break;case"name":c=$;break;case"checked":P=$;break;case"defaultChecked":I=$;break;case"value":g=$;break;case"defaultValue":v=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(l(137,t));break;default:$!==K&&Ze(e,t,H,$,i,K)}}Co(e,g,v,E,P,I,h,c);return;case"select":$=g=v=H=null;for(h in n)if(E=n[h],n.hasOwnProperty(h)&&E!=null)switch(h){case"value":break;case"multiple":$=E;default:i.hasOwnProperty(h)||Ze(e,t,h,null,i,E)}for(c in i)if(h=i[c],E=n[c],i.hasOwnProperty(c)&&(h!=null||E!=null))switch(c){case"value":H=h;break;case"defaultValue":v=h;break;case"multiple":g=h;default:h!==E&&Ze(e,t,c,h,i,E)}t=v,n=g,i=$,H!=null?mi(e,!!n,H,!1):!!i!=!!n&&(t!=null?mi(e,!!n,t,!0):mi(e,!!n,n?[]:"",!1));return;case"textarea":$=H=null;for(v in n)if(c=n[v],n.hasOwnProperty(v)&&c!=null&&!i.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Ze(e,t,v,null,i,c)}for(g in i)if(c=i[g],h=n[g],i.hasOwnProperty(g)&&(c!=null||h!=null))switch(g){case"value":H=c;break;case"defaultValue":$=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(l(91));break;default:c!==h&&Ze(e,t,g,c,i,h)}Td(e,H,$);return;case"option":for(var Ce in n)if(H=n[Ce],n.hasOwnProperty(Ce)&&H!=null&&!i.hasOwnProperty(Ce))switch(Ce){case"selected":e.selected=!1;break;default:Ze(e,t,Ce,null,i,H)}for(E in i)if(H=i[E],$=n[E],i.hasOwnProperty(E)&&H!==$&&(H!=null||$!=null))switch(E){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Ze(e,t,E,H,i,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in n)H=n[_e],n.hasOwnProperty(_e)&&H!=null&&!i.hasOwnProperty(_e)&&Ze(e,t,_e,null,i,H);for(P in i)if(H=i[P],$=n[P],i.hasOwnProperty(P)&&H!==$&&(H!=null||$!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(l(137,t));break;default:Ze(e,t,P,H,i,$)}return;default:if(To(t)){for(var Je in n)H=n[Je],n.hasOwnProperty(Je)&&H!==void 0&&!i.hasOwnProperty(Je)&&du(e,t,Je,void 0,i,H);for(I in i)H=i[I],$=n[I],!i.hasOwnProperty(I)||H===$||H===void 0&&$===void 0||du(e,t,I,H,i,$);return}}for(var O in n)H=n[O],n.hasOwnProperty(O)&&H!=null&&!i.hasOwnProperty(O)&&Ze(e,t,O,null,i,H);for(K in i)H=i[K],$=n[K],!i.hasOwnProperty(K)||H===$||H==null&&$==null||Ze(e,t,K,H,i,$)}var hu=null,fu=null;function Hl(e){return e.nodeType===9?e:e.ownerDocument}function Ap(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function pu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gu=null;function b0(){var e=window.event;return e&&e.type==="popstate"?e===gu?!1:(gu=e,!0):(gu=null,!1)}var Dp=typeof setTimeout=="function"?setTimeout:void 0,j0=typeof clearTimeout=="function"?clearTimeout:void 0,Mp=typeof Promise=="function"?Promise:void 0,_0=typeof queueMicrotask=="function"?queueMicrotask:typeof Mp<"u"?function(e){return Mp.resolve(null).then(e).catch(w0)}:Dp;function w0(e){setTimeout(function(){throw e})}function Ca(e){return e==="head"}function Op(e,t){var n=t,i=0,c=0;do{var h=n.nextSibling;if(e.removeChild(n),h&&h.nodeType===8)if(n=h.data,n==="/$"){if(0<i&&8>i){n=i;var g=e.ownerDocument;if(n&1&&ts(g.documentElement),n&2&&ts(g.body),n&4)for(n=g.head,ts(n),g=n.firstChild;g;){var v=g.nextSibling,E=g.nodeName;g[mr]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&g.rel.toLowerCase()==="stylesheet"||n.removeChild(g),g=v}}if(c===0){e.removeChild(h),cs(t);return}c--}else n==="$"||n==="$?"||n==="$!"?c++:i=n.charCodeAt(0)-48;else i=0;n=h}while(n);cs(t)}function mu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":mu(n),jo(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function S0(e,t,n,i){for(;e.nodeType===1;){var c=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[mr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=wn(e.nextSibling),e===null)break}return null}function C0(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=wn(e.nextSibling),e===null))return null;return e}function yu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function k0(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function wn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var xu=null;function Up(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function Bp(e,t,n){switch(t=Hl(n),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function ts(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);jo(e)}var yn=new Map,Np=new Set;function $l(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ea=J.d;J.d={f:T0,r:E0,D:z0,C:A0,L:R0,m:D0,X:O0,S:M0,M:U0};function T0(){var e=ea.f(),t=Ml();return e||t}function E0(e){var t=hi(e);t!==null&&t.tag===5&&t.type==="form"?nf(t):ea.r(e)}var Ii=typeof document>"u"?null:document;function Lp(e,t,n){var i=Ii;if(i&&typeof t=="string"&&t){var c=un(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),Np.has(c)||(Np.add(c),e={rel:e,crossOrigin:n,href:t},i.querySelector(c)===null&&(t=i.createElement("link"),Nt(t,"link",e),Et(t),i.head.appendChild(t)))}}function z0(e){ea.D(e),Lp("dns-prefetch",e,null)}function A0(e,t){ea.C(e,t),Lp("preconnect",e,t)}function R0(e,t,n){ea.L(e,t,n);var i=Ii;if(i&&e&&t){var c='link[rel="preload"][as="'+un(t)+'"]';t==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+un(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+un(n.imageSizes)+'"]')):c+='[href="'+un(e)+'"]';var h=c;switch(t){case"style":h=Vi(e);break;case"script":h=Yi(e)}yn.has(h)||(e=x({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),yn.set(h,e),i.querySelector(c)!==null||t==="style"&&i.querySelector(ns(h))||t==="script"&&i.querySelector(as(h))||(t=i.createElement("link"),Nt(t,"link",e),Et(t),i.head.appendChild(t)))}}function D0(e,t){ea.m(e,t);var n=Ii;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+un(i)+'"][href="'+un(e)+'"]',h=c;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Yi(e)}if(!yn.has(h)&&(e=x({rel:"modulepreload",href:e},t),yn.set(h,e),n.querySelector(c)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(as(h)))return}i=n.createElement("link"),Nt(i,"link",e),Et(i),n.head.appendChild(i)}}}function M0(e,t,n){ea.S(e,t,n);var i=Ii;if(i&&e){var c=fi(i).hoistableStyles,h=Vi(e);t=t||"default";var g=c.get(h);if(!g){var v={loading:0,preload:null};if(g=i.querySelector(ns(h)))v.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},n),(n=yn.get(h))&&vu(e,n);var E=g=i.createElement("link");Et(E),Nt(E,"link",e),E._p=new Promise(function(P,I){E.onload=P,E.onerror=I}),E.addEventListener("load",function(){v.loading|=1}),E.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Gl(g,t,i)}g={type:"stylesheet",instance:g,count:1,state:v},c.set(h,g)}}}function O0(e,t){ea.X(e,t);var n=Ii;if(n&&e){var i=fi(n).hoistableScripts,c=Yi(e),h=i.get(c);h||(h=n.querySelector(as(c)),h||(e=x({src:e,async:!0},t),(t=yn.get(c))&&bu(e,t),h=n.createElement("script"),Et(h),Nt(h,"link",e),n.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},i.set(c,h))}}function U0(e,t){ea.M(e,t);var n=Ii;if(n&&e){var i=fi(n).hoistableScripts,c=Yi(e),h=i.get(c);h||(h=n.querySelector(as(c)),h||(e=x({src:e,async:!0,type:"module"},t),(t=yn.get(c))&&bu(e,t),h=n.createElement("script"),Et(h),Nt(h,"link",e),n.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},i.set(c,h))}}function Pp(e,t,n,i){var c=(c=re.current)?$l(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Vi(n.href),n=fi(c).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Vi(n.href);var h=fi(c).hoistableStyles,g=h.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,g),(h=c.querySelector(ns(e)))&&!h._p&&(g.instance=h,g.state.loading=5),yn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},yn.set(e,n),h||B0(c,e,n,g.state))),t&&i===null)throw Error(l(528,""));return g}if(t&&i!==null)throw Error(l(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Yi(n),n=fi(c).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Vi(e){return'href="'+un(e)+'"'}function ns(e){return'link[rel="stylesheet"]['+e+"]"}function qp(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function B0(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),Nt(t,"link",n),Et(t),e.head.appendChild(t))}function Yi(e){return'[src="'+un(e)+'"]'}function as(e){return"script[async]"+e}function Hp(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+un(n.href)+'"]');if(i)return t.instance=i,Et(i),i;var c=x({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Et(i),Nt(i,"style",c),Gl(i,n.precedence,e),t.instance=i;case"stylesheet":c=Vi(n.href);var h=e.querySelector(ns(c));if(h)return t.state.loading|=4,t.instance=h,Et(h),h;i=qp(n),(c=yn.get(c))&&vu(i,c),h=(e.ownerDocument||e).createElement("link"),Et(h);var g=h;return g._p=new Promise(function(v,E){g.onload=v,g.onerror=E}),Nt(h,"link",i),t.state.loading|=4,Gl(h,n.precedence,e),t.instance=h;case"script":return h=Yi(n.src),(c=e.querySelector(as(h)))?(t.instance=c,Et(c),c):(i=n,(c=yn.get(h))&&(i=x({},n),bu(i,c)),e=e.ownerDocument||e,c=e.createElement("script"),Et(c),Nt(c,"link",i),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,Gl(i,n.precedence,e));return t.instance}function Gl(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=i.length?i[i.length-1]:null,h=c,g=0;g<i.length;g++){var v=i[g];if(v.dataset.precedence===t)h=v;else if(h!==c)break}h?h.parentNode.insertBefore(e,h.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function vu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function bu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Wl=null;function $p(e,t,n){if(Wl===null){var i=new Map,c=Wl=new Map;c.set(n,i)}else c=Wl,i=c.get(n),i||(i=new Map,c.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),c=0;c<n.length;c++){var h=n[c];if(!(h[mr]||h[Ge]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(t)||"";g=e+g;var v=i.get(g);v?v.push(h):i.set(g,[h])}}return i}function Gp(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function N0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Wp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var is=null;function L0(){}function P0(e,t,n){if(is===null)throw Error(l(475));var i=is;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var c=Vi(n.href),h=e.querySelector(ns(c));if(h){e=h._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=Fl.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=h,Et(h);return}h=e.ownerDocument||e,n=qp(n),(c=yn.get(c))&&vu(n,c),h=h.createElement("link"),Et(h);var g=h;g._p=new Promise(function(v,E){g.onload=v,g.onerror=E}),Nt(h,"link",n),t.instance=h}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(i.count++,t=Fl.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function q0(){if(is===null)throw Error(l(475));var e=is;return e.stylesheets&&e.count===0&&ju(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&ju(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Fl(){if(this.count--,this.count===0){if(this.stylesheets)ju(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Il=null;function ju(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Il=new Map,t.forEach(H0,e),Il=null,Fl.call(e))}function H0(e,t){if(!(t.state.loading&4)){var n=Il.get(e);if(n)var i=n.get(null);else{n=new Map,Il.set(e,n);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var g=c[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(n.set(g.dataset.precedence,g),i=g)}i&&n.set(null,i)}c=t.instance,g=c.getAttribute("data-precedence"),h=n.get(g)||i,h===i&&n.set(null,c),n.set(g,c),this.count++,i=Fl.bind(this),c.addEventListener("load",i),c.addEventListener("error",i),h?h.parentNode.insertBefore(c,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var rs={$$typeof:G,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function $0(e,t,n,i,c,h,g,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=le(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=le(0),this.hiddenUpdates=le(null),this.identifierPrefix=i,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function Fp(e,t,n,i,c,h,g,v,E,P,I,K){return e=new $0(e,t,n,g,v,E,P,K),t=1,h===!0&&(t|=24),h=Jt(3,null,null,t),e.current=h,h.stateNode=e,t=nc(),t.refCount++,e.pooledCache=t,t.refCount++,h.memoizedState={element:i,isDehydrated:n,cache:t},sc(h),e}function Ip(e){return e?(e=Ci,e):Ci}function Vp(e,t,n,i,c,h){c=Ip(c),i.context===null?i.context=c:i.pendingContext=c,i=ha(t),i.payload={element:n},h=h===void 0?null:h,h!==null&&(i.callback=h),n=fa(e,i,t),n!==null&&(rn(n,e,t),Ur(n,e,t))}function Yp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function _u(e,t){Yp(e,t),(e=e.alternate)&&Yp(e,t)}function Qp(e){if(e.tag===13){var t=Si(e,67108864);t!==null&&rn(t,e,67108864),_u(e,67108864)}}var Vl=!0;function G0(e,t,n,i){var c=W.T;W.T=null;var h=J.p;try{J.p=2,wu(e,t,n,i)}finally{J.p=h,W.T=c}}function W0(e,t,n,i){var c=W.T;W.T=null;var h=J.p;try{J.p=8,wu(e,t,n,i)}finally{J.p=h,W.T=c}}function wu(e,t,n,i){if(Vl){var c=Su(i);if(c===null)uu(e,t,i,Yl,n),Kp(e,i);else if(I0(c,e,t,n,i))i.stopPropagation();else if(Kp(e,i),t&4&&-1<F0.indexOf(e)){for(;c!==null;){var h=hi(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=Ln(h.pendingLanes);if(g!==0){var v=h;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var E=1<<31-se(g);v.entanglements[1]|=E,g&=~E}Mn(h),(Ve&6)===0&&(Rl=_t()+500,Zr(0))}}break;case 13:v=Si(h,2),v!==null&&rn(v,h,2),Ml(),_u(h,2)}if(h=Su(i),h===null&&uu(e,t,i,Yl,n),h===c)break;c=h}c!==null&&i.stopPropagation()}else uu(e,t,i,null,n)}}function Su(e){return e=zo(e),Cu(e)}var Yl=null;function Cu(e){if(Yl=null,e=di(e),e!==null){var t=d(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=f(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Yl=e,null}function Xp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sa()){case la:return 2;case Wt:return 8;case Ot:case qt:return 32;case Nn:return 268435456;default:return 32}default:return 32}}var ku=!1,ka=null,Ta=null,Ea=null,ss=new Map,ls=new Map,za=[],F0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kp(e,t){switch(e){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":Ea=null;break;case"pointerover":case"pointerout":ss.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ls.delete(t.pointerId)}}function os(e,t,n,i,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:h,targetContainers:[c]},t!==null&&(t=hi(t),t!==null&&Qp(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function I0(e,t,n,i,c){switch(t){case"focusin":return ka=os(ka,e,t,n,i,c),!0;case"dragenter":return Ta=os(Ta,e,t,n,i,c),!0;case"mouseover":return Ea=os(Ea,e,t,n,i,c),!0;case"pointerover":var h=c.pointerId;return ss.set(h,os(ss.get(h)||null,e,t,n,i,c)),!0;case"gotpointercapture":return h=c.pointerId,ls.set(h,os(ls.get(h)||null,e,t,n,i,c)),!0}return!1}function Zp(e){var t=di(e.target);if(t!==null){var n=d(t);if(n!==null){if(t=n.tag,t===13){if(t=f(n),t!==null){e.blockedOn=t,pr(e.priority,function(){if(n.tag===13){var i=an();i=dt(i);var c=Si(n,i);c!==null&&rn(c,n,i),_u(n,i)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ql(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Su(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Eo=i,n.target.dispatchEvent(i),Eo=null}else return t=hi(n),t!==null&&Qp(t),e.blockedOn=n,!1;t.shift()}return!0}function Jp(e,t,n){Ql(e)&&n.delete(t)}function V0(){ku=!1,ka!==null&&Ql(ka)&&(ka=null),Ta!==null&&Ql(Ta)&&(Ta=null),Ea!==null&&Ql(Ea)&&(Ea=null),ss.forEach(Jp),ls.forEach(Jp)}function Xl(e,t){e.blockedOn===t&&(e.blockedOn=null,ku||(ku=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,V0)))}var Kl=null;function eg(e){Kl!==e&&(Kl=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){Kl===e&&(Kl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],c=e[t+2];if(typeof i!="function"){if(Cu(i||n)===null)continue;break}var h=hi(n);h!==null&&(e.splice(t,3),t-=3,Cc(h,{pending:!0,data:c,method:n.method,action:i},i,c))}}))}function cs(e){function t(E){return Xl(E,e)}ka!==null&&Xl(ka,e),Ta!==null&&Xl(Ta,e),Ea!==null&&Xl(Ea,e),ss.forEach(t),ls.forEach(t);for(var n=0;n<za.length;n++){var i=za[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<za.length&&(n=za[0],n.blockedOn===null);)Zp(n),n.blockedOn===null&&za.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var c=n[i],h=n[i+1],g=c[Pe]||null;if(typeof h=="function")g||eg(n);else if(g){var v=null;if(h&&h.hasAttribute("formAction")){if(c=h,g=h[Pe]||null)v=g.formAction;else if(Cu(c)!==null)continue}else v=g.action;typeof v=="function"?n[i+1]=v:(n.splice(i,3),i-=3),eg(n)}}}function Tu(e){this._internalRoot=e}Zl.prototype.render=Tu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var n=t.current,i=an();Vp(n,i,e,t,null,null)},Zl.prototype.unmount=Tu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vp(e.current,2,null,e,null,null),Ml(),t[on]=null}};function Zl(e){this._internalRoot=e}Zl.prototype.unstable_scheduleHydration=function(e){if(e){var t=ln();e={blockedOn:null,target:e,priority:t};for(var n=0;n<za.length&&t!==0&&t<za[n].priority;n++);za.splice(n,0,e),n===0&&Zp(e)}};var tg=r.version;if(tg!=="19.1.1")throw Error(l(527,tg,"19.1.1"));J.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(t),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var Y0={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jl.isDisabled&&Jl.supportsFiber)try{Ft=Jl.inject(Y0),_=Jl}catch{}}return ds.createRoot=function(e,t){if(!u(e))throw Error(l(299));var n=!1,i="",c=yf,h=xf,g=vf,v=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(h=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(v=t.unstable_transitionCallbacks)),t=Fp(e,1,!1,null,null,n,i,c,h,g,v,null),e[on]=t.current,cu(e),new Tu(t)},ds.hydrateRoot=function(e,t,n){if(!u(e))throw Error(l(299));var i=!1,c="",h=yf,g=xf,v=vf,E=null,P=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks),n.formState!==void 0&&(P=n.formState)),t=Fp(e,1,!0,t,n??null,i,c,h,g,v,E,P),t.context=Ip(null),n=t.current,i=an(),i=dt(i),c=ha(i),c.callback=null,fa(n,c,i),n=i,t.current.lanes=n,ce(t,n),Mn(t),e[on]=t.current,cu(e),new Zl(t)},ds.version="19.1.1",ds}var dg;function sx(){if(dg)return Au.exports;dg=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(r){console.error(r)}}return o(),Au.exports=rx(),Au.exports}var lx=sx();const ox=id(lx);/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var hg="popstate";function cx(o={}){function r(u,d){let{pathname:f="/",search:y="",hash:p=""}=li(u.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Gu("",{pathname:f,search:y,hash:p},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function s(u,d){let f=u.document.querySelector("base"),y="";if(f&&f.getAttribute("href")){let p=u.location.href,m=p.indexOf("#");y=m===-1?p:p.slice(0,m)}return y+"#"+(typeof d=="string"?d:Bs(d))}function l(u,d){Tn(u.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(d)})`)}return dx(r,s,l,o)}function ct(o,r){if(o===!1||o===null||typeof o>"u")throw new Error(r)}function Tn(o,r){if(!o){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function ux(){return Math.random().toString(36).substring(2,10)}function fg(o,r){return{usr:o.state,key:o.key,idx:r}}function Gu(o,r,s=null,l){return{pathname:typeof o=="string"?o:o.pathname,search:"",hash:"",...typeof r=="string"?li(r):r,state:s,key:r&&r.key||l||ux()}}function Bs({pathname:o="/",search:r="",hash:s=""}){return r&&r!=="?"&&(o+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(o+=s.charAt(0)==="#"?s:"#"+s),o}function li(o){let r={};if(o){let s=o.indexOf("#");s>=0&&(r.hash=o.substring(s),o=o.substring(0,s));let l=o.indexOf("?");l>=0&&(r.search=o.substring(l),o=o.substring(0,l)),o&&(r.pathname=o)}return r}function dx(o,r,s,l={}){let{window:u=document.defaultView,v5Compat:d=!1}=l,f=u.history,y="POP",p=null,m=x();m==null&&(m=0,f.replaceState({...f.state,idx:m},""));function x(){return(f.state||{idx:null}).idx}function w(){y="POP";let L=x(),B=L==null?null:L-m;m=L,p&&p({action:y,location:q.location,delta:B})}function k(L,B){y="PUSH";let oe=Gu(q.location,L,B);s&&s(oe,L),m=x()+1;let G=fg(oe,m),te=q.createHref(oe);try{f.pushState(G,"",te)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;u.location.assign(te)}d&&p&&p({action:y,location:q.location,delta:1})}function S(L,B){y="REPLACE";let oe=Gu(q.location,L,B);s&&s(oe,L),m=x();let G=fg(oe,m),te=q.createHref(oe);f.replaceState(G,"",te),d&&p&&p({action:y,location:q.location,delta:0})}function b(L){return hx(L)}let q={get action(){return y},get location(){return o(u,f)},listen(L){if(p)throw new Error("A history only accepts one active listener");return u.addEventListener(hg,w),p=L,()=>{u.removeEventListener(hg,w),p=null}},createHref(L){return r(u,L)},createURL:b,encodeLocation(L){let B=b(L);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:k,replace:S,go(L){return f.go(L)}};return q}function hx(o,r=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),ct(s,"No window.location.(origin|href) available to create URL");let l=typeof o=="string"?o:Bs(o);return l=l.replace(/ $/,"%20"),!r&&l.startsWith("//")&&(l=s+l),new URL(l,s)}function em(o,r,s="/"){return fx(o,r,s,!1)}function fx(o,r,s,l){let u=typeof r=="string"?li(r):r,d=ra(u.pathname||"/",s);if(d==null)return null;let f=tm(o);px(f);let y=null;for(let p=0;y==null&&p<f.length;++p){let m=Cx(d);y=wx(f[p],m,l)}return y}function tm(o,r=[],s=[],l=""){let u=(d,f,y)=>{let p={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};p.relativePath.startsWith("/")&&(ct(p.relativePath.startsWith(l),`Absolute route path "${p.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(l.length));let m=ia([l,p.relativePath]),x=s.concat(p);d.children&&d.children.length>0&&(ct(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),tm(d.children,r,x,m)),!(d.path==null&&!d.index)&&r.push({path:m,score:jx(m,d.index),routesMeta:x})};return o.forEach((d,f)=>{if(d.path===""||!d.path?.includes("?"))u(d,f);else for(let y of nm(d.path))u(d,f,y)}),r}function nm(o){let r=o.split("/");if(r.length===0)return[];let[s,...l]=r,u=s.endsWith("?"),d=s.replace(/\?$/,"");if(l.length===0)return u?[d,""]:[d];let f=nm(l.join("/")),y=[];return y.push(...f.map(p=>p===""?d:[d,p].join("/"))),u&&y.push(...f),y.map(p=>o.startsWith("/")&&p===""?"/":p)}function px(o){o.sort((r,s)=>r.score!==s.score?s.score-r.score:_x(r.routesMeta.map(l=>l.childrenIndex),s.routesMeta.map(l=>l.childrenIndex)))}var gx=/^:[\w-]+$/,mx=3,yx=2,xx=1,vx=10,bx=-2,pg=o=>o==="*";function jx(o,r){let s=o.split("/"),l=s.length;return s.some(pg)&&(l+=bx),r&&(l+=yx),s.filter(u=>!pg(u)).reduce((u,d)=>u+(gx.test(d)?mx:d===""?xx:vx),l)}function _x(o,r){return o.length===r.length&&o.slice(0,-1).every((l,u)=>l===r[u])?o[o.length-1]-r[r.length-1]:0}function wx(o,r,s=!1){let{routesMeta:l}=o,u={},d="/",f=[];for(let y=0;y<l.length;++y){let p=l[y],m=y===l.length-1,x=d==="/"?r:r.slice(d.length)||"/",w=oo({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},x),k=p.route;if(!w&&m&&s&&!l[l.length-1].route.index&&(w=oo({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},x)),!w)return null;Object.assign(u,w.params),f.push({params:u,pathname:ia([d,w.pathname]),pathnameBase:zx(ia([d,w.pathnameBase])),route:k}),w.pathnameBase!=="/"&&(d=ia([d,w.pathnameBase]))}return f}function oo(o,r){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[s,l]=Sx(o.path,o.caseSensitive,o.end),u=r.match(s);if(!u)return null;let d=u[0],f=d.replace(/(.)\/+$/,"$1"),y=u.slice(1);return{params:l.reduce((m,{paramName:x,isOptional:w},k)=>{if(x==="*"){let b=y[k]||"";f=d.slice(0,d.length-b.length).replace(/(.)\/+$/,"$1")}const S=y[k];return w&&!S?m[x]=void 0:m[x]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:d,pathnameBase:f,pattern:o}}function Sx(o,r=!1,s=!0){Tn(o==="*"||!o.endsWith("*")||o.endsWith("/*"),`Route path "${o}" will be treated as if it were "${o.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${o.replace(/\*$/,"/*")}".`);let l=[],u="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,y,p)=>(l.push({paramName:y,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(l.push({paramName:"*"}),u+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?u+="\\/*$":o!==""&&o!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,r?void 0:"i"),l]}function Cx(o){try{return o.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Tn(!1,`The URL path "${o}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),o}}function ra(o,r){if(r==="/")return o;if(!o.toLowerCase().startsWith(r.toLowerCase()))return null;let s=r.endsWith("/")?r.length-1:r.length,l=o.charAt(s);return l&&l!=="/"?null:o.slice(s)||"/"}function kx(o,r="/"){let{pathname:s,search:l="",hash:u=""}=typeof o=="string"?li(o):o;return{pathname:s?s.startsWith("/")?s:Tx(s,r):r,search:Ax(l),hash:Rx(u)}}function Tx(o,r){let s=r.replace(/\/+$/,"").split("/");return o.split("/").forEach(u=>{u===".."?s.length>1&&s.pop():u!=="."&&s.push(u)}),s.length>1?s.join("/"):"/"}function Ou(o,r,s,l){return`Cannot include a '${o}' character in a manually specified \`to.${r}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ex(o){return o.filter((r,s)=>s===0||r.route.path&&r.route.path.length>0)}function am(o){let r=Ex(o);return r.map((s,l)=>l===r.length-1?s.pathname:s.pathnameBase)}function im(o,r,s,l=!1){let u;typeof o=="string"?u=li(o):(u={...o},ct(!u.pathname||!u.pathname.includes("?"),Ou("?","pathname","search",u)),ct(!u.pathname||!u.pathname.includes("#"),Ou("#","pathname","hash",u)),ct(!u.search||!u.search.includes("#"),Ou("#","search","hash",u)));let d=o===""||u.pathname==="",f=d?"/":u.pathname,y;if(f==null)y=s;else{let w=r.length-1;if(!l&&f.startsWith("..")){let k=f.split("/");for(;k[0]==="..";)k.shift(),w-=1;u.pathname=k.join("/")}y=w>=0?r[w]:"/"}let p=kx(u,y),m=f&&f!=="/"&&f.endsWith("/"),x=(d||f===".")&&s.endsWith("/");return!p.pathname.endsWith("/")&&(m||x)&&(p.pathname+="/"),p}var ia=o=>o.join("/").replace(/\/\/+/g,"/"),zx=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),Ax=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,Rx=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function Dx(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}var rm=["POST","PUT","PATCH","DELETE"];new Set(rm);var Mx=["GET",...rm];new Set(Mx);var dr=C.createContext(null);dr.displayName="DataRouter";var go=C.createContext(null);go.displayName="DataRouterState";C.createContext(!1);var sm=C.createContext({isTransitioning:!1});sm.displayName="ViewTransition";var Ox=C.createContext(new Map);Ox.displayName="Fetchers";var Ux=C.createContext(null);Ux.displayName="Await";var Un=C.createContext(null);Un.displayName="Navigation";var Ps=C.createContext(null);Ps.displayName="Location";var Bn=C.createContext({outlet:null,matches:[],isDataRoute:!1});Bn.displayName="Route";var sd=C.createContext(null);sd.displayName="RouteError";function Bx(o,{relative:r}={}){ct(qs(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:l}=C.useContext(Un),{hash:u,pathname:d,search:f}=Hs(o,{relative:r}),y=d;return s!=="/"&&(y=d==="/"?s:ia([s,d])),l.createHref({pathname:y,search:f,hash:u})}function qs(){return C.useContext(Ps)!=null}function Oa(){return ct(qs(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Ps).location}var lm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function om(o){C.useContext(Un).static||C.useLayoutEffect(o)}function mo(){let{isDataRoute:o}=C.useContext(Bn);return o?Qx():Nx()}function Nx(){ct(qs(),"useNavigate() may be used only in the context of a <Router> component.");let o=C.useContext(dr),{basename:r,navigator:s}=C.useContext(Un),{matches:l}=C.useContext(Bn),{pathname:u}=Oa(),d=JSON.stringify(am(l)),f=C.useRef(!1);return om(()=>{f.current=!0}),C.useCallback((p,m={})=>{if(Tn(f.current,lm),!f.current)return;if(typeof p=="number"){s.go(p);return}let x=im(p,JSON.parse(d),u,m.relative==="path");o==null&&r!=="/"&&(x.pathname=x.pathname==="/"?r:ia([r,x.pathname])),(m.replace?s.replace:s.push)(x,m.state,m)},[r,s,d,u,o])}C.createContext(null);function cm(){let{matches:o}=C.useContext(Bn),r=o[o.length-1];return r?r.params:{}}function Hs(o,{relative:r}={}){let{matches:s}=C.useContext(Bn),{pathname:l}=Oa(),u=JSON.stringify(am(s));return C.useMemo(()=>im(o,JSON.parse(u),l,r==="path"),[o,u,l,r])}function Lx(o,r){return um(o,r)}function um(o,r,s,l){ct(qs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=C.useContext(Un),{matches:d}=C.useContext(Bn),f=d[d.length-1],y=f?f.params:{},p=f?f.pathname:"/",m=f?f.pathnameBase:"/",x=f&&f.route;{let B=x&&x.path||"";dm(p,!x||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let w=Oa(),k;if(r){let B=typeof r=="string"?li(r):r;ct(m==="/"||B.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${B.pathname}" was given in the \`location\` prop.`),k=B}else k=w;let S=k.pathname||"/",b=S;if(m!=="/"){let B=m.replace(/^\//,"").split("/");b="/"+S.replace(/^\//,"").split("/").slice(B.length).join("/")}let q=em(o,{pathname:b});Tn(x||q!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Tn(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=Gx(q&&q.map(B=>Object.assign({},B,{params:Object.assign({},y,B.params),pathname:ia([m,u.encodeLocation?u.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?m:ia([m,u.encodeLocation?u.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),d,s,l);return r&&L?C.createElement(Ps.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},L):L}function Px(){let o=Yx(),r=Dx(o)?`${o.status} ${o.statusText}`:o instanceof Error?o.message:JSON.stringify(o),s=o instanceof Error?o.stack:null,l="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:l},d={padding:"2px 4px",backgroundColor:l},f=null;return console.error("Error handled by React Router default ErrorBoundary:",o),f=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:d},"ErrorBoundary")," or"," ",C.createElement("code",{style:d},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},r),s?C.createElement("pre",{style:u},s):null,f)}var qx=C.createElement(Px,null),Hx=class extends C.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,r){return r.location!==o.location||r.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:r.error,location:r.location,revalidation:o.revalidation||r.revalidation}}componentDidCatch(o,r){console.error("React Router caught the following error during render",o,r)}render(){return this.state.error!==void 0?C.createElement(Bn.Provider,{value:this.props.routeContext},C.createElement(sd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $x({routeContext:o,match:r,children:s}){let l=C.useContext(dr);return l&&l.static&&l.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=r.route.id),C.createElement(Bn.Provider,{value:o},s)}function Gx(o,r=[],s=null,l=null){if(o==null){if(!s)return null;if(s.errors)o=s.matches;else if(r.length===0&&!s.initialized&&s.matches.length>0)o=s.matches;else return null}let u=o,d=s?.errors;if(d!=null){let p=u.findIndex(m=>m.route.id&&d?.[m.route.id]!==void 0);ct(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,p+1))}let f=!1,y=-1;if(s)for(let p=0;p<u.length;p++){let m=u[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(y=p),m.route.id){let{loaderData:x,errors:w}=s,k=m.route.loader&&!x.hasOwnProperty(m.route.id)&&(!w||w[m.route.id]===void 0);if(m.route.lazy||k){f=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}return u.reduceRight((p,m,x)=>{let w,k=!1,S=null,b=null;s&&(w=d&&m.route.id?d[m.route.id]:void 0,S=m.route.errorElement||qx,f&&(y<0&&x===0?(dm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,b=null):y===x&&(k=!0,b=m.route.hydrateFallbackElement||null)));let q=r.concat(u.slice(0,x+1)),L=()=>{let B;return w?B=S:k?B=b:m.route.Component?B=C.createElement(m.route.Component,null):m.route.element?B=m.route.element:B=p,C.createElement($x,{match:m,routeContext:{outlet:p,matches:q,isDataRoute:s!=null},children:B})};return s&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?C.createElement(Hx,{location:s.location,revalidation:s.revalidation,component:S,error:w,children:L(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):L()},null)}function ld(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Wx(o){let r=C.useContext(dr);return ct(r,ld(o)),r}function Fx(o){let r=C.useContext(go);return ct(r,ld(o)),r}function Ix(o){let r=C.useContext(Bn);return ct(r,ld(o)),r}function od(o){let r=Ix(o),s=r.matches[r.matches.length-1];return ct(s.route.id,`${o} can only be used on routes that contain a unique "id"`),s.route.id}function Vx(){return od("useRouteId")}function Yx(){let o=C.useContext(sd),r=Fx("useRouteError"),s=od("useRouteError");return o!==void 0?o:r.errors?.[s]}function Qx(){let{router:o}=Wx("useNavigate"),r=od("useNavigate"),s=C.useRef(!1);return om(()=>{s.current=!0}),C.useCallback(async(u,d={})=>{Tn(s.current,lm),s.current&&(typeof u=="number"?o.navigate(u):await o.navigate(u,{fromRouteId:r,...d}))},[o,r])}var gg={};function dm(o,r,s){!r&&!gg[o]&&(gg[o]=!0,Tn(!1,s))}C.memo(Xx);function Xx({routes:o,future:r,state:s}){return um(o,void 0,s,r)}function On(o){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Kx({basename:o="/",children:r=null,location:s,navigationType:l="POP",navigator:u,static:d=!1}){ct(!qs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=o.replace(/^\/*/,"/"),y=C.useMemo(()=>({basename:f,navigator:u,static:d,future:{}}),[f,u,d]);typeof s=="string"&&(s=li(s));let{pathname:p="/",search:m="",hash:x="",state:w=null,key:k="default"}=s,S=C.useMemo(()=>{let b=ra(p,f);return b==null?null:{location:{pathname:b,search:m,hash:x,state:w,key:k},navigationType:l}},[f,p,m,x,w,k,l]);return Tn(S!=null,`<Router basename="${f}"> is not able to match the URL "${p}${m}${x}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:C.createElement(Un.Provider,{value:y},C.createElement(Ps.Provider,{children:r,value:S}))}function Zx({children:o,location:r}){return Lx(Wu(o),r)}function Wu(o,r=[]){let s=[];return C.Children.forEach(o,(l,u)=>{if(!C.isValidElement(l))return;let d=[...r,u];if(l.type===C.Fragment){s.push.apply(s,Wu(l.props.children,d));return}ct(l.type===On,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!l.props.index||!l.props.children,"An index route cannot have child routes.");let f={id:l.props.id||d.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(f.children=Wu(l.props.children,d)),s.push(f)}),s}var so="get",lo="application/x-www-form-urlencoded";function yo(o){return o!=null&&typeof o.tagName=="string"}function Jx(o){return yo(o)&&o.tagName.toLowerCase()==="button"}function ev(o){return yo(o)&&o.tagName.toLowerCase()==="form"}function tv(o){return yo(o)&&o.tagName.toLowerCase()==="input"}function nv(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function av(o,r){return o.button===0&&(!r||r==="_self")&&!nv(o)}var eo=null;function iv(){if(eo===null)try{new FormData(document.createElement("form"),0),eo=!1}catch{eo=!0}return eo}var rv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Uu(o){return o!=null&&!rv.has(o)?(Tn(!1,`"${o}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lo}"`),null):o}function sv(o,r){let s,l,u,d,f;if(ev(o)){let y=o.getAttribute("action");l=y?ra(y,r):null,s=o.getAttribute("method")||so,u=Uu(o.getAttribute("enctype"))||lo,d=new FormData(o)}else if(Jx(o)||tv(o)&&(o.type==="submit"||o.type==="image")){let y=o.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=o.getAttribute("formaction")||y.getAttribute("action");if(l=p?ra(p,r):null,s=o.getAttribute("formmethod")||y.getAttribute("method")||so,u=Uu(o.getAttribute("formenctype"))||Uu(y.getAttribute("enctype"))||lo,d=new FormData(y,o),!iv()){let{name:m,type:x,value:w}=o;if(x==="image"){let k=m?`${m}.`:"";d.append(`${k}x`,"0"),d.append(`${k}y`,"0")}else m&&d.append(m,w)}}else{if(yo(o))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=so,l=null,u=lo,f=o}return d&&u==="text/plain"&&(f=d,d=void 0),{action:l,method:s.toLowerCase(),encType:u,formData:d,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cd(o,r){if(o===!1||o===null||typeof o>"u")throw new Error(r)}function lv(o,r,s){let l=typeof o=="string"?new URL(o,typeof window>"u"?"server://singlefetch/":window.location.origin):o;return l.pathname==="/"?l.pathname=`_root.${s}`:r&&ra(l.pathname,r)==="/"?l.pathname=`${r.replace(/\/$/,"")}/_root.${s}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${s}`,l}async function ov(o,r){if(o.id in r)return r[o.id];try{let s=await import(o.module);return r[o.id]=s,s}catch(s){return console.error(`Error loading route module \`${o.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cv(o){return o==null?!1:o.href==null?o.rel==="preload"&&typeof o.imageSrcSet=="string"&&typeof o.imageSizes=="string":typeof o.rel=="string"&&typeof o.href=="string"}async function uv(o,r,s){let l=await Promise.all(o.map(async u=>{let d=r.routes[u.route.id];if(d){let f=await ov(d,s);return f.links?f.links():[]}return[]}));return pv(l.flat(1).filter(cv).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function mg(o,r,s,l,u,d){let f=(p,m)=>s[m]?p.route.id!==s[m].route.id:!0,y=(p,m)=>s[m].pathname!==p.pathname||s[m].route.path?.endsWith("*")&&s[m].params["*"]!==p.params["*"];return d==="assets"?r.filter((p,m)=>f(p,m)||y(p,m)):d==="data"?r.filter((p,m)=>{let x=l.routes[p.route.id];if(!x||!x.hasLoader)return!1;if(f(p,m)||y(p,m))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(o,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function dv(o,r,{includeHydrateFallback:s}={}){return hv(o.map(l=>{let u=r.routes[l.route.id];if(!u)return[];let d=[u.module];return u.clientActionModule&&(d=d.concat(u.clientActionModule)),u.clientLoaderModule&&(d=d.concat(u.clientLoaderModule)),s&&u.hydrateFallbackModule&&(d=d.concat(u.hydrateFallbackModule)),u.imports&&(d=d.concat(u.imports)),d}).flat(1))}function hv(o){return[...new Set(o)]}function fv(o){let r={},s=Object.keys(o).sort();for(let l of s)r[l]=o[l];return r}function pv(o,r){let s=new Set;return new Set(r),o.reduce((l,u)=>{let d=JSON.stringify(fv(u));return s.has(d)||(s.add(d),l.push({key:d,link:u})),l},[])}function hm(){let o=C.useContext(dr);return cd(o,"You must render this element inside a <DataRouterContext.Provider> element"),o}function gv(){let o=C.useContext(go);return cd(o,"You must render this element inside a <DataRouterStateContext.Provider> element"),o}var ud=C.createContext(void 0);ud.displayName="FrameworkContext";function fm(){let o=C.useContext(ud);return cd(o,"You must render this element inside a <HydratedRouter> element"),o}function mv(o,r){let s=C.useContext(ud),[l,u]=C.useState(!1),[d,f]=C.useState(!1),{onFocus:y,onBlur:p,onMouseEnter:m,onMouseLeave:x,onTouchStart:w}=r,k=C.useRef(null);C.useEffect(()=>{if(o==="render"&&f(!0),o==="viewport"){let q=B=>{B.forEach(oe=>{f(oe.isIntersecting)})},L=new IntersectionObserver(q,{threshold:.5});return k.current&&L.observe(k.current),()=>{L.disconnect()}}},[o]),C.useEffect(()=>{if(l){let q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(q)}}},[l]);let S=()=>{u(!0)},b=()=>{u(!1),f(!1)};return s?o!=="intent"?[d,k,{}]:[d,k,{onFocus:hs(y,S),onBlur:hs(p,b),onMouseEnter:hs(m,S),onMouseLeave:hs(x,b),onTouchStart:hs(w,S)}]:[!1,k,{}]}function hs(o,r){return s=>{o&&o(s),s.defaultPrevented||r(s)}}function yv({page:o,...r}){let{router:s}=hm(),l=C.useMemo(()=>em(s.routes,o,s.basename),[s.routes,o,s.basename]);return l?C.createElement(vv,{page:o,matches:l,...r}):null}function xv(o){let{manifest:r,routeModules:s}=fm(),[l,u]=C.useState([]);return C.useEffect(()=>{let d=!1;return uv(o,r,s).then(f=>{d||u(f)}),()=>{d=!0}},[o,r,s]),l}function vv({page:o,matches:r,...s}){let l=Oa(),{manifest:u,routeModules:d}=fm(),{basename:f}=hm(),{loaderData:y,matches:p}=gv(),m=C.useMemo(()=>mg(o,r,p,u,l,"data"),[o,r,p,u,l]),x=C.useMemo(()=>mg(o,r,p,u,l,"assets"),[o,r,p,u,l]),w=C.useMemo(()=>{if(o===l.pathname+l.search+l.hash)return[];let b=new Set,q=!1;if(r.forEach(B=>{let oe=u.routes[B.route.id];!oe||!oe.hasLoader||(!m.some(G=>G.route.id===B.route.id)&&B.route.id in y&&d[B.route.id]?.shouldRevalidate||oe.hasClientLoader?q=!0:b.add(B.route.id))}),b.size===0)return[];let L=lv(o,f,"data");return q&&b.size>0&&L.searchParams.set("_routes",r.filter(B=>b.has(B.route.id)).map(B=>B.route.id).join(",")),[L.pathname+L.search]},[f,y,l,u,m,r,o,d]),k=C.useMemo(()=>dv(x,u),[x,u]),S=xv(x);return C.createElement(C.Fragment,null,w.map(b=>C.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...s})),k.map(b=>C.createElement("link",{key:b,rel:"modulepreload",href:b,...s})),S.map(({key:b,link:q})=>C.createElement("link",{key:b,nonce:s.nonce,...q})))}function bv(...o){return r=>{o.forEach(s=>{typeof s=="function"?s(r):s!=null&&(s.current=r)})}}var pm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pm&&(window.__reactRouterVersion="7.8.0")}catch{}function jv({basename:o,children:r,window:s}){let l=C.useRef();l.current==null&&(l.current=cx({window:s,v5Compat:!0}));let u=l.current,[d,f]=C.useState({action:u.action,location:u.location}),y=C.useCallback(p=>{C.startTransition(()=>f(p))},[f]);return C.useLayoutEffect(()=>u.listen(y),[u,y]),C.createElement(Kx,{basename:o,children:r,location:d.location,navigationType:d.action,navigator:u})}var gm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gt=C.forwardRef(function({onClick:r,discover:s="render",prefetch:l="none",relative:u,reloadDocument:d,replace:f,state:y,target:p,to:m,preventScrollReset:x,viewTransition:w,...k},S){let{basename:b}=C.useContext(Un),q=typeof m=="string"&&gm.test(m),L,B=!1;if(typeof m=="string"&&q&&(L=m,pm))try{let be=new URL(window.location.href),ie=m.startsWith("//")?new URL(be.protocol+m):new URL(m),Ue=ra(ie.pathname,b);ie.origin===be.origin&&Ue!=null?m=Ue+ie.search+ie.hash:B=!0}catch{Tn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let oe=Bx(m,{relative:u}),[G,te,ae]=mv(l,k),de=Cv(m,{replace:f,state:y,target:p,preventScrollReset:x,relative:u,viewTransition:w});function he(be){r&&r(be),be.defaultPrevented||de(be)}let qe=C.createElement("a",{...k,...ae,href:L||oe,onClick:B||d?r:he,ref:bv(S,te),target:p,"data-discover":!q&&s==="render"?"true":void 0});return G&&!q?C.createElement(C.Fragment,null,qe,C.createElement(yv,{page:oe})):qe});Gt.displayName="Link";var _v=C.forwardRef(function({"aria-current":r="page",caseSensitive:s=!1,className:l="",end:u=!1,style:d,to:f,viewTransition:y,children:p,...m},x){let w=Hs(f,{relative:m.relative}),k=Oa(),S=C.useContext(go),{navigator:b,basename:q}=C.useContext(Un),L=S!=null&&Av(w)&&y===!0,B=b.encodeLocation?b.encodeLocation(w).pathname:w.pathname,oe=k.pathname,G=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;s||(oe=oe.toLowerCase(),G=G?G.toLowerCase():null,B=B.toLowerCase()),G&&q&&(G=ra(G,q)||G);const te=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let ae=oe===B||!u&&oe.startsWith(B)&&oe.charAt(te)==="/",de=G!=null&&(G===B||!u&&G.startsWith(B)&&G.charAt(B.length)==="/"),he={isActive:ae,isPending:de,isTransitioning:L},qe=ae?r:void 0,be;typeof l=="function"?be=l(he):be=[l,ae?"active":null,de?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let ie=typeof d=="function"?d(he):d;return C.createElement(Gt,{...m,"aria-current":qe,className:be,ref:x,style:ie,to:f,viewTransition:y},typeof p=="function"?p(he):p)});_v.displayName="NavLink";var wv=C.forwardRef(({discover:o="render",fetcherKey:r,navigate:s,reloadDocument:l,replace:u,state:d,method:f=so,action:y,onSubmit:p,relative:m,preventScrollReset:x,viewTransition:w,...k},S)=>{let b=Ev(),q=zv(y,{relative:m}),L=f.toLowerCase()==="get"?"get":"post",B=typeof y=="string"&&gm.test(y),oe=G=>{if(p&&p(G),G.defaultPrevented)return;G.preventDefault();let te=G.nativeEvent.submitter,ae=te?.getAttribute("formmethod")||f;b(te||G.currentTarget,{fetcherKey:r,method:ae,navigate:s,replace:u,state:d,relative:m,preventScrollReset:x,viewTransition:w})};return C.createElement("form",{ref:S,method:L,action:q,onSubmit:l?p:oe,...k,"data-discover":!B&&o==="render"?"true":void 0})});wv.displayName="Form";function Sv(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mm(o){let r=C.useContext(dr);return ct(r,Sv(o)),r}function Cv(o,{target:r,replace:s,state:l,preventScrollReset:u,relative:d,viewTransition:f}={}){let y=mo(),p=Oa(),m=Hs(o,{relative:d});return C.useCallback(x=>{if(av(x,r)){x.preventDefault();let w=s!==void 0?s:Bs(p)===Bs(m);y(o,{replace:w,state:l,preventScrollReset:u,relative:d,viewTransition:f})}},[p,y,m,s,l,r,o,u,d,f])}var kv=0,Tv=()=>`__${String(++kv)}__`;function Ev(){let{router:o}=mm("useSubmit"),{basename:r}=C.useContext(Un),s=Vx();return C.useCallback(async(l,u={})=>{let{action:d,method:f,encType:y,formData:p,body:m}=sv(l,r);if(u.navigate===!1){let x=u.fetcherKey||Tv();await o.fetch(x,s,u.action||d,{preventScrollReset:u.preventScrollReset,formData:p,body:m,formMethod:u.method||f,formEncType:u.encType||y,flushSync:u.flushSync})}else await o.navigate(u.action||d,{preventScrollReset:u.preventScrollReset,formData:p,body:m,formMethod:u.method||f,formEncType:u.encType||y,replace:u.replace,state:u.state,fromRouteId:s,flushSync:u.flushSync,viewTransition:u.viewTransition})},[o,r,s])}function zv(o,{relative:r}={}){let{basename:s}=C.useContext(Un),l=C.useContext(Bn);ct(l,"useFormAction must be used inside a RouteContext");let[u]=l.matches.slice(-1),d={...Hs(o||".",{relative:r})},f=Oa();if(o==null){d.search=f.search;let y=new URLSearchParams(d.search),p=y.getAll("index");if(p.some(x=>x==="")){y.delete("index"),p.filter(w=>w).forEach(w=>y.append("index",w));let x=y.toString();d.search=x?`?${x}`:""}}return(!o||o===".")&&u.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(d.pathname=d.pathname==="/"?s:ia([s,d.pathname])),Bs(d)}function Av(o,{relative:r}={}){let s=C.useContext(sm);ct(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=mm("useViewTransitionState"),u=Hs(o,{relative:r});if(!s.isTransitioning)return!1;let d=ra(s.currentLocation.pathname,l)||s.currentLocation.pathname,f=ra(s.nextLocation.pathname,l)||s.nextLocation.pathname;return oo(u.pathname,f)!=null||oo(u.pathname,d)!=null}const Rv="modulepreload",Dv=function(o){return"/zoomies-beta/"+o},yg={},$s=function(r,s,l){let u=Promise.resolve();if(s&&s.length>0){let m=function(x){return Promise.all(x.map(w=>Promise.resolve(w).then(k=>({status:"fulfilled",value:k}),k=>({status:"rejected",reason:k}))))};var f=m;document.getElementsByTagName("link");const y=document.querySelector("meta[property=csp-nonce]"),p=y?.nonce||y?.getAttribute("nonce");u=m(s.map(x=>{if(x=Dv(x),x in yg)return;yg[x]=!0;const w=x.endsWith(".css"),k=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${k}`))return;const S=document.createElement("link");if(S.rel=w?"stylesheet":Rv,w||(S.as="script"),S.crossOrigin="",S.href=x,p&&S.setAttribute("nonce",p),document.head.appendChild(S),w)return new Promise((b,q)=>{S.addEventListener("load",b),S.addEventListener("error",()=>q(new Error(`Unable to preload CSS for ${x}`)))})}))}function d(y){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=y,window.dispatchEvent(p),!p.defaultPrevented)throw y}return u.then(y=>{for(const p of y||[])p.status==="rejected"&&d(p.reason);return r().catch(d)})},Mv=o=>{let r;return o?r=o:typeof fetch>"u"?r=(...s)=>$s(async()=>{const{default:l}=await Promise.resolve().then(()=>hr);return{default:l}},[]).then(({default:l})=>l(...s)):r=fetch,(...s)=>r(...s)};class dd extends Error{constructor(r,s="FunctionsError",l){super(r),this.name=s,this.context=l}}class Ov extends dd{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class xg extends dd{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class vg extends dd{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Fu;(function(o){o.Any="any",o.ApNortheast1="ap-northeast-1",o.ApNortheast2="ap-northeast-2",o.ApSouth1="ap-south-1",o.ApSoutheast1="ap-southeast-1",o.ApSoutheast2="ap-southeast-2",o.CaCentral1="ca-central-1",o.EuCentral1="eu-central-1",o.EuWest1="eu-west-1",o.EuWest2="eu-west-2",o.EuWest3="eu-west-3",o.SaEast1="sa-east-1",o.UsEast1="us-east-1",o.UsWest1="us-west-1",o.UsWest2="us-west-2"})(Fu||(Fu={}));var Uv=function(o,r,s,l){function u(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function y(x){try{m(l.next(x))}catch(w){f(w)}}function p(x){try{m(l.throw(x))}catch(w){f(w)}}function m(x){x.done?d(x.value):u(x.value).then(y,p)}m((l=l.apply(o,r||[])).next())})};class Bv{constructor(r,{headers:s={},customFetch:l,region:u=Fu.Any}={}){this.url=r,this.headers=s,this.region=u,this.fetch=Mv(l)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,s={}){var l;return Uv(this,void 0,void 0,function*(){try{const{headers:u,method:d,body:f}=s;let y={},{region:p}=s;p||(p=this.region);const m=new URL(`${this.url}/${r}`);p&&p!=="any"&&(y["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let x;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",x=f):typeof f=="string"?(y["Content-Type"]="text/plain",x=f):typeof FormData<"u"&&f instanceof FormData?x=f:(y["Content-Type"]="application/json",x=JSON.stringify(f)));const w=yield this.fetch(m.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),u),body:x}).catch(q=>{throw new Ov(q)}),k=w.headers.get("x-relay-error");if(k&&k==="true")throw new xg(w);if(!w.ok)throw new vg(w);let S=((l=w.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),b;return S==="application/json"?b=yield w.json():S==="application/octet-stream"?b=yield w.blob():S==="text/event-stream"?b=w:S==="multipart/form-data"?b=yield w.formData():b=yield w.text(),{data:b,error:null,response:w}}catch(u){return{data:null,error:u,response:u instanceof vg||u instanceof xg?u.context:void 0}}})}}var Dt={},Qi={},Xi={},Ki={},Zi={},Ji={},Nv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},cr=Nv();const Lv=cr.fetch,ym=cr.fetch.bind(cr),xm=cr.Headers,Pv=cr.Request,qv=cr.Response,hr=Object.freeze(Object.defineProperty({__proto__:null,Headers:xm,Request:Pv,Response:qv,default:ym,fetch:Lv},Symbol.toStringTag,{value:"Module"})),Hv=X0(hr);var to={},bg;function vm(){if(bg)return to;bg=1,Object.defineProperty(to,"__esModule",{value:!0});class o extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return to.default=o,to}var jg;function bm(){if(jg)return Ji;jg=1;var o=Ji&&Ji.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Ji,"__esModule",{value:!0});const r=o(Hv),s=o(vm());class l{constructor(d){this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=d.headers,this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=d.shouldThrowOnError,this.signal=d.signal,this.isMaybeSingle=d.isMaybeSingle,d.fetch?this.fetch=d.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(d,f){return this.headers=Object.assign({},this.headers),this.headers[d]=f,this}then(d,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const y=this.fetch;let p=y(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var x,w,k;let S=null,b=null,q=null,L=m.status,B=m.statusText;if(m.ok){if(this.method!=="HEAD"){const ae=await m.text();ae===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?b=ae:b=JSON.parse(ae))}const G=(x=this.headers.Prefer)===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),te=(w=m.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");G&&te&&te.length>1&&(q=parseInt(te[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(S={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,q=null,L=406,B="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const G=await m.text();try{S=JSON.parse(G),Array.isArray(S)&&m.status===404&&(b=[],S=null,L=200,B="OK")}catch{m.status===404&&G===""?(L=204,B="No Content"):S={message:G}}if(S&&this.isMaybeSingle&&(!((k=S?.details)===null||k===void 0)&&k.includes("0 rows"))&&(S=null,L=200,B="OK"),S&&this.shouldThrowOnError)throw new s.default(S)}return{error:S,data:b,count:q,status:L,statusText:B}});return this.shouldThrowOnError||(p=p.catch(m=>{var x,w,k;return{error:{message:`${(x=m?.name)!==null&&x!==void 0?x:"FetchError"}: ${m?.message}`,details:`${(w=m?.stack)!==null&&w!==void 0?w:""}`,hint:"",code:`${(k=m?.code)!==null&&k!==void 0?k:""}`},data:null,count:null,status:0,statusText:""}})),p.then(d,f)}returns(){return this}overrideTypes(){return this}}return Ji.default=l,Ji}var _g;function jm(){if(_g)return Zi;_g=1;var o=Zi&&Zi.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Zi,"__esModule",{value:!0});const r=o(bm());class s extends r.default{select(u){let d=!1;const f=(u??"*").split("").map(y=>/\s/.test(y)&&!d?"":(y==='"'&&(d=!d),y)).join("");return this.url.searchParams.set("select",f),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(u,{ascending:d=!0,nullsFirst:f,foreignTable:y,referencedTable:p=y}={}){const m=p?`${p}.order`:"order",x=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${x?`${x},`:""}${u}.${d?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:d,referencedTable:f=d}={}){const y=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(y,`${u}`),this}range(u,d,{foreignTable:f,referencedTable:y=f}={}){const p=typeof y>"u"?"offset":`${y}.offset`,m=typeof y>"u"?"limit":`${y}.limit`;return this.url.searchParams.set(p,`${u}`),this.url.searchParams.set(m,`${d-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:u=!1,verbose:d=!1,settings:f=!1,buffers:y=!1,wal:p=!1,format:m="text"}={}){var x;const w=[u?"analyze":null,d?"verbose":null,f?"settings":null,y?"buffers":null,p?"wal":null].filter(Boolean).join("|"),k=(x=this.headers.Accept)!==null&&x!==void 0?x:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${m}; for="${k}"; options=${w};`,m==="json"?this:this}rollback(){var u;return((u=this.headers.Prefer)!==null&&u!==void 0?u:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Zi.default=s,Zi}var wg;function hd(){if(wg)return Ki;wg=1;var o=Ki&&Ki.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Ki,"__esModule",{value:!0});const r=o(jm());class s extends r.default{eq(u,d){return this.url.searchParams.append(u,`eq.${d}`),this}neq(u,d){return this.url.searchParams.append(u,`neq.${d}`),this}gt(u,d){return this.url.searchParams.append(u,`gt.${d}`),this}gte(u,d){return this.url.searchParams.append(u,`gte.${d}`),this}lt(u,d){return this.url.searchParams.append(u,`lt.${d}`),this}lte(u,d){return this.url.searchParams.append(u,`lte.${d}`),this}like(u,d){return this.url.searchParams.append(u,`like.${d}`),this}likeAllOf(u,d){return this.url.searchParams.append(u,`like(all).{${d.join(",")}}`),this}likeAnyOf(u,d){return this.url.searchParams.append(u,`like(any).{${d.join(",")}}`),this}ilike(u,d){return this.url.searchParams.append(u,`ilike.${d}`),this}ilikeAllOf(u,d){return this.url.searchParams.append(u,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(u,d){return this.url.searchParams.append(u,`ilike(any).{${d.join(",")}}`),this}is(u,d){return this.url.searchParams.append(u,`is.${d}`),this}in(u,d){const f=Array.from(new Set(d)).map(y=>typeof y=="string"&&new RegExp("[,()]").test(y)?`"${y}"`:`${y}`).join(",");return this.url.searchParams.append(u,`in.(${f})`),this}contains(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cs.{${d.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(d)}`),this}containedBy(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cd.{${d.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(d)}`),this}rangeGt(u,d){return this.url.searchParams.append(u,`sr.${d}`),this}rangeGte(u,d){return this.url.searchParams.append(u,`nxl.${d}`),this}rangeLt(u,d){return this.url.searchParams.append(u,`sl.${d}`),this}rangeLte(u,d){return this.url.searchParams.append(u,`nxr.${d}`),this}rangeAdjacent(u,d){return this.url.searchParams.append(u,`adj.${d}`),this}overlaps(u,d){return typeof d=="string"?this.url.searchParams.append(u,`ov.${d}`):this.url.searchParams.append(u,`ov.{${d.join(",")}}`),this}textSearch(u,d,{config:f,type:y}={}){let p="";y==="plain"?p="pl":y==="phrase"?p="ph":y==="websearch"&&(p="w");const m=f===void 0?"":`(${f})`;return this.url.searchParams.append(u,`${p}fts${m}.${d}`),this}match(u){return Object.entries(u).forEach(([d,f])=>{this.url.searchParams.append(d,`eq.${f}`)}),this}not(u,d,f){return this.url.searchParams.append(u,`not.${d}.${f}`),this}or(u,{foreignTable:d,referencedTable:f=d}={}){const y=f?`${f}.or`:"or";return this.url.searchParams.append(y,`(${u})`),this}filter(u,d,f){return this.url.searchParams.append(u,`${d}.${f}`),this}}return Ki.default=s,Ki}var Sg;function _m(){if(Sg)return Xi;Sg=1;var o=Xi&&Xi.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Xi,"__esModule",{value:!0});const r=o(hd());class s{constructor(u,{headers:d={},schema:f,fetch:y}){this.url=u,this.headers=d,this.schema=f,this.fetch=y}select(u,{head:d=!1,count:f}={}){const y=d?"HEAD":"GET";let p=!1;const m=(u??"*").split("").map(x=>/\s/.test(x)&&!p?"":(x==='"'&&(p=!p),x)).join("");return this.url.searchParams.set("select",m),f&&(this.headers.Prefer=`count=${f}`),new r.default({method:y,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(u,{count:d,defaultToNull:f=!0}={}){const y="POST",p=[];if(this.headers.Prefer&&p.push(this.headers.Prefer),d&&p.push(`count=${d}`),f||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(u)){const m=u.reduce((x,w)=>x.concat(Object.keys(w)),[]);if(m.length>0){const x=[...new Set(m)].map(w=>`"${w}"`);this.url.searchParams.set("columns",x.join(","))}}return new r.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:this.fetch,allowEmpty:!1})}upsert(u,{onConflict:d,ignoreDuplicates:f=!1,count:y,defaultToNull:p=!0}={}){const m="POST",x=[`resolution=${f?"ignore":"merge"}-duplicates`];if(d!==void 0&&this.url.searchParams.set("on_conflict",d),this.headers.Prefer&&x.push(this.headers.Prefer),y&&x.push(`count=${y}`),p||x.push("missing=default"),this.headers.Prefer=x.join(","),Array.isArray(u)){const w=u.reduce((k,S)=>k.concat(Object.keys(S)),[]);if(w.length>0){const k=[...new Set(w)].map(S=>`"${S}"`);this.url.searchParams.set("columns",k.join(","))}}return new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:this.fetch,allowEmpty:!1})}update(u,{count:d}={}){const f="PATCH",y=[];return this.headers.Prefer&&y.push(this.headers.Prefer),d&&y.push(`count=${d}`),this.headers.Prefer=y.join(","),new r.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:this.fetch,allowEmpty:!1})}delete({count:u}={}){const d="DELETE",f=[];return u&&f.push(`count=${u}`),this.headers.Prefer&&f.unshift(this.headers.Prefer),this.headers.Prefer=f.join(","),new r.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Xi.default=s,Xi}var fs={},ps={},Cg;function $v(){return Cg||(Cg=1,Object.defineProperty(ps,"__esModule",{value:!0}),ps.version=void 0,ps.version="0.0.0-automated"),ps}var kg;function Gv(){if(kg)return fs;kg=1,Object.defineProperty(fs,"__esModule",{value:!0}),fs.DEFAULT_HEADERS=void 0;const o=$v();return fs.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${o.version}`},fs}var Tg;function Wv(){if(Tg)return Qi;Tg=1;var o=Qi&&Qi.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Qi,"__esModule",{value:!0});const r=o(_m()),s=o(hd()),l=Gv();class u{constructor(f,{headers:y={},schema:p,fetch:m}={}){this.url=f,this.headers=Object.assign(Object.assign({},l.DEFAULT_HEADERS),y),this.schemaName=p,this.fetch=m}from(f){const y=new URL(`${this.url}/${f}`);return new r.default(y,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(f){return new u(this.url,{headers:this.headers,schema:f,fetch:this.fetch})}rpc(f,y={},{head:p=!1,get:m=!1,count:x}={}){let w;const k=new URL(`${this.url}/rpc/${f}`);let S;p||m?(w=p?"HEAD":"GET",Object.entries(y).filter(([q,L])=>L!==void 0).map(([q,L])=>[q,Array.isArray(L)?`{${L.join(",")}}`:`${L}`]).forEach(([q,L])=>{k.searchParams.append(q,L)})):(w="POST",S=y);const b=Object.assign({},this.headers);return x&&(b.Prefer=`count=${x}`),new s.default({method:w,url:k,headers:b,schema:this.schemaName,body:S,fetch:this.fetch,allowEmpty:!1})}}return Qi.default=u,Qi}var Eg;function Fv(){if(Eg)return Dt;Eg=1;var o=Dt&&Dt.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.PostgrestError=Dt.PostgrestBuilder=Dt.PostgrestTransformBuilder=Dt.PostgrestFilterBuilder=Dt.PostgrestQueryBuilder=Dt.PostgrestClient=void 0;const r=o(Wv());Dt.PostgrestClient=r.default;const s=o(_m());Dt.PostgrestQueryBuilder=s.default;const l=o(hd());Dt.PostgrestFilterBuilder=l.default;const u=o(jm());Dt.PostgrestTransformBuilder=u.default;const d=o(bm());Dt.PostgrestBuilder=d.default;const f=o(vm());return Dt.PostgrestError=f.default,Dt.default={PostgrestClient:r.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:d.default,PostgrestError:f.default},Dt}var Iv=Fv();const Vv=id(Iv),{PostgrestClient:Yv,PostgrestQueryBuilder:R2,PostgrestFilterBuilder:D2,PostgrestTransformBuilder:M2,PostgrestBuilder:O2,PostgrestError:U2}=Vv;class Qv{static dynamicRequire(r){try{return typeof process<"u"&&process.versions&&process.versions.node&&typeof require<"u"?require(r):null}catch{return null}}static detectEnvironment(){var r,s;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const l=parseInt(process.versions.node.split(".")[0]);if(l>=22)try{if(typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};const u=this.dynamicRequire("undici");if(u&&u.WebSocket)return{type:"native",constructor:u.WebSocket};throw new Error("undici not available")}catch{return{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:'Install the "ws" package or check your Node.js installation.'}}try{const u=this.dynamicRequire("ws");if(u)return{type:"ws",constructor:(s=u.WebSocket)!==null&&s!==void 0?s:u};throw new Error("ws package not available")}catch{return{type:"unsupported",error:`Node.js ${l} detected without WebSocket support.`,workaround:'Install the "ws" package: npm install ws'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let s=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(s+=`

Suggested solution: ${r.workaround}`),new Error(s)}static createWebSocket(r,s){const l=this.getWebSocketConstructor();return new l(r,s)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const Xv="2.15.0",Kv=`realtime-js/${Xv}`,Zv="1.0.0",Iu=1e4,Jv=1e3,e1=100;var Ds;(function(o){o[o.connecting=0]="connecting",o[o.open=1]="open",o[o.closing=2]="closing",o[o.closed=3]="closed"})(Ds||(Ds={}));var Ct;(function(o){o.closed="closed",o.errored="errored",o.joined="joined",o.joining="joining",o.leaving="leaving"})(Ct||(Ct={}));var Cn;(function(o){o.close="phx_close",o.error="phx_error",o.join="phx_join",o.reply="phx_reply",o.leave="phx_leave",o.access_token="access_token"})(Cn||(Cn={}));var Vu;(function(o){o.websocket="websocket"})(Vu||(Vu={}));var ii;(function(o){o.Connecting="connecting",o.Open="open",o.Closing="closing",o.Closed="closed"})(ii||(ii={}));class t1{constructor(){this.HEADER_LENGTH=1}decode(r,s){return r.constructor===ArrayBuffer?s(this._binaryDecode(r)):s(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const s=new DataView(r),l=new TextDecoder;return this._decodeBroadcast(r,s,l)}_decodeBroadcast(r,s,l){const u=s.getUint8(1),d=s.getUint8(2);let f=this.HEADER_LENGTH+2;const y=l.decode(r.slice(f,f+u));f=f+u;const p=l.decode(r.slice(f,f+d));f=f+d;const m=JSON.parse(l.decode(r.slice(f,r.byteLength)));return{ref:null,topic:y,event:p,payload:m}}}class wm{constructor(r,s){this.callback=r,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var it;(function(o){o.abstime="abstime",o.bool="bool",o.date="date",o.daterange="daterange",o.float4="float4",o.float8="float8",o.int2="int2",o.int4="int4",o.int4range="int4range",o.int8="int8",o.int8range="int8range",o.json="json",o.jsonb="jsonb",o.money="money",o.numeric="numeric",o.oid="oid",o.reltime="reltime",o.text="text",o.time="time",o.timestamp="timestamp",o.timestamptz="timestamptz",o.timetz="timetz",o.tsrange="tsrange",o.tstzrange="tstzrange"})(it||(it={}));const zg=(o,r,s={})=>{var l;const u=(l=s.skipTypes)!==null&&l!==void 0?l:[];return Object.keys(r).reduce((d,f)=>(d[f]=n1(f,o,r,u),d),{})},n1=(o,r,s,l)=>{const u=r.find(y=>y.name===o),d=u?.type,f=s[o];return d&&!l.includes(d)?Sm(d,f):Yu(f)},Sm=(o,r)=>{if(o.charAt(0)==="_"){const s=o.slice(1,o.length);return s1(r,s)}switch(o){case it.bool:return a1(r);case it.float4:case it.float8:case it.int2:case it.int4:case it.int8:case it.numeric:case it.oid:return i1(r);case it.json:case it.jsonb:return r1(r);case it.timestamp:return l1(r);case it.abstime:case it.date:case it.daterange:case it.int4range:case it.int8range:case it.money:case it.reltime:case it.text:case it.time:case it.timestamptz:case it.timetz:case it.tsrange:case it.tstzrange:return Yu(r);default:return Yu(r)}},Yu=o=>o,a1=o=>{switch(o){case"t":return!0;case"f":return!1;default:return o}},i1=o=>{if(typeof o=="string"){const r=parseFloat(o);if(!Number.isNaN(r))return r}return o},r1=o=>{if(typeof o=="string")try{return JSON.parse(o)}catch(r){return console.log(`JSON parse error: ${r}`),o}return o},s1=(o,r)=>{if(typeof o!="string")return o;const s=o.length-1,l=o[s];if(o[0]==="{"&&l==="}"){let d;const f=o.slice(1,s);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(y=>Sm(r,y))}return o},l1=o=>typeof o=="string"?o.replace(" ","T"):o,Cm=o=>{let r=o;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")+"/api/broadcast"};class Bu{constructor(r,s,l={},u=Iu){this.channel=r,this.event=s,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,s){var l;return this._hasReceived(r)&&s((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:r,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:s}){this.recHooks.filter(l=>l.status===r).forEach(l=>l.callback(s))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Ag;(function(o){o.SYNC="sync",o.JOIN="join",o.LEAVE="leave"})(Ag||(Ag={}));class Ms{constructor(r,s){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:d,onLeave:f,onSync:y}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ms.syncState(this.state,u,d,f),this.pendingDiffs.forEach(p=>{this.state=Ms.syncDiff(this.state,p,d,f)}),this.pendingDiffs=[],y()}),this.channel._on(l.diff,{},u=>{const{onJoin:d,onLeave:f,onSync:y}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Ms.syncDiff(this.state,u,d,f),y())}),this.onJoin((u,d,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:d,newPresences:f})}),this.onLeave((u,d,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,s,l,u){const d=this.cloneDeep(r),f=this.transformState(s),y={},p={};return this.map(d,(m,x)=>{f[m]||(p[m]=x)}),this.map(f,(m,x)=>{const w=d[m];if(w){const k=x.map(L=>L.presence_ref),S=w.map(L=>L.presence_ref),b=x.filter(L=>S.indexOf(L.presence_ref)<0),q=w.filter(L=>k.indexOf(L.presence_ref)<0);b.length>0&&(y[m]=b),q.length>0&&(p[m]=q)}else y[m]=x}),this.syncDiff(d,{joins:y,leaves:p},l,u)}static syncDiff(r,s,l,u){const{joins:d,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(d,(y,p)=>{var m;const x=(m=r[y])!==null&&m!==void 0?m:[];if(r[y]=this.cloneDeep(p),x.length>0){const w=r[y].map(S=>S.presence_ref),k=x.filter(S=>w.indexOf(S.presence_ref)<0);r[y].unshift(...k)}l(y,x,p)}),this.map(f,(y,p)=>{let m=r[y];if(!m)return;const x=p.map(w=>w.presence_ref);m=m.filter(w=>x.indexOf(w.presence_ref)<0),r[y]=m,u(y,m,p),m.length===0&&delete r[y]}),r}static map(r,s){return Object.getOwnPropertyNames(r).map(l=>s(l,r[l]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((s,l)=>{const u=r[l];return"metas"in u?s[l]=u.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):s[l]=u,s},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Rg;(function(o){o.ALL="*",o.INSERT="INSERT",o.UPDATE="UPDATE",o.DELETE="DELETE"})(Rg||(Rg={}));var Os;(function(o){o.BROADCAST="broadcast",o.PRESENCE="presence",o.POSTGRES_CHANGES="postgres_changes",o.SYSTEM="system"})(Os||(Os={}));var na;(function(o){o.SUBSCRIBED="SUBSCRIBED",o.TIMED_OUT="TIMED_OUT",o.CLOSED="CLOSED",o.CHANNEL_ERROR="CHANNEL_ERROR"})(na||(na={}));class fd{constructor(r,s={config:{}},l){this.topic=r,this.params=s,this.socket=l,this.bindings={},this.state=Ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Bu(this,Cn.join,this.params,this.timeout),this.rejoinTimer=new wm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ct.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Cn.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new Ms(this),this.broadcastEndpointURL=Cm(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(r,s=this.timeout){var l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Ct.closed){const{config:{broadcast:d,presence:f,private:y}}=this.params,p=(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(k=>k.filter))!==null&&u!==void 0?u:[],m=!!this.bindings[Os.PRESENCE]&&this.bindings[Os.PRESENCE].length>0,x={},w={broadcast:d,presence:Object.assign(Object.assign({},f),{enabled:m}),postgres_changes:p,private:y};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(k=>r?.(na.CHANNEL_ERROR,k)),this._onClose(()=>r?.(na.CLOSED)),this.updateJoinPayload(Object.assign({config:w},x)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:k})=>{var S;if(this.socket.setAuth(),k===void 0){r?.(na.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,q=(S=b?.length)!==null&&S!==void 0?S:0,L=[];for(let B=0;B<q;B++){const oe=b[B],{filter:{event:G,schema:te,table:ae,filter:de}}=oe,he=k&&k[B];if(he&&he.event===G&&he.schema===te&&he.table===ae&&he.filter===de)L.push(Object.assign(Object.assign({},oe),{id:he.id}));else{this.unsubscribe(),this.state=Ct.errored,r?.(na.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=L,r&&r(na.SUBSCRIBED);return}}).receive("error",k=>{this.state=Ct.errored,r?.(na.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(k).join(", ")||"error")))}).receive("timeout",()=>{r?.(na.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,s={}){return await this.send({type:"presence",event:"track",payload:r},s.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,s,l){return this.state===Ct.joined&&r===Os.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,s,l)}async send(r,s={}){var l,u;if(!this._canPush()&&r.type==="broadcast"){const{event:d,payload:f}=r,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(l=s.timeout)!==null&&l!==void 0?l:this.timeout);return await((u=m.body)===null||u===void 0?void 0:u.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,y,p;const m=this._push(r.type,r,s.timeout||this.timeout);r.type==="broadcast"&&!(!((p=(y=(f=this.params)===null||f===void 0?void 0:f.config)===null||y===void 0?void 0:y.broadcast)===null||p===void 0)&&p.ack)&&d("ok"),m.receive("ok",()=>d("ok")),m.receive("error",()=>d("error")),m.receive("timeout",()=>d("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Ct.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Cn.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(u=>{l=new Bu(this,Cn.leave,{},r),l.receive("ok",()=>{s(),u("ok")}).receive("timeout",()=>{s(),u("timed out")}).receive("error",()=>{u("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ct.closed,this.bindings={}}async _fetchWithTimeout(r,s,l){const u=new AbortController,d=setTimeout(()=>u.abort(),l),f=await this.socket.fetch(r,Object.assign(Object.assign({},s),{signal:u.signal}));return clearTimeout(d),f}_push(r,s,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Bu(this,r,s,l);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>e1){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(r,s,l){return s}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,s,l){var u,d;const f=r.toLocaleLowerCase(),{close:y,error:p,leave:m,join:x}=Cn;if(l&&[y,p,m,x].indexOf(f)>=0&&l!==this._joinRef())return;let k=this._onMessage(f,s,l);if(s&&!k)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(S=>{var b,q,L;return((b=S.filter)===null||b===void 0?void 0:b.event)==="*"||((L=(q=S.filter)===null||q===void 0?void 0:q.event)===null||L===void 0?void 0:L.toLocaleLowerCase())===f}).map(S=>S.callback(k,l)):(d=this.bindings[f])===null||d===void 0||d.filter(S=>{var b,q,L,B,oe,G;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in S){const te=S.id,ae=(b=S.filter)===null||b===void 0?void 0:b.event;return te&&((q=s.ids)===null||q===void 0?void 0:q.includes(te))&&(ae==="*"||ae?.toLocaleLowerCase()===((L=s.data)===null||L===void 0?void 0:L.type.toLocaleLowerCase()))}else{const te=(oe=(B=S?.filter)===null||B===void 0?void 0:B.event)===null||oe===void 0?void 0:oe.toLocaleLowerCase();return te==="*"||te===((G=s?.event)===null||G===void 0?void 0:G.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===f}).map(S=>{if(typeof k=="object"&&"ids"in k){const b=k.data,{schema:q,table:L,commit_timestamp:B,type:oe,errors:G}=b;k=Object.assign(Object.assign({},{schema:q,table:L,commit_timestamp:B,eventType:oe,new:{},old:{},errors:G}),this._getPayloadRecords(b))}S.callback(k,l)})}_isClosed(){return this.state===Ct.closed}_isJoined(){return this.state===Ct.joined}_isJoining(){return this.state===Ct.joining}_isLeaving(){return this.state===Ct.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,s,l){const u=r.toLocaleLowerCase(),d={type:u,filter:s,callback:l};return this.bindings[u]?this.bindings[u].push(d):this.bindings[u]=[d],this}_off(r,s){const l=r.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(u=>{var d;return!(((d=u.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===l&&fd.isEqual(u.filter,s))})),this}static isEqual(r,s){if(Object.keys(r).length!==Object.keys(s).length)return!1;for(const l in r)if(r[l]!==s[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Cn.close,{},r)}_onError(r){this._on(Cn.error,{},s=>r(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ct.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const s={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(s.new=zg(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(s.old=zg(r.columns,r.old_record)),s}}const Dg=()=>{},no={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},o1=[1e3,2e3,5e3,1e4],c1=1e4,u1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class d1{constructor(r,s){var l;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Iu,this.transport=null,this.heartbeatIntervalMs=no.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Dg,this.ref=0,this.reconnectTimer=null,this.logger=Dg,this.conn=null,this.sendBuffer=[],this.serializer=new t1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>{let d;return u?d=u:typeof fetch>"u"?d=(...f)=>$s(async()=>{const{default:y}=await Promise.resolve().then(()=>hr);return{default:y}},void 0).then(({default:y})=>y(...f)).catch(y=>{throw new Error(`Failed to load @supabase/node-fetch: ${y.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):d=fetch,(...f)=>d(...f)},!(!((l=s?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${r}/${Vu.websocket}`,this.httpEndpoint=Cm(r),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Qv.createWebSocket(this.endpointURL())}catch(r){throw this._setConnectionState("disconnected"),new Error(`WebSocket not available: ${r.message}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Zv}))}disconnect(r,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},r?this.conn.close(r,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const s=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const r=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,s,l){this.logger(r,s,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Ds.connecting:return ii.Connecting;case Ds.open:return ii.Open;case Ds.closing:return ii.Closing;default:return ii.Closed}}isConnected(){return this.connectionState()===ii.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,s={config:{}}){const l=`realtime:${r}`,u=this.getChannels().find(d=>d.topic===l);if(u)return u;{const d=new fd(`realtime:${r}`,s,this);return this.channels.push(d),d}}push(r){const{topic:s,event:l,payload:u,ref:d}=r,f=()=>{this.encode(r,y=>{var p;(p=this.conn)===null||p===void 0||p.send(y)})};this.log("push",`${s} ${l} (${d})`,u),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(Jv,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},no.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let s=this.channels.find(l=>l.topic===r&&(l._isJoined()||l._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${r}"`),s.unsubscribe())}_remove(r){this.channels=this.channels.filter(s=>s.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,s=>{s.topic==="phoenix"&&s.event==="phx_reply"&&this.heartbeatCallback(s.payload.status==="ok"?"ok":"error"),s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:u,payload:d,ref:f}=s,y=f?`(${f})`:"",p=d.status||"";this.log("receive",`${p} ${l} ${u} ${y}`.trim(),d),this.channels.filter(m=>m._isMember(l)).forEach(m=>m._trigger(u,d,f)),this._triggerStateCallbacks("message",s)})}_clearTimer(r){var s;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var s;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(Cn.error))}_appendParams(r,s){if(Object.keys(s).length===0)return r;const l=r.match(/\?/)?"&":"?",u=new URLSearchParams(s);return`${r}${l}${u}`}_workerObjectUrl(r){let s;if(r)s=r;else{const l=new Blob([u1],{type:"application/javascript"});s=URL.createObjectURL(l)}return s}_setConnectionState(r,s=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(r=null){let s;r?s=r:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(l=>{const u={access_token:s,version:Kv};s&&l.updateJoinPayload(u),l.joinedOnce&&l._isJoined()&&l._push(Cn.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${r}`,s)})}_triggerStateCallbacks(r,s){try{this.stateChangeCallbacks[r].forEach(l=>{try{l(s)}catch(u){this.log("error",`error in ${r} callback`,u)}})}catch(l){this.log("error",`error triggering ${r} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new wm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},no.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var s,l,u,d,f,y,p,m;if(this.transport=(s=r?.transport)!==null&&s!==void 0?s:null,this.timeout=(l=r?.timeout)!==null&&l!==void 0?l:Iu,this.heartbeatIntervalMs=(u=r?.heartbeatIntervalMs)!==null&&u!==void 0?u:no.HEARTBEAT_INTERVAL,this.worker=(d=r?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=r?.accessToken)!==null&&f!==void 0?f:null,r?.params&&(this.params=r.params),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=r?.reconnectAfterMs)!==null&&y!==void 0?y:x=>o1[x-1]||c1,this.encode=(p=r?.encode)!==null&&p!==void 0?p:(x,w)=>w(JSON.stringify(x)),this.decode=(m=r?.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r?.workerUrl}}}class pd extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Mt(o){return typeof o=="object"&&o!==null&&"__isStorageError"in o}class h1 extends pd{constructor(r,s,l){super(r),this.name="StorageApiError",this.status=s,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Qu extends pd{constructor(r,s){super(r),this.name="StorageUnknownError",this.originalError=s}}var f1=function(o,r,s,l){function u(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function y(x){try{m(l.next(x))}catch(w){f(w)}}function p(x){try{m(l.throw(x))}catch(w){f(w)}}function m(x){x.done?d(x.value):u(x.value).then(y,p)}m((l=l.apply(o,r||[])).next())})};const km=o=>{let r;return o?r=o:typeof fetch>"u"?r=(...s)=>$s(async()=>{const{default:l}=await Promise.resolve().then(()=>hr);return{default:l}},void 0).then(({default:l})=>l(...s)):r=fetch,(...s)=>r(...s)},p1=()=>f1(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield $s(()=>Promise.resolve().then(()=>hr),void 0)).Response:Response}),Xu=o=>{if(Array.isArray(o))return o.map(s=>Xu(s));if(typeof o=="function"||o!==Object(o))return o;const r={};return Object.entries(o).forEach(([s,l])=>{const u=s.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));r[u]=Xu(l)}),r},g1=o=>{if(typeof o!="object"||o===null)return!1;const r=Object.getPrototypeOf(o);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)};var oi=function(o,r,s,l){function u(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function y(x){try{m(l.next(x))}catch(w){f(w)}}function p(x){try{m(l.throw(x))}catch(w){f(w)}}function m(x){x.done?d(x.value):u(x.value).then(y,p)}m((l=l.apply(o,r||[])).next())})};const Nu=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),m1=(o,r,s)=>oi(void 0,void 0,void 0,function*(){const l=yield p1();o instanceof l&&!s?.noResolveJson?o.json().then(u=>{const d=o.status||500,f=u?.statusCode||d+"";r(new h1(Nu(u),d,f))}).catch(u=>{r(new Qu(Nu(u),u))}):r(new Qu(Nu(o),o))}),y1=(o,r,s,l)=>{const u={method:o,headers:r?.headers||{}};return o==="GET"||!l?u:(g1(l)?(u.headers=Object.assign({"Content-Type":"application/json"},r?.headers),u.body=JSON.stringify(l)):u.body=l,Object.assign(Object.assign({},u),s))};function Gs(o,r,s,l,u,d){return oi(this,void 0,void 0,function*(){return new Promise((f,y)=>{o(s,y1(r,l,u,d)).then(p=>{if(!p.ok)throw p;return l?.noResolveJson?p:p.json()}).then(p=>f(p)).catch(p=>m1(p,y,l))})})}function co(o,r,s,l){return oi(this,void 0,void 0,function*(){return Gs(o,"GET",r,s,l)})}function aa(o,r,s,l,u){return oi(this,void 0,void 0,function*(){return Gs(o,"POST",r,l,u,s)})}function Ku(o,r,s,l,u){return oi(this,void 0,void 0,function*(){return Gs(o,"PUT",r,l,u,s)})}function x1(o,r,s,l){return oi(this,void 0,void 0,function*(){return Gs(o,"HEAD",r,Object.assign(Object.assign({},s),{noResolveJson:!0}),l)})}function Tm(o,r,s,l,u){return oi(this,void 0,void 0,function*(){return Gs(o,"DELETE",r,l,u,s)})}var Xt=function(o,r,s,l){function u(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function y(x){try{m(l.next(x))}catch(w){f(w)}}function p(x){try{m(l.throw(x))}catch(w){f(w)}}function m(x){x.done?d(x.value):u(x.value).then(y,p)}m((l=l.apply(o,r||[])).next())})};const v1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Mg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class b1{constructor(r,s={},l,u){this.url=r,this.headers=s,this.bucketId=l,this.fetch=km(u)}uploadOrUpdate(r,s,l,u){return Xt(this,void 0,void 0,function*(){try{let d;const f=Object.assign(Object.assign({},Mg),u);let y=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(f.upsert)});const p=f.metadata;typeof Blob<"u"&&l instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),p&&d.append("metadata",this.encodeMetadata(p)),d.append("",l)):typeof FormData<"u"&&l instanceof FormData?(d=l,d.append("cacheControl",f.cacheControl),p&&d.append("metadata",this.encodeMetadata(p))):(d=l,y["cache-control"]=`max-age=${f.cacheControl}`,y["content-type"]=f.contentType,p&&(y["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),u?.headers&&(y=Object.assign(Object.assign({},y),u.headers));const m=this._removeEmptyFolders(s),x=this._getFinalPath(m),w=yield(r=="PUT"?Ku:aa)(this.fetch,`${this.url}/object/${x}`,d,Object.assign({headers:y},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:m,id:w.Id,fullPath:w.Key},error:null}}catch(d){if(Mt(d))return{data:null,error:d};throw d}})}upload(r,s,l){return Xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,s,l)})}uploadToSignedUrl(r,s,l,u){return Xt(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(r),f=this._getFinalPath(d),y=new URL(this.url+`/object/upload/sign/${f}`);y.searchParams.set("token",s);try{let p;const m=Object.assign({upsert:Mg.upsert},u),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&l instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",l)):typeof FormData<"u"&&l instanceof FormData?(p=l,p.append("cacheControl",m.cacheControl)):(p=l,x["cache-control"]=`max-age=${m.cacheControl}`,x["content-type"]=m.contentType);const w=yield Ku(this.fetch,y.toString(),p,{headers:x});return{data:{path:d,fullPath:w.Key},error:null}}catch(p){if(Mt(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(r,s){return Xt(this,void 0,void 0,function*(){try{let l=this._getFinalPath(r);const u=Object.assign({},this.headers);s?.upsert&&(u["x-upsert"]="true");const d=yield aa(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:u}),f=new URL(this.url+d.url),y=f.searchParams.get("token");if(!y)throw new pd("No token returned by API");return{data:{signedUrl:f.toString(),path:r,token:y},error:null}}catch(l){if(Mt(l))return{data:null,error:l};throw l}})}update(r,s,l){return Xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,s,l)})}move(r,s,l){return Xt(this,void 0,void 0,function*(){try{return{data:yield aa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:s,destinationBucket:l?.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(Mt(u))return{data:null,error:u};throw u}})}copy(r,s,l){return Xt(this,void 0,void 0,function*(){try{return{data:{path:(yield aa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:s,destinationBucket:l?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(Mt(u))return{data:null,error:u};throw u}})}createSignedUrl(r,s,l){return Xt(this,void 0,void 0,function*(){try{let u=this._getFinalPath(r),d=yield aa(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:s},l?.transform?{transform:l.transform}:{}),{headers:this.headers});const f=l?.download?`&download=${l.download===!0?"":l.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${f}`)},{data:d,error:null}}catch(u){if(Mt(u))return{data:null,error:u};throw u}})}createSignedUrls(r,s,l){return Xt(this,void 0,void 0,function*(){try{const u=yield aa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:r},{headers:this.headers}),d=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{data:u.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${d}`):null})),error:null}}catch(u){if(Mt(u))return{data:null,error:u};throw u}})}download(r,s){return Xt(this,void 0,void 0,function*(){const u=typeof s?.transform<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString(s?.transform||{}),f=d?`?${d}`:"";try{const y=this._getFinalPath(r);return{data:yield(yield co(this.fetch,`${this.url}/${u}/${y}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(y){if(Mt(y))return{data:null,error:y};throw y}})}info(r){return Xt(this,void 0,void 0,function*(){const s=this._getFinalPath(r);try{const l=yield co(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Xu(l),error:null}}catch(l){if(Mt(l))return{data:null,error:l};throw l}})}exists(r){return Xt(this,void 0,void 0,function*(){const s=this._getFinalPath(r);try{return yield x1(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(Mt(l)&&l instanceof Qu){const u=l.originalError;if([400,404].includes(u?.status))return{data:!1,error:l}}throw l}})}getPublicUrl(r,s){const l=this._getFinalPath(r),u=[],d=s?.download?`download=${s.download===!0?"":s.download}`:"";d!==""&&u.push(d);const y=typeof s?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(s?.transform||{});p!==""&&u.push(p);let m=u.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${y}/public/${l}${m}`)}}}remove(r){return Xt(this,void 0,void 0,function*(){try{return{data:yield Tm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(s){if(Mt(s))return{data:null,error:s};throw s}})}list(r,s,l){return Xt(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},v1),s),{prefix:r||""});return{data:yield aa(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},l),error:null}}catch(u){if(Mt(u))return{data:null,error:u};throw u}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const s=[];return r.width&&s.push(`width=${r.width}`),r.height&&s.push(`height=${r.height}`),r.resize&&s.push(`resize=${r.resize}`),r.format&&s.push(`format=${r.format}`),r.quality&&s.push(`quality=${r.quality}`),s.join("&")}}const j1="2.10.4",_1={"X-Client-Info":`storage-js/${j1}`};var er=function(o,r,s,l){function u(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function y(x){try{m(l.next(x))}catch(w){f(w)}}function p(x){try{m(l.throw(x))}catch(w){f(w)}}function m(x){x.done?d(x.value):u(x.value).then(y,p)}m((l=l.apply(o,r||[])).next())})};class w1{constructor(r,s={},l,u){const d=new URL(r);u?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href,this.headers=Object.assign(Object.assign({},_1),s),this.fetch=km(l)}listBuckets(){return er(this,void 0,void 0,function*(){try{return{data:yield co(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(Mt(r))return{data:null,error:r};throw r}})}getBucket(r){return er(this,void 0,void 0,function*(){try{return{data:yield co(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(s){if(Mt(s))return{data:null,error:s};throw s}})}createBucket(r,s={public:!1}){return er(this,void 0,void 0,function*(){try{return{data:yield aa(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(Mt(l))return{data:null,error:l};throw l}})}updateBucket(r,s){return er(this,void 0,void 0,function*(){try{return{data:yield Ku(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(Mt(l))return{data:null,error:l};throw l}})}emptyBucket(r){return er(this,void 0,void 0,function*(){try{return{data:yield aa(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Mt(s))return{data:null,error:s};throw s}})}deleteBucket(r){return er(this,void 0,void 0,function*(){try{return{data:yield Tm(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(s){if(Mt(s))return{data:null,error:s};throw s}})}}class S1 extends w1{constructor(r,s={},l,u){super(r,s,l,u)}from(r){return new b1(this.url,this.headers,r,this.fetch)}}const C1="2.54.0";let Rs="";typeof Deno<"u"?Rs="deno":typeof document<"u"?Rs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Rs="react-native":Rs="node";const k1={"X-Client-Info":`supabase-js-${Rs}/${C1}`},T1={headers:k1},E1={schema:"public"},z1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},A1={};var R1=function(o,r,s,l){function u(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function y(x){try{m(l.next(x))}catch(w){f(w)}}function p(x){try{m(l.throw(x))}catch(w){f(w)}}function m(x){x.done?d(x.value):u(x.value).then(y,p)}m((l=l.apply(o,r||[])).next())})};const D1=o=>{let r;return o?r=o:typeof fetch>"u"?r=ym:r=fetch,(...s)=>r(...s)},M1=()=>typeof Headers>"u"?xm:Headers,O1=(o,r,s)=>{const l=D1(s),u=M1();return(d,f)=>R1(void 0,void 0,void 0,function*(){var y;const p=(y=yield r())!==null&&y!==void 0?y:o;let m=new u(f?.headers);return m.has("apikey")||m.set("apikey",o),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),l(d,Object.assign(Object.assign({},f),{headers:m}))})};var U1=function(o,r,s,l){function u(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function y(x){try{m(l.next(x))}catch(w){f(w)}}function p(x){try{m(l.throw(x))}catch(w){f(w)}}function m(x){x.done?d(x.value):u(x.value).then(y,p)}m((l=l.apply(o,r||[])).next())})};function B1(o){return o.endsWith("/")?o:o+"/"}function N1(o,r){var s,l;const{db:u,auth:d,realtime:f,global:y}=o,{db:p,auth:m,realtime:x,global:w}=r,k={db:Object.assign(Object.assign({},p),u),auth:Object.assign(Object.assign({},m),d),realtime:Object.assign(Object.assign({},x),f),storage:{},global:Object.assign(Object.assign(Object.assign({},w),y),{headers:Object.assign(Object.assign({},(s=w?.headers)!==null&&s!==void 0?s:{}),(l=y?.headers)!==null&&l!==void 0?l:{})}),accessToken:()=>U1(this,void 0,void 0,function*(){return""})};return o.accessToken?k.accessToken=o.accessToken:delete k.accessToken,k}const Em="2.71.1",sr=30*1e3,Zu=3,Lu=Zu*sr,L1="http://localhost:9999",P1="supabase.auth.token",q1={"X-Client-Info":`gotrue-js/${Em}`},Ju="X-Supabase-Api-Version",zm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},H1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$1=600*1e3;class gd extends Error{constructor(r,s,l){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=l}}function Ae(o){return typeof o=="object"&&o!==null&&"__isAuthError"in o}class G1 extends gd{constructor(r,s,l){super(r,s,l),this.name="AuthApiError",this.status=s,this.code=l}}function W1(o){return Ae(o)&&o.name==="AuthApiError"}class Am extends gd{constructor(r,s){super(r),this.name="AuthUnknownError",this.originalError=s}}class Ua extends gd{constructor(r,s,l,u){super(r,l,u),this.name=s,this.status=l}}class Da extends Ua{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function F1(o){return Ae(o)&&o.name==="AuthSessionMissingError"}class ao extends Ua{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class io extends Ua{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class ro extends Ua{constructor(r,s=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function I1(o){return Ae(o)&&o.name==="AuthImplicitGrantRedirectError"}class Og extends Ua{constructor(r,s=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ed extends Ua{constructor(r,s){super(r,"AuthRetryableFetchError",s,void 0)}}function Pu(o){return Ae(o)&&o.name==="AuthRetryableFetchError"}class Ug extends Ua{constructor(r,s,l){super(r,"AuthWeakPasswordError",s,"weak_password"),this.reasons=l}}class td extends Ua{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const uo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Bg=` 	
\r=`.split(""),V1=(()=>{const o=new Array(128);for(let r=0;r<o.length;r+=1)o[r]=-1;for(let r=0;r<Bg.length;r+=1)o[Bg[r].charCodeAt(0)]=-2;for(let r=0;r<uo.length;r+=1)o[uo[r].charCodeAt(0)]=r;return o})();function Ng(o,r,s){if(o!==null)for(r.queue=r.queue<<8|o,r.queuedBits+=8;r.queuedBits>=6;){const l=r.queue>>r.queuedBits-6&63;s(uo[l]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const l=r.queue>>r.queuedBits-6&63;s(uo[l]),r.queuedBits-=6}}function Rm(o,r,s){const l=V1[o];if(l>-1)for(r.queue=r.queue<<6|l,r.queuedBits+=6;r.queuedBits>=8;)s(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(o)}"`)}}function Lg(o){const r=[],s=f=>{r.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},d=f=>{X1(f,l,s)};for(let f=0;f<o.length;f+=1)Rm(o.charCodeAt(f),u,d);return r.join("")}function Y1(o,r){if(o<=127){r(o);return}else if(o<=2047){r(192|o>>6),r(128|o&63);return}else if(o<=65535){r(224|o>>12),r(128|o>>6&63),r(128|o&63);return}else if(o<=1114111){r(240|o>>18),r(128|o>>12&63),r(128|o>>6&63),r(128|o&63);return}throw new Error(`Unrecognized Unicode codepoint: ${o.toString(16)}`)}function Q1(o,r){for(let s=0;s<o.length;s+=1){let l=o.charCodeAt(s);if(l>55295&&l<=56319){const u=(l-55296)*1024&65535;l=(o.charCodeAt(s+1)-56320&65535|u)+65536,s+=1}Y1(l,r)}}function X1(o,r,s){if(r.utf8seq===0){if(o<=127){s(o);return}for(let l=1;l<6;l+=1)if((o>>7-l&1)===0){r.utf8seq=l;break}if(r.utf8seq===2)r.codepoint=o&31;else if(r.utf8seq===3)r.codepoint=o&15;else if(r.utf8seq===4)r.codepoint=o&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(o<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|o&63,r.utf8seq-=1,r.utf8seq===0&&s(r.codepoint)}}function K1(o){const r=[],s={queue:0,queuedBits:0},l=u=>{r.push(u)};for(let u=0;u<o.length;u+=1)Rm(o.charCodeAt(u),s,l);return new Uint8Array(r)}function Z1(o){const r=[];return Q1(o,s=>r.push(s)),new Uint8Array(r)}function J1(o){const r=[],s={queue:0,queuedBits:0},l=u=>{r.push(u)};return o.forEach(u=>Ng(u,s,l)),Ng(null,s,l),r.join("")}function eb(o){return Math.round(Date.now()/1e3)+o}function tb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){const r=Math.random()*16|0;return(o=="x"?r:r&3|8).toString(16)})}const Sn=()=>typeof window<"u"&&typeof document<"u",ti={tested:!1,writable:!1},Dm=()=>{if(!Sn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ti.tested)return ti.writable;const o=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(o,o),globalThis.localStorage.removeItem(o),ti.tested=!0,ti.writable=!0}catch{ti.tested=!0,ti.writable=!1}return ti.writable};function nb(o){const r={},s=new URL(o);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((u,d)=>{r[d]=u})}catch{}return s.searchParams.forEach((l,u)=>{r[u]=l}),r}const Mm=o=>{let r;return o?r=o:typeof fetch>"u"?r=(...s)=>$s(async()=>{const{default:l}=await Promise.resolve().then(()=>hr);return{default:l}},void 0).then(({default:l})=>l(...s)):r=fetch,(...s)=>r(...s)},ab=o=>typeof o=="object"&&o!==null&&"status"in o&&"ok"in o&&"json"in o&&typeof o.json=="function",lr=async(o,r,s)=>{await o.setItem(r,JSON.stringify(s))},ni=async(o,r)=>{const s=await o.getItem(r);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ra=async(o,r)=>{await o.removeItem(r)};class xo{constructor(){this.promise=new xo.promiseConstructor((r,s)=>{this.resolve=r,this.reject=s})}}xo.promiseConstructor=Promise;function qu(o){const r=o.split(".");if(r.length!==3)throw new td("Invalid JWT structure");for(let l=0;l<r.length;l++)if(!H1.test(r[l]))throw new td("JWT not in base64url format");return{header:JSON.parse(Lg(r[0])),payload:JSON.parse(Lg(r[1])),signature:K1(r[2]),raw:{header:r[0],payload:r[1]}}}async function ib(o){return await new Promise(r=>{setTimeout(()=>r(null),o)})}function rb(o,r){return new Promise((l,u)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await o(d);if(!r(d,null,f)){l(f);return}}catch(f){if(!r(d,f)){u(f);return}}})()})}function sb(o){return("0"+o.toString(16)).substr(-2)}function lb(){const r=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=s.length;let u="";for(let d=0;d<56;d++)u+=s.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(r),Array.from(r,sb).join("")}async function ob(o){const s=new TextEncoder().encode(o),l=await crypto.subtle.digest("SHA-256",s),u=new Uint8Array(l);return Array.from(u).map(d=>String.fromCharCode(d)).join("")}async function cb(o){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),o;const s=await ob(o);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function tr(o,r,s=!1){const l=lb();let u=l;s&&(u+="/PASSWORD_RECOVERY"),await lr(o,`${r}-code-verifier`,u);const d=await cb(l);return[d,l===d?"plain":"s256"]}const ub=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function db(o){const r=o.headers.get(Ju);if(!r||!r.match(ub))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function hb(o){if(!o)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(o<=r)throw new Error("JWT has expired")}function fb(o){switch(o){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const pb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function nr(o){if(!pb.test(o))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Hu(){const o={};return new Proxy(o,{get:(r,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Pg(o){return JSON.parse(JSON.stringify(o))}var gb=function(o,r){var s={};for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&r.indexOf(l)<0&&(s[l]=o[l]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(o);u<l.length;u++)r.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(o,l[u])&&(s[l[u]]=o[l[u]]);return s};const ai=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),mb=[502,503,504];async function qg(o){var r;if(!ab(o))throw new ed(ai(o),0);if(mb.includes(o.status))throw new ed(ai(o),o.status);let s;try{s=await o.json()}catch(d){throw new Am(ai(d),d)}let l;const u=db(o);if(u&&u.getTime()>=zm["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?l=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(l=s.error_code),l){if(l==="weak_password")throw new Ug(ai(s),o.status,((r=s.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(l==="session_not_found")throw new Da}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new Ug(ai(s),o.status,s.weak_password.reasons);throw new G1(ai(s),o.status||500,l)}const yb=(o,r,s,l)=>{const u={method:o,headers:r?.headers||{}};return o==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),s))};async function Le(o,r,s,l){var u;const d=Object.assign({},l?.headers);d[Ju]||(d[Ju]=zm["2024-01-01"].name),l?.jwt&&(d.Authorization=`Bearer ${l.jwt}`);const f=(u=l?.query)!==null&&u!==void 0?u:{};l?.redirectTo&&(f.redirect_to=l.redirectTo);const y=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",p=await xb(o,r,s+y,{headers:d,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(p):{data:Object.assign({},p),error:null}}async function xb(o,r,s,l,u,d){const f=yb(r,l,u,d);let y;try{y=await o(s,Object.assign({},f))}catch(p){throw console.error(p),new ed(ai(p),0)}if(y.ok||await qg(y),l?.noResolveJson)return y;try{return await y.json()}catch(p){await qg(p)}}function ta(o){var r;let s=null;_b(o)&&(s=Object.assign({},o),o.expires_at||(s.expires_at=eb(o.expires_in)));const l=(r=o.user)!==null&&r!==void 0?r:o;return{data:{session:s,user:l},error:null}}function Hg(o){const r=ta(o);return!r.error&&o.weak_password&&typeof o.weak_password=="object"&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.message&&typeof o.weak_password.message=="string"&&o.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0)&&(r.data.weak_password=o.weak_password),r}function Ma(o){var r;return{data:{user:(r=o.user)!==null&&r!==void 0?r:o},error:null}}function vb(o){return{data:o,error:null}}function bb(o){const{action_link:r,email_otp:s,hashed_token:l,redirect_to:u,verification_type:d}=o,f=gb(o,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),y={action_link:r,email_otp:s,hashed_token:l,redirect_to:u,verification_type:d},p=Object.assign({},f);return{data:{properties:y,user:p},error:null}}function jb(o){return o}function _b(o){return o.access_token&&o.refresh_token&&o.expires_in}const $u=["global","local","others"];var wb=function(o,r){var s={};for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&r.indexOf(l)<0&&(s[l]=o[l]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(o);u<l.length;u++)r.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(o,l[u])&&(s[l[u]]=o[l[u]]);return s};class Sb{constructor({url:r="",headers:s={},fetch:l}){this.url=r,this.headers=s,this.fetch=Mm(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,s=$u[0]){if($u.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$u.join(", ")}`);try{return await Le(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(l){if(Ae(l))return{data:null,error:l};throw l}}async inviteUserByEmail(r,s={}){try{return await Le(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Ma})}catch(l){if(Ae(l))return{data:{user:null},error:l};throw l}}async generateLink(r){try{const{options:s}=r,l=wb(r,["options"]),u=Object.assign(Object.assign({},l),s);return"newEmail"in l&&(u.new_email=l?.newEmail,delete u.newEmail),await Le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:bb,redirectTo:s?.redirectTo})}catch(s){if(Ae(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(r){try{return await Le(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Ma})}catch(s){if(Ae(s))return{data:{user:null},error:s};throw s}}async listUsers(r){var s,l,u,d,f,y,p;try{const m={nextPage:null,lastPage:0,total:0},x=await Le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(s=r?.page)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:"",per_page:(d=(u=r?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:jb});if(x.error)throw x.error;const w=await x.json(),k=(f=x.headers.get("x-total-count"))!==null&&f!==void 0?f:0,S=(p=(y=x.headers.get("link"))===null||y===void 0?void 0:y.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(b=>{const q=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),L=JSON.parse(b.split(";")[1].split("=")[1]);m[`${L}Page`]=q}),m.total=parseInt(k)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(Ae(m))return{data:{users:[]},error:m};throw m}}async getUserById(r){nr(r);try{return await Le(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Ma})}catch(s){if(Ae(s))return{data:{user:null},error:s};throw s}}async updateUserById(r,s){nr(r);try{return await Le(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:s,headers:this.headers,xform:Ma})}catch(l){if(Ae(l))return{data:{user:null},error:l};throw l}}async deleteUser(r,s=!1){nr(r);try{return await Le(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:s},xform:Ma})}catch(l){if(Ae(l))return{data:{user:null},error:l};throw l}}async _listFactors(r){nr(r.userId);try{const{data:s,error:l}=await Le(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:s,error:l}}catch(s){if(Ae(s))return{data:null,error:s};throw s}}async _deleteFactor(r){nr(r.userId),nr(r.id);try{return{data:await Le(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}}}function $g(o={}){return{getItem:r=>o[r]||null,setItem:(r,s)=>{o[r]=s},removeItem:r=>{delete o[r]}}}function Cb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ar={debug:!!(globalThis&&Dm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Om extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class kb extends Om{}async function Tb(o,r,s){ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",o,r);const l=new globalThis.AbortController;return r>0&&setTimeout(()=>{l.abort(),ar.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",o)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(o,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async u=>{if(u){ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",o,u.name);try{return await s()}finally{ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",o,u.name)}}else{if(r===0)throw ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",o),new kb(`Acquiring an exclusive Navigator LockManager lock "${o}" immediately failed`);if(ar.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Cb();const Eb={url:L1,storageKey:P1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:q1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Gg(o,r,s){return await s()}const ir={};class Ns{constructor(r){var s,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ns.nextInstanceID,Ns.nextInstanceID+=1,this.instanceID>0&&Sn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const u=Object.assign(Object.assign({},Eb),r);if(this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.persistSession=u.persistSession,this.storageKey=u.storageKey,this.autoRefreshToken=u.autoRefreshToken,this.admin=new Sb({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Mm(u.fetch),this.lock=u.lock||Gg,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,u.lock?this.lock=u.lock:Sn()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=Tb:this.lock=Gg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Dm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$g(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=$g(this.memoryStorage)),Sn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}get jwks(){var r,s;return(s=(r=ir[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(r){ir[this.storageKey]=Object.assign(Object.assign({},ir[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,s;return(s=(r=ir[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){ir[this.storageKey]=Object.assign(Object.assign({},ir[this.storageKey]),{cachedAt:r})}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Em}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const s=nb(window.location.href);let l="none";if(this._isImplicitGrantCallback(s)?l="implicit":await this._isPKCECallback(s)&&(l="pkce"),Sn()&&this.detectSessionInUrl&&l!=="none"){const{data:u,error:d}=await this._getSessionFromURL(s,l);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),I1(d)){const p=(r=d.details)===null||r===void 0?void 0:r.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:f,redirectType:y}=u;return this._debug("#_initialize()","detected session in URL",f,"redirect type",y),await this._saveSession(f),setTimeout(async()=>{y==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return Ae(s)?{error:s}:{error:new Am("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var s,l,u;try{const d=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(s=r?.options)===null||s===void 0?void 0:s.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(u=r?.options)===null||u===void 0?void 0:u.captchaToken}},xform:ta}),{data:f,error:y}=d;if(y||!f)return{data:{user:null,session:null},error:y};const p=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(d){if(Ae(d))return{data:{user:null,session:null},error:d};throw d}}async signUp(r){var s,l,u;try{let d;if("email"in r){const{email:x,password:w,options:k}=r;let S=null,b=null;this.flowType==="pkce"&&([S,b]=await tr(this.storage,this.storageKey)),d=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:k?.emailRedirectTo,body:{email:x,password:w,data:(s=k?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:k?.captchaToken},code_challenge:S,code_challenge_method:b},xform:ta})}else if("phone"in r){const{phone:x,password:w,options:k}=r;d=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:w,data:(l=k?.data)!==null&&l!==void 0?l:{},channel:(u=k?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:k?.captchaToken}},xform:ta})}else throw new io("You must provide either an email or phone number and a password");const{data:f,error:y}=d;if(y||!f)return{data:{user:null,session:null},error:y};const p=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(d){if(Ae(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithPassword(r){try{let s;if("email"in r){const{email:d,password:f,options:y}=r;s=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Hg})}else if("phone"in r){const{phone:d,password:f,options:y}=r;s=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Hg})}else throw new io("You must provide either an email or phone number and a password");const{data:l,error:u}=s;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ao}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:u})}catch(s){if(Ae(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(r){var s,l,u,d;return await this._handleProviderSignIn(r.provider,{redirectTo:(s=r.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=r.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=r.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(d=r.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:s}=r;if(s==="solana")return await this.signInWithSolana(r);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(r){var s,l,u,d,f,y,p,m,x,w,k,S;let b,q;if("message"in r)b=r.message,q=r.signature;else{const{chain:L,wallet:B,statement:oe,options:G}=r;let te;if(Sn())if(typeof B=="object")te=B;else{const de=window;if("solana"in de&&typeof de.solana=="object"&&("signIn"in de.solana&&typeof de.solana.signIn=="function"||"signMessage"in de.solana&&typeof de.solana.signMessage=="function"))te=de.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof B!="object"||!G?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");te=B}const ae=new URL((s=G?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in te&&te.signIn){const de=await te.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},G?.signInWithSolana),{version:"1",domain:ae.host,uri:ae.href}),oe?{statement:oe}:null));let he;if(Array.isArray(de)&&de[0]&&typeof de[0]=="object")he=de[0];else if(de&&typeof de=="object"&&"signedMessage"in de&&"signature"in de)he=de;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in he&&"signature"in he&&(typeof he.signedMessage=="string"||he.signedMessage instanceof Uint8Array)&&he.signature instanceof Uint8Array)b=typeof he.signedMessage=="string"?he.signedMessage:new TextDecoder().decode(he.signedMessage),q=he.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in te)||typeof te.signMessage!="function"||!("publicKey"in te)||typeof te!="object"||!te.publicKey||!("toBase58"in te.publicKey)||typeof te.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${ae.host} wants you to sign in with your Solana account:`,te.publicKey.toBase58(),...oe?["",oe,""]:[""],"Version: 1",`URI: ${ae.href}`,`Issued At: ${(u=(l=G?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((d=G?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${G.signInWithSolana.notBefore}`]:[],...!((f=G?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${G.signInWithSolana.expirationTime}`]:[],...!((y=G?.signInWithSolana)===null||y===void 0)&&y.chainId?[`Chain ID: ${G.signInWithSolana.chainId}`]:[],...!((p=G?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${G.signInWithSolana.nonce}`]:[],...!((m=G?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${G.signInWithSolana.requestId}`]:[],...!((w=(x=G?.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||w===void 0)&&w.length?["Resources",...G.signInWithSolana.resources.map(he=>`- ${he}`)]:[]].join(`
`);const de=await te.signMessage(new TextEncoder().encode(b),"utf8");if(!de||!(de instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");q=de}}try{const{data:L,error:B}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:J1(q)},!((k=r.options)===null||k===void 0)&&k.captchaToken?{gotrue_meta_security:{captcha_token:(S=r.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:ta});if(B)throw B;return!L||!L.session||!L.user?{data:{user:null,session:null},error:new ao}:(L.session&&(await this._saveSession(L.session),await this._notifyAllSubscribers("SIGNED_IN",L.session)),{data:Object.assign({},L),error:B})}catch(L){if(Ae(L))return{data:{user:null,session:null},error:L};throw L}}async _exchangeCodeForSession(r){const s=await ni(this.storage,`${this.storageKey}-code-verifier`),[l,u]=(s??"").split("/");try{const{data:d,error:f}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:l},xform:ta});if(await Ra(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!d||!d.session||!d.user?{data:{user:null,session:null,redirectType:null},error:new ao}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign(Object.assign({},d),{redirectType:u??null}),error:f})}catch(d){if(Ae(d))return{data:{user:null,session:null,redirectType:null},error:d};throw d}}async signInWithIdToken(r){try{const{options:s,provider:l,token:u,access_token:d,nonce:f}=r,y=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:ta}),{data:p,error:m}=y;return m?{data:{user:null,session:null},error:m}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new ao}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:m})}catch(s){if(Ae(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(r){var s,l,u,d,f;try{if("email"in r){const{email:y,options:p}=r;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await tr(this.storage,this.storageKey));const{error:w}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:y,data:(s=p?.data)!==null&&s!==void 0?s:{},create_user:(l=p?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:m,code_challenge_method:x},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:w}}if("phone"in r){const{phone:y,options:p}=r,{data:m,error:x}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:y,data:(u=p?.data)!==null&&u!==void 0?u:{},create_user:(d=p?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(f=p?.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:x}}throw new io("You must provide either an email or phone number.")}catch(y){if(Ae(y))return{data:{user:null,session:null},error:y};throw y}}async verifyOtp(r){var s,l;try{let u,d;"options"in r&&(u=(s=r.options)===null||s===void 0?void 0:s.redirectTo,d=(l=r.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:y}=await Le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:d}}),redirectTo:u,xform:ta});if(y)throw y;if(!f)throw new Error("An error occurred on token verification.");const p=f.session,m=f.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(u){if(Ae(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithSSO(r){var s,l,u;try{let d=null,f=null;return this.flowType==="pkce"&&([d,f]=await tr(this.storage,this.storageKey)),await Le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(l=(s=r.options)===null||s===void 0?void 0:s.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=r?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:vb})}catch(d){if(Ae(d))return{data:null,error:d};throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:s},error:l}=r;if(l)throw l;if(!s)throw new Da;const{error:u}=await Le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:u}})}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const s=`${this.url}/resend`;if("email"in r){const{email:l,type:u,options:d}=r,{error:f}=await Le(this.fetch,"POST",s,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in r){const{phone:l,type:u,options:d}=r,{data:f,error:y}=await Le(this.fetch,"POST",s,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return{data:{user:null,session:null,messageId:f?.message_id},error:y}}throw new io("You must provide either an email or phone number and a type")}catch(s){if(Ae(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(r,s){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await s()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=s();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await r(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const s=await ni(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?r=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const l=r.expires_at?r.expires_at*1e3-Date.now()<Lu:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",r.expires_at),!l){if(this.userStorage){const f=await ni(this.userStorage,this.storageKey+"-user");f?.user?r.user=f.user:r.user=Hu()}if(this.storage.isServer&&r.user){let f=this.suppressGetSessionWarning;r=new Proxy(r,{get:(p,m,x)=>(!f&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,m,x))})}return{data:{session:r},error:null}}const{session:u,error:d}=await this._callRefreshToken(r.refresh_token);return d?{data:{session:null},error:d}:{data:{session:u},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Ma}):await this._useSession(async s=>{var l,u,d;const{data:f,error:y}=s;if(y)throw y;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Da}:await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0,xform:Ma})})}catch(s){if(Ae(s))return F1(s)&&(await this._removeSession(),await Ra(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(r,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,s))}async _updateUser(r,s={}){try{return await this._useSession(async l=>{const{data:u,error:d}=l;if(d)throw d;if(!u.session)throw new Da;const f=u.session;let y=null,p=null;this.flowType==="pkce"&&r.email!=null&&([y,p]=await tr(this.storage,this.storageKey));const{data:m,error:x}=await Le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:y,code_challenge_method:p}),jwt:f.access_token,xform:Ma});if(x)throw x;return f.user=m.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(l){if(Ae(l))return{data:{user:null},error:l};throw l}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new Da;const s=Date.now()/1e3;let l=s,u=!0,d=null;const{payload:f}=qu(r.access_token);if(f.exp&&(l=f.exp,u=l<=s),u){const{session:y,error:p}=await this._callRefreshToken(r.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!y)return{data:{user:null,session:null},error:null};d=y}else{const{data:y,error:p}=await this._getUser(r.access_token);if(p)throw p;d={access_token:r.access_token,refresh_token:r.refresh_token,user:y.user,token_type:"bearer",expires_in:l-s,expires_at:l},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return{data:{user:d.user,session:d},error:null}}catch(s){if(Ae(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async s=>{var l;if(!r){const{data:f,error:y}=s;if(y)throw y;r=(l=f.session)!==null&&l!==void 0?l:void 0}if(!r?.refresh_token)throw new Da;const{session:u,error:d}=await this._callRefreshToken(r.refresh_token);return d?{data:{user:null,session:null},error:d}:u?{data:{user:u.user,session:u},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(Ae(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(r,s){try{if(!Sn())throw new ro("No browser detected.");if(r.error||r.error_description||r.error_code)throw new ro(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Og("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ro("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Og("No code detected.");const{data:oe,error:G}=await this._exchangeCodeForSession(r.code);if(G)throw G;const te=new URL(window.location.href);return te.searchParams.delete("code"),window.history.replaceState(window.history.state,"",te.toString()),{data:{session:oe.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:u,access_token:d,refresh_token:f,expires_in:y,expires_at:p,token_type:m}=r;if(!d||!y||!f||!m)throw new ro("No session defined in URL");const x=Math.round(Date.now()/1e3),w=parseInt(y);let k=x+w;p&&(k=parseInt(p));const S=k-x;S*1e3<=sr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${w}s`);const b=k-w;x-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,k,x):x-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,k,x);const{data:q,error:L}=await this._getUser(d);if(L)throw L;const B={provider_token:l,provider_refresh_token:u,access_token:d,expires_in:w,expires_at:k,refresh_token:f,token_type:m,user:q.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:B,redirectType:r.type},error:null}}catch(l){if(Ae(l))return{data:{session:null,redirectType:null},error:l};throw l}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const s=await ni(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&s)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async s=>{var l;const{data:u,error:d}=s;if(d)return{error:d};const f=(l=u.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:y}=await this.admin.signOut(f,r);if(y&&!(W1(y)&&(y.status===404||y.status===401||y.status===403)))return{error:y}}return r!=="others"&&(await this._removeSession(),await Ra(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const s=tb(),l={id:s,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:l}}}async _emitInitialSession(r){return await this._useSession(async s=>{var l,u;try{const{data:{session:d},error:f}=s;if(f)throw f;await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",r,"session",d)}catch(d){await((u=this.stateChangeEmitters.get(r))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",d),console.error(d)}})}async resetPasswordForEmail(r,s={}){let l=null,u=null;this.flowType==="pkce"&&([l,u]=await tr(this.storage,this.storageKey,!0));try{return await Le(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(d){if(Ae(d))return{data:null,error:d};throw d}}async getUserIdentities(){var r;try{const{data:s,error:l}=await this.getUser();if(l)throw l;return{data:{identities:(r=s.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}}async linkIdentity(r){var s;try{const{data:l,error:u}=await this._useSession(async d=>{var f,y,p,m,x;const{data:w,error:k}=d;if(k)throw k;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(f=r.options)===null||f===void 0?void 0:f.redirectTo,scopes:(y=r.options)===null||y===void 0?void 0:y.scopes,queryParams:(p=r.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Le(this.fetch,"GET",S,{headers:this.headers,jwt:(x=(m=w.session)===null||m===void 0?void 0:m.access_token)!==null&&x!==void 0?x:void 0})});if(u)throw u;return Sn()&&!(!((s=r.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(l?.url),{data:{provider:r.provider,url:l?.url},error:null}}catch(l){if(Ae(l))return{data:{provider:r.provider,url:null},error:l};throw l}}async unlinkIdentity(r){try{return await this._useSession(async s=>{var l,u;const{data:d,error:f}=s;if(f)throw f;return await Le(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})})}catch(s){if(Ae(s))return{data:null,error:s};throw s}}async _refreshAccessToken(r){const s=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{const l=Date.now();return await rb(async u=>(u>0&&await ib(200*Math.pow(2,u-1)),this._debug(s,"refreshing attempt",u),await Le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:ta})),(u,d)=>{const f=200*Math.pow(2,u);return d&&Pu(d)&&Date.now()+f-l<sr})}catch(l){if(this._debug(s,"error",l),Ae(l))return{data:{session:null,user:null},error:l};throw l}finally{this._debug(s,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,s){const l=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",s,"url",l),Sn()&&!s.skipBrowserRedirect&&window.location.assign(l),{data:{provider:r,url:l},error:null}}async _recoverAndRefresh(){var r,s;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const u=await ni(this.storage,this.storageKey);if(u&&this.userStorage){let f=await ni(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:u.user},await lr(this.userStorage,this.storageKey+"-user",f)),u.user=(r=f?.user)!==null&&r!==void 0?r:Hu()}else if(u&&!u.user&&!u.user){const f=await ni(this.storage,this.storageKey+"-user");f&&f?.user?(u.user=f.user,await Ra(this.storage,this.storageKey+"-user"),await lr(this.storage,this.storageKey,u)):u.user=Hu()}if(this._debug(l,"session from storage",u),!this._isValidSession(u)){this._debug(l,"session is not valid"),u!==null&&await this._removeSession();return}const d=((s=u.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Lu;if(this._debug(l,`session has${d?"":" not"} expired with margin of ${Lu}s`),d){if(this.autoRefreshToken&&u.refresh_token){const{error:f}=await this._callRefreshToken(u.refresh_token);f&&(console.error(f),Pu(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:y}=await this._getUser(u.access_token);!y&&f?.user?(u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(l,"error",u),console.error(u);return}finally{this._debug(l,"end")}}async _callRefreshToken(r){var s,l;if(!r)throw new Da;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new xo;const{data:d,error:f}=await this._refreshAccessToken(r);if(f)throw f;if(!d.session)throw new Da;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const y={session:d.session,error:null};return this.refreshingDeferred.resolve(y),y}catch(d){if(this._debug(u,"error",d),Ae(d)){const f={session:null,error:d};return Pu(d)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(d),d}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(r,s,l=!0){const u=`#_notifyAllSubscribers(${r})`;this._debug(u,"begin",s,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:r,session:s});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async y=>{try{await y.callback(r,s)}catch(p){d.push(p)}});if(await Promise.all(f),d.length>0){for(let y=0;y<d.length;y+=1)console.error(d[y]);throw d[0]}}finally{this._debug(u,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const s=Object.assign({},r),l=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&s.user&&await lr(this.userStorage,this.storageKey+"-user",{user:s.user});const u=Object.assign({},s);delete u.user;const d=Pg(u);await lr(this.storage,this.storageKey,d)}else{const u=Pg(s);await lr(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),await Ra(this.storage,this.storageKey),await Ra(this.storage,this.storageKey+"-code-verifier"),await Ra(this.storage,this.storageKey+"-user"),this.userStorage&&await Ra(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Sn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),sr);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async s=>{const{data:{session:l}}=s;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-r)/sr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${sr}ms, refresh threshold is ${Zu} ticks`),u<=Zu&&await this._callRefreshToken(l.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof Om)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Sn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const s=`#_onVisibilityChanged(${r})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,s,l){const u=[`provider=${encodeURIComponent(s)}`];if(l?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&u.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[d,f]=await tr(this.storage,this.storageKey),y=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});u.push(y.toString())}if(l?.queryParams){const d=new URLSearchParams(l.queryParams);u.push(d.toString())}return l?.skipBrowserRedirect&&u.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${r}?${u.join("&")}`}async _unenroll(r){try{return await this._useSession(async s=>{var l;const{data:u,error:d}=s;return d?{data:null,error:d}:await Le(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token})})}catch(s){if(Ae(s))return{data:null,error:s};throw s}}async _enroll(r){try{return await this._useSession(async s=>{var l,u;const{data:d,error:f}=s;if(f)return{data:null,error:f};const y=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:p,error:m}=await Le(this.fetch,"POST",`${this.url}/factors`,{body:y,headers:this.headers,jwt:(l=d?.session)===null||l===void 0?void 0:l.access_token});return m?{data:null,error:m}:(r.factorType==="totp"&&(!((u=p?.totp)===null||u===void 0)&&u.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(s){if(Ae(s))return{data:null,error:s};throw s}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:u,error:d}=s;if(d)return{data:null,error:d};const{data:f,error:y}=await Le(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return y?{data:null,error:y}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:y})})}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:u,error:d}=s;return d?{data:null,error:d}:await Le(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token})})}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(r){const{data:s,error:l}=await this._challenge({factorId:r.factorId});return l?{data:null,error:l}:await this._verify({factorId:r.factorId,challengeId:s.id,code:r.code})}async _listFactors(){const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const l=r?.factors||[],u=l.filter(f=>f.factor_type==="totp"&&f.status==="verified"),d=l.filter(f=>f.factor_type==="phone"&&f.status==="verified");return{data:{all:l,totp:u,phone:d},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var s,l;const{data:{session:u},error:d}=r;if(d)return{data:null,error:d};if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=qu(u.access_token);let y=null;f.aal&&(y=f.aal);let p=y;((l=(s=u.user.factors)===null||s===void 0?void 0:s.filter(w=>w.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(p="aal2");const x=f.amr||[];return{data:{currentLevel:y,nextLevel:p,currentAuthenticationMethods:x},error:null}}))}async fetchJwk(r,s={keys:[]}){let l=s.keys.find(y=>y.kid===r);if(l)return l;const u=Date.now();if(l=this.jwks.keys.find(y=>y.kid===r),l&&this.jwks_cached_at+$1>u)return l;const{data:d,error:f}=await Le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=u,l=d.keys.find(y=>y.kid===r),!l)?null:l}async getClaims(r,s={}){try{let l=r;if(!l){const{data:S,error:b}=await this.getSession();if(b||!S.session)return{data:null,error:b};l=S.session.access_token}const{header:u,payload:d,signature:f,raw:{header:y,payload:p}}=qu(l);s?.allowExpired||hb(d.exp);const m=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!m){const{error:S}=await this.getUser(l);if(S)throw S;return{data:{claims:d,header:u,signature:f},error:null}}const x=fb(u.alg),w=await crypto.subtle.importKey("jwk",m,x,!0,["verify"]);if(!await crypto.subtle.verify(x,w,f,Z1(`${y}.${p}`)))throw new td("Invalid JWT signature");return{data:{claims:d,header:u,signature:f},error:null}}catch(l){if(Ae(l))return{data:null,error:l};throw l}}}Ns.nextInstanceID=0;const zb=Ns;class Ab extends zb{constructor(r){super(r)}}var Rb=function(o,r,s,l){function u(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function y(x){try{m(l.next(x))}catch(w){f(w)}}function p(x){try{m(l.throw(x))}catch(w){f(w)}}function m(x){x.done?d(x.value):u(x.value).then(y,p)}m((l=l.apply(o,r||[])).next())})};class Db{constructor(r,s,l){var u,d,f;if(this.supabaseUrl=r,this.supabaseKey=s,!r)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const y=B1(r),p=new URL(y);this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const m=`sb-${p.hostname.split(".")[0]}-auth-token`,x={db:E1,realtime:A1,auth:Object.assign(Object.assign({},z1),{storageKey:m}),global:T1},w=N1(l??{},x);this.storageKey=(u=w.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(d=w.global.headers)!==null&&d!==void 0?d:{},w.accessToken?(this.accessToken=w.accessToken,this.auth=new Proxy({},{get:(k,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=w.auth)!==null&&f!==void 0?f:{},this.headers,w.global.fetch),this.fetch=O1(s,this._getAccessToken.bind(this),w.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},w.realtime)),this.rest=new Yv(new URL("rest/v1",p).href,{headers:this.headers,schema:w.db.schema,fetch:this.fetch}),this.storage=new S1(this.storageUrl.href,this.headers,this.fetch,l?.storage),w.accessToken||this._listenForAuthEvents()}get functions(){return new Bv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,s={},l={}){return this.rest.rpc(r,s,l)}channel(r,s={config:{}}){return this.realtime.channel(r,s)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,s;return Rb(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:l}=yield this.auth.getSession();return(s=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:s,detectSessionInUrl:l,storage:u,storageKey:d,flowType:f,lock:y,debug:p},m,x){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ab({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),m),storageKey:d,autoRefreshToken:r,persistSession:s,detectSessionInUrl:l,storage:u,flowType:f,lock:y,debug:p,fetch:x,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(r){return new d1(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,l)=>{this._handleTokenChanged(s,"CLIENT",l?.access_token)})}_handleTokenChanged(r,s,l){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==l?this.changedAccessToken=l:r==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Mb=(o,r,s)=>new Db(o,r,s);function Ob(){if(typeof window<"u"||typeof process>"u")return!1;const o=process.version;if(o==null)return!1;const r=o.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Ob()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Um="https://fccctiqjhwaekoqkflkg.supabase.co",Ub="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZjY2N0aXFqaHdhZWtvcWtmbGtnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ4Njg4ODEsImV4cCI6MjA3MDQ0NDg4MX0.j-FhKfIHqsy4AQCUkiP8ZH1jt95WCWrEB0kFeiYbKfo";console.log("Supabase URL:",Um);console.log("Supabase Anon Key exists:",!0);const ee=Mb(Um,Ub),Bm=C.createContext({}),Bb=({children:o})=>{const[r,s]=C.useState(null),[l,u]=C.useState(!0),[d,f]=C.useState(null);C.useEffect(()=>{(async()=>{try{console.log("Getting initial session...");const{data:{session:b},error:q}=await ee.auth.getSession();q?(console.error("Error getting session:",q),f(q.message)):(console.log("Session retrieved:",b?"User logged in":"No user"),s(b?.user??null))}catch(b){console.error("Unexpected error getting session:",b),f(b.message)}finally{u(!1)}})();const{data:{subscription:S}}=ee.auth.onAuthStateChange(async(b,q)=>{console.log("Auth state changed:",b,q?"User logged in":"No user"),s(q?.user??null),u(!1),f(null)});return()=>S.unsubscribe()},[]);const w={user:r,loading:l,error:d,signUp:async(k,S,b={},q=null)=>{try{console.log("Attempting sign up for:",k);const{data:L,error:B}=await ee.auth.signUp({email:k,password:S,options:{data:b}});if(B)throw console.error("Sign up error:",B),B;if(q&&L.user)try{const{error:oe}=await ee.from("user_profiles").insert({user_id:L.user.id,username:q,full_name:b.full_name||"Anonymous User",user_type:b.user_type||"individual"});oe&&console.error("Error creating user profile:",oe)}catch(oe){console.error("Unexpected error creating profile:",oe)}return console.log("Sign up successful:",L),{data:L,error:null}}catch(L){return console.error("Sign up failed:",L),{data:null,error:L.message}}},signIn:async(k,S)=>{try{console.log("Attempting sign in for:",k);const{data:b,error:q}=await ee.auth.signInWithPassword({email:k,password:S});if(q)throw console.error("Sign in error:",q),q;return console.log("Sign in successful:",b),{data:b,error:null}}catch(b){return console.error("Sign in failed:",b),{data:null,error:b.message}}},signOut:async()=>{try{console.log("Attempting sign out");const{error:k}=await ee.auth.signOut();if(k)throw console.error("Sign out error:",k),k;return console.log("Sign out successful"),{error:null}}catch(k){return console.error("Sign out failed:",k),{error:k.message}}},resetPassword:async k=>{try{console.log("Attempting password reset for:",k);const{error:S}=await ee.auth.resetPasswordForEmail(k);if(S)throw console.error("Password reset error:",S),S;return console.log("Password reset email sent"),{error:null}}catch(S){return console.error("Password reset failed:",S),{error:S.message}}}};return a.jsx(Bm.Provider,{value:w,children:o})};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lb=o=>o.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,s,l)=>l?l.toUpperCase():s.toLowerCase()),Wg=o=>{const r=Lb(o);return r.charAt(0).toUpperCase()+r.slice(1)},Nm=(...o)=>o.filter((r,s,l)=>!!r&&r.trim()!==""&&l.indexOf(r)===s).join(" ").trim(),Pb=o=>{for(const r in o)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=C.forwardRef(({color:o="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:u="",children:d,iconNode:f,...y},p)=>C.createElement("svg",{ref:p,...qb,width:r,height:r,stroke:o,strokeWidth:l?Number(s)*24/Number(r):s,className:Nm("lucide",u),...!d&&!Pb(y)&&{"aria-hidden":"true"},...y},[...f.map(([m,x])=>C.createElement(m,x)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(o,r)=>{const s=C.forwardRef(({className:l,...u},d)=>C.createElement(Hb,{ref:d,iconNode:r,className:Nm(`lucide-${Nb(Wg(o))}`,`lucide-${o}`,l),...u}));return s.displayName=Wg(o),s};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Lm=pe("arrow-left",$b);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ur=pe("arrow-right",Gb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Fb=pe("award",Wb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20",key:"oj1oa8"}],["path",{d:"m20 7 2 .5-2 .5",key:"12nv4d"}],["path",{d:"M10 18v3",key:"1yea0a"}],["path",{d:"M14 17.75V21",key:"1pymcb"}],["path",{d:"M7 18a6 6 0 0 0 3.84-10.61",key:"1npnn0"}]],gs=pe("bird",Ib);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=[["path",{d:"M17 10c.7-.7 1.69 0 2.5 0a2.5 2.5 0 1 0 0-5 .5.5 0 0 1-.5-.5 2.5 2.5 0 1 0-5 0c0 .81.7 1.8 0 2.5l-7 7c-.7.7-1.69 0-2.5 0a2.5 2.5 0 0 0 0 5c.28 0 .5.22.5.5a2.5 2.5 0 1 0 5 0c0-.81-.7-1.8 0-2.5Z",key:"w610uw"}]],ms=pe("bone",Vb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]],ys=pe("bug",Yb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],$t=pe("camera",Qb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]],xs=pe("cat",Xb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Zb=pe("chart-column",Kb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],ej=pe("chart-pie",Jb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ri=pe("chevron-down",tj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],or=pe("chevron-up",nj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ij=pe("circle-check-big",aj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Fg=pe("clock",rj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],lj=pe("credit-card",sj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Ls=pe("crown",oj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]],vs=pe("dog",cj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],nd=pe("dollar-sign",uj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=[["path",{d:"M12 2C8 2 4 8 4 14a8 8 0 0 0 16 0c0-6-4-12-8-12",key:"1le142"}]],bs=pe("egg",dj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Pm=pe("eye",hj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Ig=pe("file-spreadsheet",fj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],gj=pe("file-text",pj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]],js=pe("fish",mj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],xj=pe("gift",yj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],bj=pe("globe",vj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],_j=pe("hash",jj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],_s=pe("heart-handshake",wj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],vn=pe("heart",Sj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],kj=pe("house",Cj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],Ej=pe("image-plus",Tj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ad=pe("image",zj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],Rj=pe("instagram",Aj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Mj=pe("log-in",Dj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Uj=pe("log-out",Oj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],vo=pe("map-pin",Bj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],kt=pe("message-circle",Nj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Pj=pe("moon",Lj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Hj=pe("music",qj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=[["path",{d:"M11.25 17.25h1.5L12 18z",key:"1wmwwj"}],["path",{d:"m15 12 2 2",key:"k60wz4"}],["path",{d:"M18 6.5a.5.5 0 0 0-.5-.5",key:"1ch4h4"}],["path",{d:"M20.69 9.67a4.5 4.5 0 1 0-7.04-5.5 8.35 8.35 0 0 0-3.3 0 4.5 4.5 0 1 0-7.04 5.5C2.49 11.2 2 12.88 2 14.5 2 19.47 6.48 22 12 22s10-2.53 10-7.5c0-1.62-.48-3.3-1.3-4.83",key:"1c660l"}],["path",{d:"M6 6.5a.495.495 0 0 1 .5-.5",key:"eviuep"}],["path",{d:"m9 12-2 2",key:"326nkw"}]],ws=pe("panda",$j);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]],ot=pe("paw-print",Gj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],qm=pe("pen-line",Wj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],si=pe("plus",Fj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=[["path",{d:"M13 16a3 3 0 0 1 2.24 5",key:"1epib5"}],["path",{d:"M18 12h.01",key:"yjnet6"}],["path",{d:"M18 21h-8a4 4 0 0 1-4-4 7 7 0 0 1 7-7h.2L9.6 6.4a1 1 0 1 1 2.8-2.8L15.8 7h.2c3.3 0 6 2.7 6 6v1a2 2 0 0 1-2 2h-1a3 3 0 0 0-3 3",key:"ue9ozu"}],["path",{d:"M20 8.54V4a2 2 0 1 0-4 0v3",key:"49iql8"}],["path",{d:"M7.612 12.524a3 3 0 1 0-1.6 4.3",key:"1e33i0"}]],Ss=pe("rabbit",Ij);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=[["path",{d:"M13 22H4a2 2 0 0 1 0-4h12",key:"bt3f23"}],["path",{d:"M13.236 18a3 3 0 0 0-2.2-5",key:"1tbvmo"}],["path",{d:"M16 9h.01",key:"1bdo4e"}],["path",{d:"M16.82 3.94a3 3 0 1 1 3.237 4.868l1.815 2.587a1.5 1.5 0 0 1-1.5 2.1l-2.872-.453a3 3 0 0 0-3.5 3",key:"9ch7kn"}],["path",{d:"M17 4.988a3 3 0 1 0-5.2 2.052A7 7 0 0 0 4 14.015 4 4 0 0 0 8 18",key:"3s7e9i"}]],Cs=pe("rat",Vj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],md=pe("search",Yj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Us=pe("share-2",Qj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],Kj=pe("share",Xj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=[["path",{d:"M14 11a2 2 0 1 1-4 0 4 4 0 0 1 8 0 6 6 0 0 1-12 0 8 8 0 0 1 16 0 10 10 0 1 1-20 0 11.93 11.93 0 0 1 2.42-7.22 2 2 0 1 1 3.16 2.44",key:"1cn552"}]],ks=pe("shell",Zj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=[["path",{d:"M2 13a6 6 0 1 0 12 0 4 4 0 1 0-8 0 2 2 0 0 0 4 0",key:"hneq2s"}],["circle",{cx:"10",cy:"13",r:"8",key:"194lz3"}],["path",{d:"M2 21h12c4.4 0 8-3.6 8-8V7a2 2 0 1 0-4 0v6",key:"ixqyt7"}],["path",{d:"M18 3 19.1 5.2",key:"9tjm43"}],["path",{d:"M22 3 20.9 5.2",key:"j3odrs"}]],Ts=pe("snail",Jj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=[["path",{d:"M15.236 22a3 3 0 0 0-2.2-5",key:"21bitc"}],["path",{d:"M16 20a3 3 0 0 1 3-3h1a2 2 0 0 0 2-2v-2a4 4 0 0 0-4-4V4",key:"oh0fg0"}],["path",{d:"M18 13h.01",key:"9veqaj"}],["path",{d:"M18 6a4 4 0 0 0-4 4 7 7 0 0 0-7 7c0-5 4-5 4-10.5a4.5 4.5 0 1 0-9 0 2.5 2.5 0 0 0 5 0C7 10 3 11 3 17c0 2.8 2.2 5 5 5h10",key:"980v8a"}]],Es=pe("squirrel",e2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ho=pe("star",t2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Vg=pe("sun",n2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Yg=pe("target",a2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],r2=pe("trash-2",i2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],fo=pe("trending-up",s2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["path",{d:"m12 10 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a8 8 0 1 0-16 0v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3l2-4h4Z",key:"1lbbv7"}],["path",{d:"M4.82 7.9 8 10",key:"m9wose"}],["path",{d:"M15.18 7.9 12 10",key:"p8dp2u"}],["path",{d:"M16.93 10H20a2 2 0 0 1 0 4H2",key:"12nsm7"}]],zs=pe("turtle",l2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],c2=pe("twitter",o2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],po=pe("upload",u2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Qg=pe("user",d2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],gt=pe("users",h2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["path",{d:"m19 12-1.5 3",key:"9bcu4o"}],["path",{d:"M19.63 18.81 22 20",key:"121v98"}],["path",{d:"M6.47 8.23a1.68 1.68 0 0 1 2.44 1.93l-.64 2.08a6.76 6.76 0 0 0 10.16 7.67l.42-.27a1 1 0 1 0-2.73-4.21l-.42.27a1.76 1.76 0 0 1-2.63-1.99l.64-2.08A6.66 6.66 0 0 0 3.94 3.9l-.7.4a1 1 0 1 0 2.55 4.34z",key:"1tij6q"}]],As=pe("worm",f2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],kn=pe("x",p2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],m2=pe("youtube",g2),Hm=C.createContext({theme:"light",toggle:()=>{}}),bo=()=>C.useContext(Hm),Ba=()=>{const o=C.useContext(Bm);if(!o)throw new Error("useAuth must be used within an AuthProvider");return o},Z=({className:o="",...r})=>a.jsx("div",{className:`card ${o}`,...r}),F=({variant:o="primary",className:r="",...s})=>{const l={primary:"btn btn-primary",outline:"btn btn-outline",ghost:"btn btn-ghost"};return a.jsx("button",{className:`${l[o]||"btn"} ${r}`,...s})},Ee=({className:o="",...r})=>a.jsx("input",{className:`input ${o}`,...r}),Kt=({className:o="",...r})=>a.jsx("textarea",{className:`textarea ${o}`,...r}),xn=({active:o,className:r="",...s})=>a.jsx("button",{className:`chip ${o?"active":""} ${r}`,...s}),Xg=({children:o,content:r})=>{const[s,l]=C.useState(!1);return r?a.jsxs("div",{onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),style:{display:"inline-block",position:"relative"},children:[o,s&&a.jsx("div",{style:{position:"absolute",bottom:"100%",left:"50%",transform:"translateX(-50%)",background:"var(--bg, #fff)",color:"var(--text, #000)",border:"1px solid var(--border, #ccc)",borderRadius:"4px",padding:"6px 10px",fontSize:"12px",whiteSpace:"nowrap",zIndex:1e3,marginBottom:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)"},children:r})]}):a.jsx(a.Fragment,{children:o})},y2="/zoomies-beta/assets/ZoomiesLogo-CMpot2kM.png",x2="/zoomies-beta/assets/ZoomiesLogoDarkmode-BGaWHUxV.png";function v2({onOpenAuth:o}){const{theme:r,toggle:s}=bo(),{user:l,signOut:u}=Ba(),[d,f]=C.useState(!1),y=C.useRef(null),p=Oa(),m=async()=>{await u(),f(!1)};return C.useEffect(()=>{const x=w=>{y.current&&!y.current.contains(w.target)&&f(!1)};return document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}},[]),a.jsx("div",{style:{zIndex:100},children:a.jsx("div",{className:"card",style:{padding:12,backgroundColor:r==="dark"?"#161616":"var(--panel)",backdropFilter:"none"},children:a.jsxs("div",{className:"spread",children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[a.jsx("img",{src:r==="dark"?x2:y2,alt:"Zoomies Logo",style:{width:"60px",height:"60px",objectFit:"contain"}}),a.jsx("strong",{style:{color:"#FF6FAE",fontSize:"24px",fontFamily:"'Dh Pafigo DEMO', sans-serif"},children:"zoomies"})]}),a.jsxs("nav",{style:{display:"flex",gap:8,alignItems:"center",justifyContent:"center",flex:1},children:[a.jsxs(Gt,{to:"/",title:"Home",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"10px 14px",borderRadius:"12px",textDecoration:"none",color:p.pathname==="/"?"#FF6FAE":"var(--text)",position:"relative",transition:"all 0.2s ease"},onMouseEnter:x=>{p.pathname!=="/"&&(x.currentTarget.style.color="#FF6FAE",x.currentTarget.querySelector(".nav-underline").style.width="100%")},onMouseLeave:x=>{p.pathname!=="/"&&(x.currentTarget.style.color="var(--text)",x.currentTarget.querySelector(".nav-underline").style.width="0%")},children:[a.jsx(kj,{size:18}),a.jsx("div",{className:"nav-underline",style:{position:"absolute",bottom:"0",left:"50%",transform:"translateX(-50%)",width:p.pathname==="/"?"100%":"0%",height:"2px",background:"#FF6FAE",transition:"width 0.2s ease"}})]}),a.jsxs(Gt,{to:"/ambassador",title:"Ambassador Hub",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"10px 14px",borderRadius:"12px",textDecoration:"none",color:p.pathname==="/ambassador"?"#FF6FAE":"var(--text)",position:"relative",transition:"all 0.2s ease"},onMouseEnter:x=>{p.pathname!=="/ambassador"&&(x.currentTarget.style.color="#FF6FAE",x.currentTarget.querySelector(".nav-underline").style.width="100%")},onMouseLeave:x=>{p.pathname!=="/ambassador"&&(x.currentTarget.style.color="var(--text)",x.currentTarget.querySelector(".nav-underline").style.width="0%")},children:[a.jsx(ot,{size:18}),a.jsx("div",{className:"nav-underline",style:{position:"absolute",bottom:"0",left:"50%",transform:"translateX(-50%)",width:p.pathname==="/ambassador"?"100%":"0%",height:"2px",background:"#FF6FAE",transition:"width 0.2s ease"}})]}),a.jsxs(Gt,{to:"/community",title:"Community",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"10px 14px",borderRadius:"12px",textDecoration:"none",color:p.pathname==="/community"?"#FF6FAE":"var(--text)",position:"relative",transition:"all 0.2s ease"},onMouseEnter:x=>{p.pathname!=="/community"&&(x.currentTarget.style.color="#FF6FAE",x.currentTarget.querySelector(".nav-underline").style.width="100%")},onMouseLeave:x=>{p.pathname!=="/community"&&(x.currentTarget.style.color="var(--text)",x.currentTarget.querySelector(".nav-underline").style.width="0%")},children:[a.jsx(gt,{size:18}),a.jsx("div",{className:"nav-underline",style:{position:"absolute",bottom:"0",left:"50%",transform:"translateX(-50%)",width:p.pathname==="/community"?"100%":"0%",height:"2px",background:"#FF6FAE",transition:"width 0.2s ease"}})]}),a.jsxs(Gt,{to:"/premium",title:"Premium",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"10px 14px",borderRadius:"12px",textDecoration:"none",color:p.pathname==="/premium"?"#FF6FAE":"var(--text)",position:"relative",transition:"all 0.2s ease"},onMouseEnter:x=>{p.pathname!=="/premium"&&(x.currentTarget.style.color="#FF6FAE",x.currentTarget.querySelector(".nav-underline").style.width="100%")},onMouseLeave:x=>{p.pathname!=="/premium"&&(x.currentTarget.style.color="var(--text)",x.currentTarget.querySelector(".nav-underline").style.width="0%")},children:[a.jsx(Ls,{size:18}),a.jsx("div",{className:"nav-underline",style:{position:"absolute",bottom:"0",left:"50%",transform:"translateX(-50%)",width:p.pathname==="/premium"?"100%":"0%",height:"2px",background:"#FF6FAE",transition:"width 0.2s ease"}})]})]}),a.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[a.jsx("button",{className:"btn btn-ghost",title:"Search",children:a.jsx(md,{size:16})}),a.jsxs("button",{className:"btn btn-ghost",onClick:s,children:[r==="dark"?a.jsx(Vg,{size:16}):a.jsx(Pj,{size:16}),r==="dark"?"Light":"Dark"]}),l?a.jsxs("div",{style:{position:"relative"},ref:y,children:[a.jsxs("button",{onClick:()=>f(!d),className:"btn btn-ghost",style:{display:"flex",alignItems:"center",gap:6},children:[a.jsx("div",{style:{width:24,height:24,borderRadius:"50%",background:"var(--accent)",display:"grid",placeItems:"center",color:"white",fontSize:"12px",fontWeight:600},children:l.user_metadata?.full_name?.[0]||l.email?.[0]?.toUpperCase()||"U"}),a.jsx("span",{style:{fontSize:"14px"},children:l.user_metadata?.full_name||l.email?.split("@")[0]||"User"}),a.jsx(ri,{size:14,style:{transform:d?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"}})]}),d&&a.jsx("div",{style:{position:"absolute",top:"100%",right:0,marginTop:8,background:r==="dark"?"#161616":"var(--panel)",border:"1px solid var(--border)",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0,0,0,0.1)",minWidth:200,zIndex:1e3},children:a.jsxs("div",{style:{padding:"8px 0"},children:[a.jsxs(Gt,{to:"/profile",onClick:()=>f(!1),style:{display:"flex",alignItems:"center",gap:12,padding:"12px 16px",textDecoration:"none",color:"inherit",transition:"background 0.2s"},children:[a.jsx(Qg,{size:16}),"View Profile"]}),a.jsx("div",{style:{height:1,background:"var(--border)",margin:"4px 0"}}),a.jsxs(Gt,{to:"/dashboard",onClick:()=>f(!1),style:{display:"flex",alignItems:"center",gap:12,padding:"12px 16px",textDecoration:"none",color:"inherit",transition:"background 0.2s"},children:[a.jsx(Ls,{size:16}),"View Dashboard"]}),a.jsx("div",{style:{height:1,background:"var(--border)",margin:"4px 0"}}),a.jsxs("button",{onClick:()=>f(!1),style:{display:"flex",alignItems:"center",gap:12,padding:"12px 16px",width:"100%",border:"none",background:"none",cursor:"pointer",color:"inherit",transition:"background 0.2s"},children:[a.jsx(Qg,{size:16}),"Edit Profile"]}),a.jsx("div",{style:{height:1,background:"var(--border)",margin:"4px 0"}}),a.jsxs("button",{onClick:()=>f(!1),style:{display:"flex",alignItems:"center",gap:12,padding:"12px 16px",width:"100%",border:"none",background:"none",cursor:"pointer",color:"inherit",transition:"background 0.2s"},children:[a.jsx(Vg,{size:16}),"Settings"]}),a.jsx("div",{style:{height:1,background:"var(--border)",margin:"4px 0"}}),a.jsxs("button",{onClick:m,style:{display:"flex",alignItems:"center",gap:12,padding:"12px 16px",width:"100%",border:"none",background:"none",cursor:"pointer",color:"var(--accent)",transition:"background 0.2s"},children:[a.jsx(Uj,{size:16}),"Logout"]})]})})]}):a.jsxs(F,{onClick:o,children:[a.jsx(Mj,{size:16})," Login / Signup"]})]})]})})})}function b2({open:o,onClose:r}){const{theme:s}=bo(),[l,u]=C.useState(!1),[d,f]=C.useState({userType:"individual",fullName:"",organizationName:"",username:"",email:"",password:"",confirmPassword:""}),[y,p]=C.useState(!1),[m,x]=C.useState(""),[w,k]=C.useState(""),{signIn:S,signUp:b}=Ba();if(!o)return null;const q=async G=>{G.preventDefault(),x(""),k(""),p(!0);try{if(l){const{error:te}=await S(d.email,d.password);te?x(te):(k("Successfully signed in!"),setTimeout(()=>{r(),f({userType:"individual",fullName:"",organizationName:"",username:"",email:"",password:"",confirmPassword:""}),x(""),k("")},1e3))}else{if(d.password!==d.confirmPassword){x("Passwords don't match"),p(!1);return}const te=d.userType==="individual"?d.fullName:d.organizationName,ae=d.userType==="individual"?"Full name":"Organization name";if(!te.trim()){x(`${ae} is required`),p(!1);return}if(te.trim().length>100){x(`${ae} must be less than 100 characters`),p(!1);return}if(!d.email.trim()){x("Email is required"),p(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email.trim())){x("Please enter a valid email address"),p(!1);return}if(d.password.length<6){x("Password must be at least 6 characters"),p(!1);return}if(d.password.length>128){x("Password must be less than 128 characters"),p(!1);return}if(!d.username.trim()){x("Username is required"),p(!1);return}const de=d.username.trim();if(de!==d.username&&f(be=>({...be,username:de})),de.length<3){x("Username must be at least 3 characters"),p(!1);return}if(de.length>30){x("Username must be less than 30 characters"),p(!1);return}if(!/^[a-zA-Z0-9_]+$/.test(de)){x("Username can only contain letters, numbers, and underscores"),p(!1);return}if(/^\d/.test(de)){x("Username cannot start with a number"),p(!1);return}if(["admin","root","user","test","demo","guest","anonymous","unknown"].includes(de.toLowerCase())){x("Username is not available. Please choose a different one."),p(!1);return}try{const{data:be,error:ie}=await ee.from("user_profiles").select("username").eq("username",de).single();if(be){x("Username is already taken. Please choose a different one."),p(!1);return}ie&&ie.code!=="PGRST116"&&console.warn("Username check error (non-critical):",ie)}catch(be){console.warn("Username uniqueness check failed (non-critical):",be)}const{error:qe}=await b(d.email,d.password,{full_name:d.userType==="individual"?d.fullName:d.organizationName,user_type:d.userType},de);qe?x(qe):(k("Check your email to confirm your account!"),setTimeout(()=>{r(),f({userType:"individual",fullName:"",organizationName:"",username:"",email:"",password:"",confirmPassword:""}),x(""),k("")},3e3))}}catch{x("An unexpected error occurred")}finally{p(!1)}},L=G=>{f({...d,[G.target.name]:G.target.value})},B=G=>{f(te=>({...te,userType:G,fullName:"",organizationName:""}))},oe=()=>{u(!l),x(""),k(""),f({userType:"individual",fullName:"",organizationName:"",username:"",email:"",password:"",confirmPassword:""})};return a.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,.5)",display:"grid",placeItems:"center",zIndex:60},onClick:r,children:a.jsxs(Z,{className:"center",style:{width:"min(560px, 92vw)",padding:24,backgroundColor:s==="dark"?"#161616":"var(--panel)",backdropFilter:"none"},onClick:G=>G.stopPropagation(),children:[a.jsx("h3",{style:{marginTop:0},children:"Welcome to Zoomies"}),a.jsx("p",{className:"muted",style:{marginTop:0},children:l?"Sign in to your account":"Create your account to start helping animals"}),m&&a.jsx("div",{style:{background:"rgba(239, 68, 68, 0.1)",color:"#dc2626",padding:"12px",borderRadius:"8px",marginBottom:"16px",border:"1px solid rgba(239, 68, 68, 0.2)"},children:m}),w&&a.jsx("div",{style:{background:"rgba(34, 197, 94, 0.1)",color:"#16a34a",padding:"12px",borderRadius:"8px",marginBottom:"16px",border:"1px solid rgba(34, 197, 94, 0.2)"},children:w}),a.jsxs("form",{onSubmit:q,style:{width:"100%",display:"grid",gap:10,marginTop:10},children:[!l&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{marginBottom:"8px"},children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:500,fontSize:"14px"},children:"I am a:"}),a.jsxs("div",{style:{display:"flex",gap:"8"},children:[a.jsx("button",{type:"button",onClick:()=>B("individual"),style:{flex:1,padding:"12px 16px",border:`2px solid ${d.userType==="individual"?"var(--accent)":"var(--border)"}`,borderRadius:"8px",background:d.userType==="individual"?"var(--accent)":"transparent",color:d.userType==="individual"?"white":"var(--text)",cursor:"pointer",transition:"all 0.2s ease"},children:"Individual"}),a.jsx("button",{type:"button",onClick:()=>B("organization"),style:{flex:1,padding:"12px 16px",border:`2px solid ${d.userType==="organization"?"var(--accent)":"var(--border)"}`,borderRadius:"8px",background:d.userType==="organization"?"var(--accent)":"transparent",color:d.userType==="organization"?"white":"var(--text)",cursor:"pointer",transition:"all 0.2s ease"},children:"Organization"})]})]}),a.jsx(Ee,{placeholder:d.userType==="individual"?"Full name":"Organization name",name:d.userType==="individual"?"fullName":"organizationName",value:d.userType==="individual"?d.fullName:d.organizationName,onChange:L,required:!l}),a.jsx("div",{style:{fontSize:"12px",color:"var(--muted)",marginTop:"-8px",lineHeight:"1.4"},children:d.userType==="individual"?"This will be displayed on your profile.":"This will be displayed on your organization profile and animal ambassador pages."})]}),!l&&a.jsxs(a.Fragment,{children:[a.jsx(Ee,{placeholder:"Username (letters, numbers, underscores only)",name:"username",value:d.username,onChange:L,required:!l}),a.jsx("div",{style:{fontSize:"12px",color:"var(--muted)",marginTop:"-8px",lineHeight:"1.4"},children:"Username must be 3-30 characters, start with a letter, and be unique."})]}),a.jsx(Ee,{placeholder:"Email",type:"email",name:"email",value:d.email,onChange:L,required:!0}),a.jsx(Ee,{placeholder:"Password",type:"password",name:"password",value:d.password,onChange:L,required:!0}),!l&&a.jsx(Ee,{placeholder:"Confirm password",type:"password",name:"confirmPassword",value:d.confirmPassword,onChange:L,required:!l}),a.jsxs("div",{style:{display:"flex",gap:8,marginTop:12},children:[a.jsx(F,{type:"submit",disabled:y,children:y?"Loading...":l?"Sign in":"Sign up"}),a.jsx(F,{type:"button",variant:"outline",onClick:oe,children:l?"Create account":"Sign in instead"}),a.jsx(F,{type:"button",variant:"ghost",onClick:r,children:"Cancel"})]})]})]})})}function j2(){return a.jsx("div",{className:"container",style:{paddingTop:"0",marginTop:"16px"},children:a.jsxs("div",{className:"row",children:[a.jsxs("aside",{className:"card",style:{gridColumn:"span 3",padding:16},children:[a.jsx("h4",{children:"Thanks to our Sponsors"}),a.jsx("div",{className:"card",style:{height:96,background:"rgba(0,0,0,.05)"}})]}),a.jsxs("main",{style:{gridColumn:"span 6",display:"grid",gap:16},children:[a.jsxs(Z,{style:{overflow:"hidden"},children:[a.jsxs("div",{style:{padding:12,borderBottom:"1px solid var(--border)",display:"flex",alignItems:"center",gap:8},children:[a.jsx("div",{style:{width:10,height:10,borderRadius:8,background:"#22c55e"}}),a.jsx("span",{className:"muted",children:"GiveAnimalsTheZoomies.app"})]}),a.jsx("div",{style:{padding:16,display:"grid",gridTemplateColumns:"repeat(4,1fr)",textAlign:"center",gap:16},children:["$0 Raised Today","0 Animals Helped","0 Supporters","0 Sanctuaries"].map(o=>a.jsxs("div",{children:[a.jsx("div",{style:{fontWeight:800,fontSize:18},children:o.split(" ")[0]}),a.jsx("div",{className:"muted",style:{fontSize:12},children:o.split(" ").slice(1).join(" ")})]},o))})]}),a.jsxs(Z,{style:{padding:16},children:[a.jsxs("div",{style:{display:"flex",gap:8},children:[a.jsx(ad,{size:18}),a.jsx(Ee,{placeholder:"Login to post"})]}),a.jsxs("div",{className:"muted",style:{display:"flex",gap:16,marginTop:10,fontSize:14},children:[a.jsxs("span",{children:[a.jsx($t,{size:16})," Photo/Video"]}),a.jsxs("span",{children:[a.jsx(ad,{size:16})," GIF"]}),a.jsxs("span",{children:[a.jsx(_j,{size:16})," Poll"]})]})]}),a.jsxs(Z,{style:{padding:24,textAlign:"center",background:"linear-gradient(135deg, rgba(0,0,0,.04), transparent)"},children:[a.jsx("h3",{style:{margin:0},children:"Join the Movement"}),a.jsx("p",{className:"muted",children:"Be part of a community helping animals."}),a.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"center"},children:[a.jsx(F,{variant:"outline",children:"Find Animals to Support"}),a.jsxs(F,{children:[a.jsx(gt,{size:16})," Join the Community"]})]})]})]}),a.jsxs("aside",{className:"card",style:{gridColumn:"span 3",padding:16},children:[a.jsx("h4",{children:"Live Streams"}),a.jsx("div",{className:"card",style:{height:130,marginBottom:12}}),a.jsx(F,{style:{width:"100%"},children:"Join"})]})]})})}const vt={async getCommunities(){try{const{data:o,error:r}=await ee.from("communities").select("*").order("name");if(r)throw r;const{data:s,error:l}=await ee.rpc("get_community_stats");if(l)throw l;return{data:o.map(d=>{const f=s.find(y=>y.community_id===d.id);return{...d,members:f?f.total_members:0,active:f?f.active_members:0}}),error:null}}catch(o){return console.error("Error fetching communities:",o),{data:[],error:o}}},async getUserCommunities(o){try{const{data:r,error:s}=await ee.from("community_members").select(`
          community_id,
          joined_at,
          last_activity,
          communities (
            id,
            name,
            description,
            icon_name
          )
        `).eq("user_id",o).eq("is_active",!0);if(s)throw s;return{data:r,error:null}}catch(r){return console.error("Error fetching user communities:",r),{data:[],error:r}}},async joinCommunity(o,r){try{const{data:s,error:l}=await ee.from("community_members").upsert({user_id:o,community_id:r,is_active:!0,last_activity:new Date().toISOString()},{onConflict:"user_id,community_id"});if(l)throw l;return{data:s,error:null}}catch(s){return console.error("Error joining community:",s),{data:null,error:s}}},async leaveCommunity(o,r){try{const{data:s,error:l}=await ee.from("community_members").delete().eq("user_id",o).eq("community_id",r);if(l)throw l;return{data:s,error:null}}catch(s){return console.error("Error leaving community:",s),{data:null,error:s}}},async updateUserActivity(o,r){try{const{data:s,error:l}=await ee.from("community_members").update({last_activity:new Date().toISOString()}).eq("user_id",o).eq("community_id",r);if(l)throw l;return{data:s,error:null}}catch(s){return console.error("Error updating user activity:",s),{data:null,error:s}}},async createPost(o,r,s){try{const l={user_id:o,community_id:r,title:s.title,content:s.content,topic:s.topic,images:s.images||[]},{data:u,error:d}=await ee.from("community_posts").insert(l);if(d)throw d;return r&&await this.updateUserActivity(o,r),{data:u,error:null}}catch(l){return console.error("Error creating post:",l),{data:null,error:l}}},async voteOnPost(o,r,s){try{const{data:l,error:u}=await ee.from("post_votes").upsert({user_id:o,post_id:r,vote_type:s},{onConflict:"user_id,post_id"});if(u)throw u;return await this.updatePostVoteCounts(r),{data:l,error:null}}catch(l){return console.error("Error voting on post:",l),{data:null,error:l}}},async updatePostVoteCounts(o){try{const{data:r}=await ee.from("post_votes").select("vote_type").eq("post_id",o).eq("vote_type",1),{data:s}=await ee.from("post_votes").select("vote_type").eq("post_id",o).eq("vote_type",-1),l=r?.length||0,u=s?.length||0;await ee.from("community_posts").update({upvotes:l,downvotes:u}).eq("id",o)}catch(r){console.error("Error updating post vote counts:",r)}},async getUserPostVote(o,r){try{const{data:s,error:l}=await ee.from("post_votes").select("vote_type").eq("user_id",o).eq("post_id",r).single();if(l&&l.code!=="PGRST116")throw l;return{data:s?.vote_type||0,error:null}}catch(s){return console.error("Error getting user post vote:",s),{data:0,error:s}}},async createComment(o,r,s,l=null){try{const{data:u,error:d}=await ee.from("post_comments").insert({user_id:o,post_id:r,content:s,parent_comment_id:l});if(d)throw d;return{data:u,error:null}}catch(u){return console.error("Error creating comment:",u),{data:null,error:u}}},async getPostComments(o){try{const{data:r,error:s}=await ee.from("post_comments").select("*").eq("post_id",o).is("parent_comment_id",null).order("created_at",{ascending:!1});if(s)throw s;return{data:await Promise.all(r.map(async u=>{const{data:d}=await ee.from("post_comments").select("*").eq("parent_comment_id",u.id).order("created_at",{ascending:!0});return{...u,replies:d||[]}})),error:null}}catch(r){return console.error("Error fetching post comments:",r),{data:[],error:r}}},async voteOnComment(o,r,s){try{const{data:l,error:u}=await ee.from("comment_votes").upsert({user_id:o,comment_id:r,vote_type:s},{onConflict:"user_id,comment_id"});if(u)throw u;return await this.updateCommentVoteCounts(r),{data:l,error:null}}catch(l){return console.error("Error voting on comment:",l),{data:null,error:l}}},async updateCommentVoteCounts(o){try{const{data:r}=await ee.from("comment_votes").select("vote_type").eq("comment_id",o).eq("vote_type",1),{data:s}=await ee.from("comment_votes").select("vote_type").eq("comment_id",o).eq("vote_type",-1),l=r?.length||0,u=s?.length||0;await ee.from("post_comments").update({upvotes:l,downvotes:u}).eq("id",o)}catch(r){console.error("Error updating comment vote counts:",r)}},async getUserCommentVote(o,r){try{const{data:s,error:l}=await ee.from("comment_votes").select("vote_type").eq("user_id",o).eq("comment_id",r).single();if(l&&l.code!=="PGRST116")throw l;return{data:s?.vote_type||0,error:null}}catch(s){return console.error("Error getting user comment vote:",s),{data:0,error:s}}},async getCommunityPosts(o,r=50){try{const{data:s,error:l}=await ee.from("community_posts").select("*").eq("community_id",o).order("created_at",{ascending:!1}).limit(r);if(l)throw l;return{data:await Promise.all(s.map(async d=>{let f=null;if(d.user_id)try{const{data:y}=await ee.from("users").select("id, email, full_name, avatar_url").eq("id",d.user_id).single();y&&(f={id:y.id,email:y.email,user_metadata:{full_name:y.full_name||"Anonymous User",avatar_url:y.avatar_url}})}catch{console.log("Could not fetch user data for post:",d.id)}return{...d,user:f}})),error:null}}catch(s){return console.error("Error fetching community posts:",s),{data:[],error:s}}},async getAllPosts(o=50){try{const{data:r,error:s}=await ee.from("community_posts").select("*").order("created_at",{ascending:!1}).limit(o);if(s)throw s;return{data:await Promise.all(r.map(async u=>{let d=null,f=null;if(u.user_id)try{const{data:y}=await ee.from("users").select("id, email, full_name, avatar_url").eq("id",u.user_id).single();y&&(d={id:y.id,email:y.email,user_metadata:{full_name:y.full_name||"Anonymous User",avatar_url:y.avatar_url}})}catch{console.log("Could not fetch user data for post:",u.id)}if(u.community_id)try{const{data:y}=await ee.from("communities").select("id, name").eq("id",u.community_id).single();y&&(f=y)}catch{console.log("Could not fetch community data for post:",u.id)}return{...u,user:d,community:f}})),error:null}}catch(r){return console.error("Error fetching all posts:",r),{data:[],error:r}}},async isUserMember(o,r){try{const{data:s,error:l}=await ee.from("community_members").select("id").eq("user_id",o).eq("community_id",r).eq("is_active",!0).single();if(l&&l.code!=="PGRST116")throw l;return{data:!!s,error:null}}catch(s){return console.error("Error checking membership:",s),{data:!1,error:s}}},async ensureUserProfile(o,r){try{const{data:s,error:l}=await ee.from("users").select("id").eq("id",o).single();if(l&&l.code==="PGRST116"){const{error:u}=await ee.from("users").insert({id:o,email:r.email,full_name:r.user_metadata?.full_name||"Anonymous User",avatar_url:r.user_metadata?.avatar_url||null});if(u)throw u;return{data:!0,error:null}}else{if(l)throw l;{const{error:u}=await ee.from("users").update({email:r.email,full_name:r.user_metadata?.full_name||"Anonymous User",avatar_url:r.user_metadata?.avatar_url||null,updated_at:new Date().toISOString()}).eq("id",o);if(u)throw u;return{data:!0,error:null}}}}catch(s){return console.error("Error ensuring user profile:",s),{data:!1,error:s}}}},Kg=["Animal Care","Pet Pics","Rescue Stories","Wildlife","Adoption","Volunteering","Donations","Education","Events","Tips & Advice"];function _2({onOpenAuth:o}){const[r,s]=C.useState(""),[l,u]=C.useState(null),[d,f]=C.useState(new Set),[y,p]=C.useState(!1),[m,x]=C.useState(!1),[w,k]=C.useState(!1),[S,b]=C.useState({name:"",description:"",icon:"PawPrint"}),[q,L]=C.useState([]),[B,oe]=C.useState(!0),[G,te]=C.useState([]),[ae,de]=C.useState(!1),[he,qe]=C.useState(new Map),[be,ie]=C.useState({}),[Ue,$e]=C.useState({}),[et,je]=C.useState(""),[ke,W]=C.useState(null),[J,ge]=C.useState(new Set),[ue,A]=C.useState(null),[N,V]=C.useState({title:"",content:"",images:[],community:"",topic:""}),{user:j}=Ba(),[R,ne]=C.useState(null),[re,Te]=C.useState(new Map);C.useEffect(()=>{(async()=>{if(j)try{const{data:D,error:se}=await ee.from("user_profiles").select("avatar_url, full_name").eq("user_id",j.id).single();!se&&D&&(ne(D),console.log("User profile loaded:",D))}catch(D){console.log("Could not fetch user profile:",D)}})()},[j]),C.useEffect(()=>{(async()=>{if(G.length)try{const D=[...new Set(G.map(st=>st.user_id))],{data:se,error:ze}=await ee.from("user_profiles").select("user_id, avatar_url, full_name").in("user_id",D);if(!ze&&se){const st=new Map;se.forEach(En=>{st.set(En.user_id,En)}),Te(st),console.log("Post user profiles loaded:",st)}}catch(D){console.log("Could not fetch post user profiles:",D)}})()},[G]);const me=C.useMemo(()=>q.filter(_=>_.name.toLowerCase().includes(r.toLowerCase())),[q,r]),Qe=_=>{const D=re.get(_.user_id),se=D?.avatar_url;if(se&&se.trim()!==""&&!se.endsWith("/")&&se.includes("."))return a.jsx("img",{src:se,alt:"",style:{height:40,width:40,borderRadius:999,objectFit:"cover"}});const ze=D?.full_name||_.user?.user_metadata?.full_name||_.user?.email,st=ze?ze[0]?.toUpperCase():"U";return a.jsx("div",{style:{height:40,width:40,borderRadius:999,background:"var(--accent)",display:"grid",placeItems:"center",color:"white",fontSize:"16px",fontWeight:"600"},children:st})},ut=_=>{const D=re.get(_.user_id),se=D?.avatar_url;if(se&&se.trim()!==""&&!se.endsWith("/")&&se.includes("."))return a.jsx("img",{src:se,alt:"",style:{height:56,width:56,borderRadius:"50%",objectFit:"cover"}});const ze=D?.full_name||_.user?.user_metadata?.full_name||_.user?.email,st=ze?ze[0]?.toUpperCase():"U";return a.jsx("div",{style:{height:56,width:56,borderRadius:"50%",background:"var(--accent)",display:"grid",placeItems:"center",color:"white",fontSize:"20px",fontWeight:"600",flexShrink:0},children:st})};C.useEffect(()=>{(async()=>{oe(!0);try{const{data:D,error:se}=await vt.getCommunities();if(se)throw se;if(L(D||[]),j){await vt.ensureUserProfile(j.id,j);const{data:ze,error:st}=await vt.getUserCommunities(j.id);if(st)throw st;const En=new Set(ze.map(bn=>bn.community_id));f(En)}}catch(D){console.error("Error loading community data:",D),D.message&&D.message.includes("relation")&&D.message.includes("does not exist")&&console.error("Database schema not set up. Please run COMMUNITY_SCHEMA.sql in Supabase SQL Editor.")}finally{oe(!1)}})()},[j]),C.useEffect(()=>{!B&&q.length>0&&(console.log("Initial posts fetch triggered"),Ot())},[B,q]),C.useEffect(()=>{Ot()},[l]);const z=async _=>{if(!j){o();return}try{const{error:D}=await vt.joinCommunity(j.id,_);if(D)throw D;f(ze=>new Set([...ze,_]));const{data:se}=await vt.getCommunities();se&&L(se)}catch(D){console.error("Error joining community:",D),alert("Failed to join community. Please try again.")}},Y=async _=>{if(j)try{const{error:D}=await vt.leaveCommunity(j.id,_);if(D)throw D;f(ze=>{const st=new Set(ze);return st.delete(_),st});const{data:se}=await vt.getCommunities();se&&L(se)}catch(D){console.error("Error leaving community:",D),alert("Failed to leave community. Please try again.")}},ye=_=>{const se=Array.from(_.target.files).map(ze=>({file:ze,preview:URL.createObjectURL(ze),name:ze.name}));V(ze=>({...ze,images:[...ze.images,...se]}))},xe=_=>{V(D=>({...D,images:D.images.filter((se,ze)=>ze!==_)}))},Ie=async()=>{if(!N.content.trim()){alert("Please write something to post!");return}if(!j){o();return}try{let _=null;N.community&&(_=q.find(ze=>ze.name===N.community)?.id);const{error:D}=await vt.createPost(j.id,_,N);if(D)throw D;alert("Post created successfully! It will appear in the community feed."),V({title:"",content:"",images:[],community:"",topic:""}),p(!1);const{data:se}=await vt.getCommunities();se&&L(se),await Ot()}catch(_){console.error("Error creating post:",_),console.error("Error details:",{message:_.message,code:_.code,details:_.details,hint:_.hint}),_.message&&_.message.includes("relation")&&_.message.includes("does not exist")?alert("Database not set up. Please run the COMMUNITY_SCHEMA.sql in your Supabase SQL Editor first."):alert("Failed to create post. Please try again. Error: "+_.message)}},tt=()=>{V({title:"",content:"",images:[],community:"",topic:""})},_t=()=>{console.log("Opening post modal"),p(!0)},sa=()=>{console.log("Opening community post modal for:",l?.name),x(!0),l&&j&&d.has(l.id)&&vt.updateUserActivity(j.id,l.id)},la=async()=>{if(!S.name.trim()||!S.description.trim()){alert("Please fill in both name and description!");return}if(!j){o();return}try{const _=S.name.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");alert(`Community "${S.name}" created successfully!`),b({name:"",description:"",icon:"PawPrint"}),k(!1);const{data:D}=await vt.getCommunities();D&&L(D)}catch(_){console.error("Error creating community:",_),alert("Failed to create community. Please try again.")}},Wt=_=>{const D=q.find(se=>se.id===_);return D?{members:D.members,active:D.active}:{members:0,active:0}},Ot=async()=>{de(!0);try{if(l){const{data:_,error:D}=await vt.getCommunityPosts(l.id);if(D)throw D;te(_||[])}else{const{data:_,error:D}=await vt.getAllPosts();if(D)throw D;te(_||[])}}catch(_){console.error("Error fetching posts:",_),te([])}finally{de(!1)}},qt=async(_,D)=>{if(!j){o();return}try{const{error:se}=await vt.voteOnPost(j.id,_,D);if(se)throw se;qe(ze=>new Map(ze).set(_,D)),await Ot()}catch(se){console.error("Error voting on post:",se),alert("Failed to vote on post. Please try again.")}},Nn=async _=>{if(A(_),!be[_.id]){$e(D=>({...D,[_.id]:!0}));try{const{data:D,error:se}=await vt.getPostComments(_.id);if(se)throw se;ie(ze=>({...ze,[_.id]:D||[]}))}catch(D){console.error("Error fetching comments:",D),ie(se=>({...se,[_.id]:[]}))}finally{$e(D=>({...D,[_.id]:!1}))}}},mt=async _=>{if(!(!et.trim()||!_)){if(!j){o();return}try{const{error:D}=await vt.createComment(j.id,_,et,ke);if(D)throw D;const{data:se,error:ze}=await vt.getPostComments(_);ze||ie(se||[]),je(""),W(null)}catch(D){console.error("Error creating comment:",D),alert("Failed to create comment. Please try again.")}}},sn=async _=>{if(!J.has(_)&&!be[_]){$e(D=>({...D,[_]:!0}));try{const{data:D,error:se}=await vt.getPostComments(_);se||ie(ze=>({...ze,[_]:D||[]}))}catch(D){console.error("Error fetching comments:",D)}finally{$e(D=>({...D,[_]:!1}))}}ge(D=>{const se=new Set(D);return se.has(_)?se.delete(_):se.add(_),se})},Ft=async(_,D,se)=>{if(!j){o();return}try{const{error:ze}=await vt.voteOnComment(j.id,_,D);if(ze)throw ze;const{data:st,error:En}=await vt.getPostComments(se);En||ie(bn=>({...bn,[se]:st||[]}))}catch(ze){console.error("Error voting on comment:",ze),alert("Failed to vote on comment. Please try again.")}};return a.jsx("div",{className:"container",style:{paddingTop:"0",marginTop:"16px"},children:a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"320px 1fr",gap:18,alignItems:"start"},children:[a.jsx("aside",{style:{position:"sticky",top:16,height:"fit-content"},children:a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12,width:"100%"},children:[a.jsxs(Z,{style:{padding:12,width:"100%"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[a.jsx(md,{size:16}),a.jsx("span",{className:"muted",style:{fontSize:14},children:"Search communities"})]}),a.jsx(Ee,{value:r,onChange:_=>s(_.target.value),placeholder:"Search"})]}),a.jsxs(Z,{style:{padding:12,width:"100%"},children:[a.jsxs("div",{className:"spread",style:{marginBottom:12},children:[a.jsx("h3",{style:{margin:0},children:"Communities"}),a.jsxs(F,{size:"sm",onClick:()=>k(!0),children:[a.jsx(si,{size:16})," Create"]})]}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8,maxHeight:"300px",overflowY:"auto"},children:B?a.jsxs("div",{style:{textAlign:"center",padding:"20px",color:"var(--muted)"},children:[a.jsx("div",{style:{animation:"spin 1s linear infinite",fontSize:"20px",marginBottom:"8px"},children:""}),"Loading communities..."]}):q.length===0?a.jsxs("div",{style:{textAlign:"center",padding:"20px",color:"var(--muted)"},children:[a.jsx("div",{style:{fontSize:"14px",marginBottom:"8px"},children:" Database not set up"}),a.jsxs("div",{style:{fontSize:"12px",lineHeight:"1.4"},children:["Run ",a.jsx("code",{children:"COMMUNITY_SCHEMA.sql"})," in your Supabase SQL Editor to get started."]})]}):me.map(_=>a.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",padding:8,borderRadius:8,border:"1px solid var(--border)",cursor:"pointer",background:l?.id===_.id?"var(--accent)":"transparent",color:l?.id===_.id?"white":"inherit"},onClick:()=>{u(_),j&&d.has(_.id)&&vt.updateUserActivity(j.id,_.id)},children:[a.jsx("div",{style:{height:32,width:32,borderRadius:8,background:"color-mix(in lab, var(--accent) 20%, transparent)",display:"grid",placeItems:"center",flexShrink:0},children:(()=>{const D=_.icon_name==="PawPrint"?ot:_.icon_name==="Camera"?$t:_.icon_name==="HeartHandshake"?_s:_.icon_name==="Heart"?vn:_.icon_name==="MessageCircle"?kt:_.icon_name==="Users"?gt:_.icon_name==="Dog"?vs:_.icon_name==="Cat"?xs:_.icon_name==="Bird"?gs:_.icon_name==="Fish"?js:_.icon_name==="Turtle"?zs:_.icon_name==="Rabbit"?Ss:_.icon_name==="Rat"?Cs:_.icon_name==="Snail"?Ts:_.icon_name==="Bug"?ys:_.icon_name==="Bone"?ms:_.icon_name==="Egg"?bs:_.icon_name==="Panda"?ws:_.icon_name==="Squirrel"?Es:_.icon_name==="Worm"?As:_.icon_name==="Shell"?ks:ot;return a.jsx(D,{size:16})})()}),a.jsxs("div",{style:{flex:1,minWidth:0},children:[a.jsx("div",{style:{fontWeight:600,fontSize:14},children:_.name}),a.jsx("div",{className:"muted",style:{fontSize:12},children:_.desc}),a.jsxs("div",{className:"muted",style:{fontSize:11,display:"flex",alignItems:"center",gap:4},children:[a.jsx(gt,{size:12})," ",Wt(_.id).members," members  ",Wt(_.id).active," active"]})]}),d.has(_.id)?a.jsx(F,{variant:"ghost",size:"sm",style:{flexShrink:0},onClick:D=>{D.stopPropagation(),Y(_.id)},children:"Leave"}):a.jsx(F,{variant:"ghost",size:"sm",style:{flexShrink:0},onClick:D=>{D.stopPropagation(),z(_.id)},children:"Join"})]},_.id))})]}),j&&d.size>0&&a.jsxs(Z,{style:{padding:12,width:"100%"},children:[a.jsxs("div",{className:"spread",style:{marginBottom:12},children:[a.jsx("h3",{style:{margin:0},children:"Joined Communities"}),a.jsxs("span",{className:"muted",style:{fontSize:12},children:[d.size," joined"]})]}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8,maxHeight:"200px",overflowY:"auto"},children:Array.from(d).map(_=>{const D=q.find(se=>se.id===_);return D?a.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",padding:8,borderRadius:8,border:"1px solid var(--border)",cursor:"pointer",background:l?.id===D.id?"var(--accent)":"var(--panel)",color:l?.id===D.id?"white":"inherit"},onClick:()=>u(D),children:[a.jsx("div",{style:{height:24,width:24,borderRadius:6,background:"color-mix(in lab, var(--accent) 20%, transparent)",display:"grid",placeItems:"center",flexShrink:0},children:(()=>{const se=D.icon_name==="PawPrint"?ot:D.icon_name==="Camera"?$t:D.icon_name==="HeartHandshake"?_s:D.icon_name==="Heart"?vn:D.icon_name==="MessageCircle"?kt:D.icon_name==="Users"?gt:D.icon_name==="Dog"?vs:D.icon_name==="Cat"?xs:D.icon_name==="Bird"?gs:D.icon_name==="Fish"?js:D.icon_name==="Turtle"?zs:D.icon_name==="Rabbit"?Ss:D.icon_name==="Rat"?Cs:D.icon_name==="Snail"?Ts:D.icon_name==="Bug"?ys:D.icon_name==="Bone"?ms:D.icon_name==="Egg"?bs:D.icon_name==="Panda"?ws:D.icon_name==="Squirrel"?Es:D.icon_name==="Worm"?As:D.icon_name==="Shell"?ks:ot;return a.jsx(se,{size:12})})()}),a.jsxs("div",{style:{flex:1,minWidth:0},children:[a.jsx("div",{style:{fontWeight:600,fontSize:13},children:D.name}),a.jsxs("div",{className:"muted",style:{fontSize:11},children:[Wt(D.id).members," members"]})]})]},D.id):null})})]}),a.jsxs(Z,{style:{padding:12,width:"100%"},children:[a.jsx("div",{className:"muted",style:{fontSize:12,textTransform:"uppercase",letterSpacing:.6,marginBottom:8},children:"Feed Filter"}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[a.jsxs("button",{style:{display:"flex",alignItems:"center",gap:8,padding:"8px 12px",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--panel)",color:"var(--text)",cursor:"pointer",fontSize:"14px",textAlign:"left",width:"100%"},children:[a.jsx(fo,{size:16})," Trending"]}),a.jsxs("button",{style:{display:"flex",alignItems:"center",gap:8,padding:"8px 12px",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--panel)",color:"var(--text)",cursor:"pointer",fontSize:"14px",textAlign:"left",width:"100%"},children:[a.jsx(Fg,{size:16})," Recent"]}),a.jsxs("button",{style:{display:"flex",alignItems:"center",gap:8,padding:"8px 12px",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--panel)",color:"var(--text)",cursor:"pointer",fontSize:"14px",textAlign:"left",width:"100%"},children:[a.jsx(ho,{size:16})," Featured"]})]})]}),a.jsxs(Z,{style:{padding:12,width:"100%"},children:[a.jsx("div",{className:"muted",style:{fontSize:12,textTransform:"uppercase",letterSpacing:.6,marginBottom:8},children:"Topics"}),a.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:[a.jsxs(xn,{children:[a.jsx(ot,{size:14})," Animal Care"]}),a.jsxs(xn,{children:[a.jsx($t,{size:14})," Pet Pics"]}),a.jsxs(xn,{children:[a.jsx(_s,{size:14})," Rescue Stories"]})]})]})]})}),a.jsxs("section",{style:{display:"grid",gap:16},children:[B?a.jsx(Z,{style:{padding:40,textAlign:"center"},children:a.jsxs("div",{style:{marginBottom:24},children:[a.jsx("div",{style:{width:40,height:40,border:"3px solid var(--border)",borderTop:"3px solid var(--accent)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px auto"}}),a.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"24px"},children:"Loading Communities..."}),a.jsx("p",{style:{margin:0,color:"var(--muted)",fontSize:"16px"},children:"Please wait while we load the latest community data."})]})}):ue?a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{marginBottom:24},children:a.jsx(F,{variant:"ghost",onClick:()=>A(null),style:{display:"flex",alignItems:"center",gap:8,marginBottom:16,fontSize:"16px",padding:"12px 16px"},children:" Back to All Posts"})}),a.jsxs(Z,{style:{padding:0,marginBottom:24,border:"1px solid var(--border)",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",background:"var(--panel)"},children:[a.jsxs("div",{style:{display:"flex",gap:16,marginBottom:24,alignItems:"flex-start",padding:"24px 24px 0 24px"},children:[ut(ue),a.jsxs("div",{style:{flex:1,minWidth:0},children:[a.jsx("div",{style:{fontWeight:"600",fontSize:"16px",marginBottom:"4px",color:"var(--text)"},children:a.jsx(Gt,{to:`/profile/${ue.user_id}`,style:{color:"inherit",textDecoration:"none",cursor:"pointer"},onMouseEnter:_=>_.target.style.color="var(--accent)",onMouseLeave:_=>_.target.style.color="inherit",children:ue.user?.user_metadata?.full_name||ue.user?.email||"Anonymous User"})}),a.jsxs("div",{style:{fontSize:"14px",color:"var(--muted)"},children:[new Date(ue.created_at).toLocaleDateString(),"  ",new Date(ue.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),a.jsxs("div",{style:{marginBottom:32,padding:"0 24px"},children:[ue.title&&a.jsx("h1",{style:{margin:"0 0 16px 0",fontSize:"28px",fontWeight:"700",lineHeight:1.3,color:"var(--text)"},children:ue.title}),a.jsx("div",{style:{fontSize:"18px",lineHeight:1.6,color:"var(--text)",marginBottom:"20px"},children:ue.content}),a.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center",flexWrap:"wrap"},children:[ue.topic&&a.jsx(xn,{active:!0,style:{fontSize:"14px",padding:"6px 12px",background:"var(--accent)",color:"white",border:"none"},children:ue.topic}),ue.community&&a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"14px",color:"var(--muted)",padding:"6px 12px",background:"var(--panel)",borderRadius:"20px",border:"1px solid var(--border)"},children:[a.jsx("span",{children:""}),a.jsx("span",{children:ue.community.name})]})]})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16,padding:"16px 24px",borderTop:"1px solid var(--border)",borderBottom:"1px solid var(--border)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",borderRadius:"8px"},children:[a.jsx("button",{onClick:()=>qt(ue.id,1),style:{background:"none",border:"none",cursor:"pointer",color:he.get(ue.id)===1?"var(--accent)":"var(--muted)",padding:"8px",borderRadius:"6px",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px"},children:a.jsx(or,{size:18})}),a.jsx("span",{style:{fontWeight:"600",fontSize:"16px",color:"var(--text)",minWidth:"32px",textAlign:"center"},children:(ue.upvotes||0)-(ue.downvotes||0)}),a.jsx("button",{onClick:()=>qt(ue.id,-1),style:{background:"none",border:"none",cursor:"pointer",color:he.get(ue.id)===-1?"var(--accent)":"var(--muted)",padding:"8px",borderRadius:"6px",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px"},children:a.jsx(ri,{size:18})})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",borderRadius:"8px",color:"var(--muted)"},children:[a.jsx(kt,{size:18}),a.jsxs("span",{style:{fontSize:"14px",fontWeight:"500"},children:[be[ue.id]?.length||0," comments"]})]}),a.jsx("div",{style:{marginLeft:"auto"},children:a.jsxs(F,{variant:"outline",size:"sm",onClick:()=>{const _=`${window.location.origin}/post/${ue.id}`;navigator.share?navigator.share({title:ue.title||"Check out this post",text:ue.content.substring(0,100)+"...",url:_}):(navigator.clipboard.writeText(_),alert("Post link copied to clipboard!"))},style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",padding:"8px 16px",borderRadius:"8px"},children:[a.jsx(Kj,{size:16}),"Share"]})})]})]}),a.jsxs(Z,{style:{padding:0,border:"none",boxShadow:"none",background:"transparent"},children:[a.jsxs("div",{style:{marginBottom:32,padding:"24px",background:"var(--panel)",borderRadius:"12px",border:"1px solid var(--border)"},children:[a.jsx("h3",{style:{margin:"0 0 20px 0",fontSize:"20px",fontWeight:"600",color:"var(--text)"},children:"Add a comment"}),a.jsx(Kt,{placeholder:"What are your thoughts on this post?",value:et,onChange:_=>je(_.target.value),rows:3,style:{marginBottom:16,fontSize:"16px",border:"1px solid var(--border)",borderRadius:"8px",padding:"12px 16px"}}),a.jsxs("div",{style:{display:"flex",gap:12,justifyContent:"flex-end"},children:[ke&&a.jsx(F,{variant:"outline",size:"sm",onClick:()=>W(null),style:{padding:"8px 16px"},children:"Cancel"}),a.jsx(F,{onClick:()=>mt(ue.id),disabled:!et.trim(),size:"sm",style:{padding:"8px 20px",background:"var(--accent)",color:"white",border:"none"},children:"Post Comment"})]})]}),Ue[ue.id]?a.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"var(--muted)",background:"var(--panel)",borderRadius:"12px",border:"1px solid var(--border)"},children:[a.jsx("div",{style:{animation:"spin 1s linear infinite",fontSize:"24px",marginBottom:"16px"},children:""}),"Loading comments..."]}):!be[ue.id]||be[ue.id].length===0?a.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"var(--muted)",background:"var(--panel)",borderRadius:"12px",border:"1px solid var(--border)"},children:[a.jsx(kt,{size:32,style:{marginBottom:"16px",opacity:.5}}),a.jsx("p",{style:{margin:0,fontSize:"16px"},children:"No comments yet"}),a.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"14px",opacity:.7},children:"Be the first to share your thoughts!"})]}):a.jsx("div",{style:{display:"grid",gap:16},children:be[ue.id].map(_=>a.jsxs("div",{style:{padding:"20px",border:"1px solid var(--border)",borderRadius:"12px",background:"var(--panel)"},children:[a.jsxs("div",{style:{display:"flex",gap:12,marginBottom:16},children:[a.jsx("div",{style:{height:36,width:36,borderRadius:"50%",background:"var(--accent)",display:"grid",placeItems:"center",color:"white",fontSize:"14px",fontWeight:"600",flexShrink:0},children:_.user?.user_metadata?.full_name?.[0]||_.user?.email?.[0]?.toUpperCase()||"U"}),a.jsxs("div",{style:{flex:1,minWidth:0},children:[a.jsx("div",{style:{fontWeight:"600",fontSize:"14px",color:"var(--text)"},children:a.jsx(Gt,{to:`/profile/${_.user_id}`,style:{color:"inherit",textDecoration:"none",cursor:"pointer"},onMouseEnter:D=>D.target.style.color="var(--accent)",onMouseLeave:D=>D.target.style.color="inherit",children:_.user?.user_metadata?.full_name||_.user?.email||"Anonymous User"})}),a.jsxs("div",{style:{fontSize:"12px",color:"var(--muted)"},children:[new Date(_.created_at).toLocaleDateString(),"  ",new Date(_.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),a.jsx("div",{style:{fontSize:"16px",lineHeight:1.5,marginBottom:16,color:"var(--text)"},children:_.content}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16,paddingTop:12,borderTop:"1px solid var(--border)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[a.jsx("button",{onClick:()=>Ft(_.id,1,ue.id),style:{background:"none",border:"none",cursor:"pointer",color:"var(--muted)",padding:"6px",borderRadius:"4px",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",width:"28px",height:"28px"},children:a.jsx(or,{size:14})}),a.jsx("span",{style:{fontSize:"14px",fontWeight:"500",color:"var(--text)",minWidth:"20px",textAlign:"center"},children:(_.upvotes||0)-(_.downvotes||0)}),a.jsx("button",{onClick:()=>Ft(_.id,-1,ue.id),style:{background:"none",border:"none",cursor:"pointer",color:"var(--muted)",padding:"6px",borderRadius:"4px",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",width:"28px",height:"28px"},children:a.jsx(ri,{size:14})})]}),a.jsx("button",{onClick:()=>W(ke===_.id?null:_.id),style:{background:"none",border:"none",cursor:"pointer",color:"var(--accent)",fontSize:"13px",padding:"6px 12px",borderRadius:"6px",transition:"all 0.2s ease",fontWeight:"500"},children:"Reply"})]})]},_.id))})]})]}):l?a.jsxs(a.Fragment,{children:[a.jsx(Z,{style:{padding:20},children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16,marginBottom:16},children:[a.jsx("div",{style:{height:64,width:64,borderRadius:16,background:"color-mix(in lab, var(--accent) 20%, transparent)",display:"grid",placeItems:"center"},children:(()=>{const _=l.icon_name==="PawPrint"?ot:l.icon_name==="Camera"?$t:l.icon_name==="HeartHandshake"?_s:l.icon_name==="Heart"?vn:l.icon_name==="MessageCircle"?kt:l.icon_name==="Users"?gt:l.icon_name==="Dog"?vs:l.icon_name==="Cat"?xs:l.icon_name==="Bird"?gs:l.icon_name==="Fish"?js:l.icon_name==="Turtle"?zs:l.icon_name==="Rabbit"?Ss:l.icon_name==="Rat"?Cs:l.icon_name==="Snail"?Ts:l.icon_name==="Bug"?ys:l.icon_name==="Bone"?ms:l.icon_name==="Egg"?bs:l.icon_name==="Panda"?ws:l.icon_name==="Squirrel"?Es:l.icon_name==="Worm"?As:l.icon_name==="Shell"?ks:ot;return a.jsx(_,{size:32,color:"var(--accent)"})})()}),a.jsxs("div",{style:{flex:1},children:[a.jsx("h2",{style:{margin:"0 0 8px 0"},children:l.name}),a.jsx("p",{style:{margin:"0 0 8px 0",color:"var(--muted)"},children:l.desc}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16,fontSize:14},children:[a.jsxs("span",{style:{display:"flex",alignItems:"center",gap:4},children:[a.jsx(gt,{size:16})," ",Wt(l.id).members," members"]}),a.jsxs("span",{style:{display:"flex",alignItems:"center",gap:4},children:[a.jsx(Fg,{size:16})," ",Wt(l.id).active," active now"]})]})]}),a.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[a.jsxs(F,{variant:"outline",onClick:Ot,disabled:ae,children:[a.jsx("span",{style:{fontSize:"18px",marginRight:"4px"},children:""})," Refresh"]}),d.has(l.id)?a.jsx(F,{variant:"outline",onClick:()=>Y(l.id),children:"Leave Community"}):a.jsx(F,{onClick:()=>z(l.id),children:"Join Community"}),a.jsx(F,{variant:"ghost",onClick:()=>u(null),children:" Back to All"})]})]})}),d.has(l.id)&&a.jsxs(Z,{style:{padding:16,cursor:"pointer"},onClick:sa,children:[a.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:12},children:[(()=>{const _=R?.avatar_url;if(_&&_.trim()!==""&&!_.endsWith("/")&&_.includes("."))return a.jsx("img",{src:_,alt:"",style:{height:40,width:40,borderRadius:999,objectFit:"cover"}});const D=R?.full_name||j?.user_metadata?.full_name||j?.email,se=D?D[0]?.toUpperCase():"U";return a.jsx("div",{style:{height:40,width:40,borderRadius:999,background:"var(--accent)",display:"grid",placeItems:"center",color:"white",fontSize:"16px",fontWeight:"600"},children:se})})(),a.jsx(Ee,{placeholder:`What's happening in ${l.name}?`,style:{flex:1,cursor:"pointer"},readOnly:!0})]}),a.jsxs("div",{className:"muted",style:{display:"flex",gap:16,fontSize:14},children:[a.jsxs("span",{style:{cursor:"pointer"},children:[a.jsx($t,{size:16})," Photo/Video"]}),a.jsxs("span",{style:{cursor:"pointer"},children:[a.jsx(kt,{size:16})," Poll"]}),a.jsxs("span",{style:{cursor:"pointer"},children:[a.jsx(gt,{size:16})," Tag Community"]})]})]}),ae?a.jsxs(Z,{style:{padding:40,textAlign:"center"},children:[a.jsx("div",{style:{animation:"spin 1s linear infinite",fontSize:"32px",marginBottom:"16px"},children:""}),a.jsx("p",{style:{margin:0,color:"var(--muted)"},children:"Loading posts..."})]}):G.length===0?a.jsxs(Z,{style:{padding:40,textAlign:"center"},children:[a.jsxs("div",{style:{marginBottom:24},children:[a.jsx(ot,{size:64,style:{color:"var(--muted)",marginBottom:16}}),a.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"24px"},children:"No posts yet"}),a.jsxs("p",{style:{margin:0,color:"var(--muted)",fontSize:"16px",lineHeight:1.5},children:["Be the first to share something in ",l.name,"!",a.jsx("br",{}),d.has(l.id)?"Create a post to get the conversation started.":"Join the community to create your first post!"]})]}),d.has(l.id)?a.jsxs(F,{size:"lg",onClick:sa,children:[a.jsx(si,{size:20})," Create First Post"]}):a.jsxs(F,{size:"lg",onClick:()=>z(l.id),children:[a.jsx(gt,{size:20})," Join to Post"]})]}):a.jsx("div",{style:{display:"grid",gap:16},children:G.map(_=>a.jsxs(Z,{style:{padding:16},children:[a.jsxs("div",{style:{display:"flex",gap:12,marginBottom:12},children:[Qe(_),a.jsxs("div",{style:{flex:1},children:[a.jsx("div",{style:{fontWeight:600,fontSize:"14px"},children:a.jsx(Gt,{to:`/profile/${_.user_id}`,style:{color:"inherit",textDecoration:"none",cursor:"pointer"},onMouseEnter:D=>D.target.style.color="var(--accent)",onMouseLeave:D=>D.target.style.color="inherit",children:_.user?.user_metadata?.full_name||_.user?.email||"Anonymous User"})}),a.jsxs("div",{className:"muted",style:{fontSize:"12px"},children:[new Date(_.created_at).toLocaleDateString()," at ",new Date(_.created_at).toLocaleTimeString()]})]})]}),_.title&&a.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"18px",fontWeight:"600"},children:_.title}),a.jsx("div",{style:{marginBottom:12,fontSize:"16px",lineHeight:1.5},children:_.content}),_.topic&&a.jsx("div",{style:{marginBottom:12},children:a.jsx(xn,{active:!0,style:{fontSize:"12px"},children:_.topic})}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16,marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[a.jsx("button",{onClick:D=>{D.stopPropagation(),qt(_.id,1)},style:{background:"none",border:"none",cursor:"pointer",color:he.get(_.id)===1?"var(--accent)":"var(--muted)",padding:"8px",borderRadius:"6px",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",height:"36px"},children:a.jsx(or,{size:16})}),a.jsx("span",{style:{fontWeight:"600",color:he.get(_.id)===1||he.get(_.id)===-1?"var(--accent)":"var(--text)"},children:(_.upvotes||0)-(_.downvotes||0)}),a.jsx("button",{onClick:D=>{D.stopPropagation(),qt(_.id,-1)},style:{background:"none",border:"none",cursor:"pointer",color:he.get(_.id)===-1?"var(--accent)":"var(--muted)",padding:"8px",borderRadius:"6px",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",height:"36px"},children:a.jsx(ri,{size:16})})]}),a.jsxs("button",{onClick:D=>{D.stopPropagation(),sn(_.id)},style:{background:"none",border:"none",cursor:"pointer",color:"var(--muted)",fontSize:"14px",padding:"8px 12px",borderRadius:"6px",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s ease",height:"36px"},children:[a.jsx(kt,{size:16})," ",J.has(_.id)?"Hide Comments":"Comment"]}),a.jsx("div",{style:{marginLeft:"auto"},children:a.jsxs(F,{variant:"outline",size:"sm",onClick:D=>{D.stopPropagation(),Nn(_)},style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"14px",padding:"8px 12px",height:"36px"},children:["View Post",a.jsx(ur,{size:14})]})})]}),J.has(_.id)&&a.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[a.jsxs("div",{style:{marginBottom:16},children:[a.jsx(Kt,{placeholder:"Write a comment...",value:et,onChange:D=>je(D.target.value),rows:2,style:{marginBottom:8}}),a.jsx("div",{style:{display:"flex",gap:8,justifyContent:"flex-end"},children:a.jsx(F,{size:"sm",onClick:()=>mt(_.id),disabled:!et.trim(),children:"Post Comment"})})]}),Ue[_.id]?a.jsxs("div",{style:{textAlign:"center",padding:"20px",color:"var(--muted)"},children:[a.jsx("div",{style:{animation:"spin 1s linear infinite",fontSize:"16px"},children:""}),"Loading comments..."]}):!be[_.id]||be[_.id].length===0?a.jsx("div",{style:{textAlign:"center",padding:"20px",color:"var(--muted)"},children:a.jsx("p",{style:{margin:0,fontSize:"14px"},children:"No comments yet. Be the first to comment!"})}):a.jsx("div",{style:{display:"grid",gap:12},children:be[_.id].map(D=>a.jsxs("div",{style:{padding:"12px",border:"1px solid var(--border)",borderRadius:"6px",background:"var(--bg)"},children:[a.jsxs("div",{style:{display:"flex",gap:8,marginBottom:8},children:[a.jsx("div",{style:{height:24,width:24,borderRadius:999,background:"var(--accent)",display:"grid",placeItems:"center",color:"white",fontSize:"12px",fontWeight:"600"},children:D.user?.user_metadata?.full_name?.[0]||D.user?.email?.[0]?.toUpperCase()||"U"}),a.jsxs("div",{style:{flex:1},children:[a.jsx("div",{style:{fontWeight:600,fontSize:"12px"},children:D.user?.user_metadata?.full_name||D.user?.email||"Anonymous User"}),a.jsxs("div",{className:"muted",style:{fontSize:"10px"},children:[new Date(D.created_at).toLocaleDateString()," at ",new Date(D.created_at).toLocaleTimeString()]})]})]}),a.jsx("div",{style:{fontSize:"14px",lineHeight:1.4,marginBottom:8},children:D.content}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[a.jsx("button",{onClick:()=>Ft(D.id,1,_.id),style:{background:"none",border:"none",cursor:"pointer",color:"var(--muted)",fontSize:"12px",padding:"2px",borderRadius:"2px",transition:"all 0.2s ease"},children:""}),a.jsx("span",{style:{fontSize:"12px",fontWeight:"600"},children:(D.upvotes||0)-(D.downvotes||0)}),a.jsx("button",{onClick:()=>Ft(D.id,-1,_.id),style:{background:"none",border:"none",cursor:"pointer",color:"var(--muted)",fontSize:"12px",padding:"2px",borderRadius:"2px",transition:"all 0.2s ease"},children:""})]})]},D.id))})]})]},_.id))})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"spread",children:[a.jsx("h2",{style:{margin:0},children:"Community Feed"}),a.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[a.jsxs(F,{variant:"outline",onClick:Ot,disabled:ae,children:[a.jsx("span",{style:{fontSize:"18px",marginRight:"4px"},children:""})," Refresh"]}),a.jsxs(F,{onClick:_t,children:[a.jsx(si,{size:16})," Create Post"]})]})]}),a.jsxs(Z,{style:{padding:16,cursor:"pointer"},onClick:_t,children:[a.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:12},children:[(()=>{const _=R?.avatar_url;if(_&&_.trim()!==""&&!_.endsWith("/")&&_.includes("."))return a.jsx("img",{src:_,alt:"",style:{height:40,width:40,borderRadius:999,objectFit:"cover"}});const D=R?.full_name||j?.user_metadata?.full_name||j?.email,se=D?D[0]?.toUpperCase():"U";return a.jsx("div",{style:{height:40,width:40,borderRadius:999,background:"var(--accent)",display:"grid",placeItems:"center",color:"white",fontSize:"16px",fontWeight:"600"},children:se})})(),a.jsx("div",{style:{flex:1,cursor:"pointer"},children:a.jsx(Ee,{placeholder:"What's happening in the animal world?",style:{cursor:"pointer"},readOnly:!0})})]}),a.jsxs("div",{className:"muted",style:{display:"flex",gap:16,fontSize:14},children:[a.jsxs("span",{style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:[a.jsx($t,{size:16})," Photo/Video"]}),a.jsxs("span",{style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:[a.jsx(kt,{size:16})," Poll"]}),a.jsxs("span",{style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:[a.jsx(gt,{size:16})," Tag Community"]})]})]}),ae?a.jsxs(Z,{style:{padding:40,textAlign:"center"},children:[a.jsx("div",{style:{animation:"spin 1s linear infinite",fontSize:"32px",marginBottom:"16px"},children:""}),a.jsx("p",{style:{margin:0,color:"var(--muted)"},children:"Loading posts..."})]}):G.length===0?a.jsxs(Z,{style:{padding:40,textAlign:"center"},children:[a.jsxs("div",{style:{marginBottom:24},children:[a.jsx(ot,{size:64,style:{color:"var(--muted)",marginBottom:"16"}}),a.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"24px"},children:"No posts yet"}),a.jsxs("p",{style:{margin:0,color:"var(--muted)",fontSize:"16px",lineHeight:1.5},children:["Be the first to share something amazing in the animal world!",a.jsx("br",{}),"Share your rescue stories, pet photos, or ask questions about animal care."]})]}),j?a.jsxs(F,{size:"lg",style:{fontSize:"16px",padding:"12px 24px"},onClick:_t,children:[a.jsx(si,{size:20})," Create Your First Post"]}):a.jsxs("div",{style:{display:"flex",gap:12,justifyContent:"center"},children:[a.jsxs(F,{size:"lg",variant:"outline",style:{fontSize:"16px",padding:"12px 24px"},onClick:o,children:[a.jsx(gt,{size:20})," Sign Up to Post"]}),a.jsxs(F,{size:"lg",style:{fontSize:"16px",padding:"12px 24px"},onClick:o,children:[a.jsx(ot,{size:20})," Log In to Post"]})]})]}):a.jsx("div",{style:{display:"grid",gap:16},children:G.map(_=>a.jsxs(Z,{style:{padding:16},children:[a.jsxs("div",{style:{display:"flex",gap:12,marginBottom:12},children:[Qe(_),a.jsxs("div",{style:{flex:1},children:[a.jsx("div",{style:{fontWeight:600,fontSize:"14px"},children:a.jsx(Gt,{to:`/profile/${_.user_id}`,style:{color:"inherit",textDecoration:"none",cursor:"pointer"},onMouseEnter:D=>D.target.style.color="var(--accent)",onMouseLeave:D=>D.target.style.color="inherit",children:_.user?.user_metadata?.full_name||_.user?.email||"Anonymous User"})}),a.jsxs("div",{className:"muted",style:{fontSize:"12px"},children:[new Date(_.created_at).toLocaleDateString()," at ",new Date(_.created_at).toLocaleTimeString()]})]})]}),_.title&&a.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"18px",fontWeight:"600"},children:_.title}),a.jsx("div",{style:{marginBottom:12,fontSize:"16px",lineHeight:1.5},children:_.content}),_.topic&&a.jsx("div",{style:{marginBottom:12},children:a.jsx(xn,{active:!0,style:{fontSize:"12px"},children:_.topic})}),_.community&&a.jsx("div",{style:{marginBottom:12},children:a.jsxs("span",{className:"muted",style:{fontSize:"12px"},children:["Posted in: ",a.jsx("strong",{children:_.community.name})]})}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16,marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[a.jsx("button",{onClick:D=>{D.stopPropagation(),qt(_.id,1)},style:{background:"none",border:"none",cursor:"pointer",color:he.get(_.id)===1?"var(--accent)":"var(--muted)",padding:"8px",borderRadius:"6px",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",height:"36px"},children:a.jsx(or,{size:16})}),a.jsx("span",{style:{fontWeight:"600",color:he.get(_.id)===1||he.get(_.id)===-1?"var(--accent)":"var(--text)"},children:(_.upvotes||0)-(_.downvotes||0)}),a.jsx("button",{onClick:D=>{D.stopPropagation(),qt(_.id,-1)},style:{background:"none",border:"none",cursor:"pointer",color:he.get(_.id)===-1?"var(--accent)":"var(--muted)",padding:"8px",borderRadius:"6px",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",height:"36px"},children:a.jsx(ri,{size:16})})]}),a.jsxs("button",{onClick:D=>{D.stopPropagation(),sn(_.id)},style:{background:"none",border:"none",cursor:"pointer",color:"var(--muted)",fontSize:"14px",padding:"8px 12px",borderRadius:"6px",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s ease",height:"36px"},children:[a.jsx(kt,{size:16})," ",J.has(_.id)?"Hide Comments":"Comment"]}),a.jsx("div",{style:{marginLeft:"auto"},children:a.jsxs(F,{variant:"outline",size:"sm",onClick:D=>{D.stopPropagation(),Nn(_)},style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"14px",padding:"8px 12px",height:"36px"},children:["View Post",a.jsx(ur,{size:14})]})})]}),J.has(_.id)&&a.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[a.jsxs("div",{style:{marginBottom:16},children:[a.jsx(Kt,{placeholder:"Write a comment...",value:et,onChange:D=>je(D.target.value),rows:2,style:{marginBottom:8}}),a.jsx("div",{style:{display:"flex",gap:8,justifyContent:"flex-end"},children:a.jsx(F,{size:"sm",onClick:()=>mt(_.id),disabled:!et.trim(),children:"Post Comment"})})]}),Ue[_.id]?a.jsxs("div",{style:{textAlign:"center",padding:"20px",color:"var(--muted)"},children:[a.jsx("div",{style:{animation:"spin 1s linear infinite",fontSize:"16px"},children:""}),"Loading comments..."]}):!be[_.id]||be[_.id].length===0?a.jsx("div",{style:{textAlign:"center",padding:"20px",color:"var(--muted)"},children:a.jsx("p",{style:{margin:0,fontSize:"14px"},children:"No comments yet. Be the first to comment!"})}):a.jsx("div",{style:{display:"grid",gap:12},children:be[_.id].map(D=>a.jsxs("div",{style:{padding:"12px",border:"1px solid var(--border)",borderRadius:"6px",background:"var(--bg)"},children:[a.jsxs("div",{style:{display:"flex",gap:8,marginBottom:8},children:[a.jsx("div",{style:{height:24,width:24,borderRadius:999,background:"var(--accent)",display:"grid",placeItems:"center",color:"white",fontSize:"12px",fontWeight:"600"},children:D.user?.user_metadata?.full_name?.[0]||D.user?.email?.[0]?.toUpperCase()||"U"}),a.jsxs("div",{style:{flex:1},children:[a.jsx("div",{style:{fontWeight:600,fontSize:"12px"},children:D.user?.user_metadata?.full_name||D.user?.email||"Anonymous User"}),a.jsxs("div",{className:"muted",style:{fontSize:"10px"},children:[new Date(D.created_at).toLocaleDateString()," at ",new Date(D.created_at).toLocaleTimeString()]})]})]}),a.jsx("div",{style:{fontSize:"14px",lineHeight:1.4,marginBottom:8},children:D.content}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[a.jsx("button",{onClick:()=>Ft(D.id,1,_.id),style:{background:"none",border:"none",cursor:"pointer",color:"var(--muted)",fontSize:"12px",padding:"2px",borderRadius:"2px",transition:"all 0.2s ease"},children:""}),a.jsx("span",{style:{fontSize:"12px",fontWeight:"600"},children:(D.upvotes||0)-(D.downvotes||0)}),a.jsx("button",{onClick:()=>Ft(D.id,-1,_.id),style:{background:"none",border:"none",cursor:"pointer",color:"var(--muted)",fontSize:"12px",padding:"2px",borderRadius:"2px",transition:"all 0.2s ease"},children:""})]})]},D.id))})]})]},_.id))})]}),y&&a.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999,padding:16},onClick:_=>{_.target===_.currentTarget&&(p(!1),tt())},children:a.jsx(Z,{style:{maxWidth:600,width:"100%",maxHeight:"90vh",overflow:"auto",background:"var(--panel)",color:"var(--text)"},children:a.jsxs("div",{style:{padding:24},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[a.jsx("h2",{style:{margin:0},children:"Create a Post"}),a.jsx(F,{variant:"ghost",onClick:()=>{p(!1),tt()},children:a.jsx(kn,{size:20})})]}),a.jsxs("div",{style:{marginBottom:16,padding:"12px 16px",background:"var(--accent)",color:"white",borderRadius:"8px",fontSize:"14px"},children:[a.jsx("strong",{children:" Tip:"})," Your post will appear in the Community Feed where other animal lovers can see and interact with it!"]}),a.jsxs("div",{style:{display:"grid",gap:24},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:500},children:"Post Title *"}),a.jsx(Ee,{value:N.title,onChange:_=>V({...N,title:_.target.value}),placeholder:"Give your post a catchy title...",style:{fontSize:"16px"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:500},children:"What's happening in the animal world?"}),a.jsx(Kt,{value:N.content,onChange:_=>V({...N,content:_.target.value}),placeholder:"Share your thoughts, experiences, or questions about animals...",rows:4})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:500},children:"Tag Community (Optional)"}),d.size>0?a.jsxs("select",{value:N.community,onChange:_=>V({...N,community:_.target.value}),style:{width:"100%",padding:"12px",border:"1px solid var(--border)",borderRadius:"8px",background:"var(--panel)",color:"var(--text)"},children:[a.jsx("option",{value:"",children:"No community tag"}),Array.from(d).map(_=>{const D=q.find(se=>se.id===_);return D?a.jsxs("option",{value:D.name,children:[D.name," - ",D.description]},D.id):null})]}):a.jsxs("div",{style:{padding:"12px",border:"1px solid var(--border)",borderRadius:"8px",background:"var(--panel)",color:"var(--muted)",textAlign:"center",fontSize:"14px"},children:[a.jsx(gt,{size:16,style:{marginRight:"8px",verticalAlign:"middle"}}),"Join communities to tag them in your posts"]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:500},children:"Topic"}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:Kg.map(_=>a.jsx(xn,{active:N.topic===_,onClick:()=>V({...N,topic:N.topic===_?"":_}),style:{cursor:"pointer"},children:_},_))})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:500},children:"Add Photos"}),a.jsxs("div",{style:{display:"flex",gap:8,marginBottom:12},children:[a.jsxs(F,{variant:"outline",onClick:()=>document.getElementById("community-post-image-upload").click(),children:[a.jsx($t,{size:16})," Add Photos"]}),a.jsx("input",{id:"community-post-image-upload",type:"file",accept:"image/*",multiple:!0,style:{display:"none"},onChange:ye})]}),N.images.length>0&&a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:8},children:N.images.map((_,D)=>a.jsxs("div",{style:{position:"relative"},children:[a.jsx("img",{src:_.preview,alt:_.name,style:{width:"100%",height:120,objectFit:"cover",borderRadius:"8px"}}),a.jsx(F,{variant:"ghost",size:"sm",onClick:()=>xe(D),style:{position:"absolute",top:4,right:4,background:"rgba(0,0,0,0.7)",color:"white",padding:"2px 6px",minWidth:"auto"},children:a.jsx(kn,{size:14})})]},D))})]}),(N.title||N.content)&&a.jsxs("div",{style:{padding:16,border:"1px solid var(--border)",borderRadius:"8px",background:"var(--panel)"},children:[a.jsx("h4",{style:{margin:"0 0 12px 0"},children:"Post Preview"}),N.title&&a.jsxs("div",{style:{marginBottom:8},children:[a.jsx("strong",{children:"Title:"})," ",N.title]}),N.content&&a.jsxs("div",{style:{marginBottom:8},children:[a.jsx("strong",{children:"Content:"})," ",N.content]}),N.community&&a.jsxs("div",{style:{marginBottom:8},children:[a.jsx("strong",{children:"Community:"})," ",N.community]}),N.topic&&a.jsxs("div",{style:{marginBottom:8},children:[a.jsx("strong",{children:"Topic:"})," ",N.topic]}),N.images.length>0&&a.jsxs("div",{children:[a.jsx("strong",{children:"Images:"})," ",N.images.length," photo(s)"]})]})]}),a.jsxs("div",{style:{display:"flex",gap:12,marginTop:32,justifyContent:"flex-end"},children:[a.jsx(F,{variant:"outline",onClick:()=>{p(!1),tt()},children:"Cancel"}),a.jsx(F,{onClick:Ie,disabled:!N.title.trim()||!N.content.trim(),children:"Create Post"})]})]})})}),m&&l&&a.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999,padding:16},children:a.jsx(Z,{style:{maxWidth:600,width:"100%",maxHeight:"90vh",overflow:"auto",background:"var(--panel)",color:"var(--text)"},children:a.jsxs("div",{style:{padding:24},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[a.jsxs("h2",{style:{margin:0},children:["Create a Post in ",l.name]}),a.jsx(F,{variant:"ghost",onClick:()=>{x(!1),tt()},children:a.jsx(kn,{size:20})})]}),a.jsxs("div",{style:{marginBottom:16,padding:"12px 16px",background:"var(--accent)",color:"white",borderRadius:"8px",fontSize:"14px"},children:[a.jsx("strong",{children:" Community Tagged:"})," This post will automatically appear in ",l.name," and the main Community Feed!"]}),a.jsxs("div",{style:{display:"grid",gap:24},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:500},children:"Post Title *"}),a.jsx(Ee,{value:N.title,onChange:_=>V({...N,title:_.target.value}),placeholder:"Give your post a catchy title...",style:{fontSize:"16px"}})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{display:"block",marginBottom:8,fontWeight:"500"},children:["What's happening in ",l.name,"?"]}),a.jsx(Kt,{value:N.content,onChange:_=>V({...N,content:_.target.value}),placeholder:`Share your thoughts, experiences, or questions about ${l.name.toLowerCase()}...`,rows:4})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:500},children:"Topic"}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:Kg.map(_=>a.jsx(xn,{active:N.topic===_,onClick:()=>V({...N,topic:N.topic===_?"":_}),style:{cursor:"pointer"},children:_},_))})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:500},children:"Add Photos"}),a.jsxs("div",{style:{display:"flex",gap:8,marginBottom:12},children:[a.jsxs(F,{variant:"outline",onClick:()=>document.getElementById("community-specific-post-image-upload").click(),children:[a.jsx($t,{size:16})," Add Photos"]}),a.jsx("input",{id:"community-specific-post-image-upload",type:"file",accept:"image/*",multiple:!0,style:{display:"none"},onChange:ye})]}),N.images.length>0&&a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:8},children:N.images.map((_,D)=>a.jsxs("div",{style:{position:"relative"},children:[a.jsx("img",{src:_.preview,alt:_.name,style:{width:"100%",height:120,objectFit:"cover",borderRadius:"8px"}}),a.jsx(F,{variant:"ghost",size:"sm",onClick:()=>xe(D),style:{position:"absolute",top:4,right:4,background:"rgba(0,0,0,0.7)",color:"white",padding:"2px 6px",minWidth:"auto"},children:a.jsx(kn,{size:14})})]},D))})]}),(N.title||N.content)&&a.jsxs("div",{style:{padding:16,border:"1px solid var(--border)",borderRadius:"8px",background:"var(--panel)"},children:[a.jsx("h4",{style:{margin:"0 0 12px 0"},children:"Post Preview"}),N.title&&a.jsxs("div",{style:{marginBottom:8},children:[a.jsx("strong",{children:"Title:"})," ",N.title]}),N.content&&a.jsxs("div",{style:{marginBottom:8},children:[a.jsx("strong",{children:"Content:"})," ",N.content]}),a.jsxs("div",{style:{marginBottom:8},children:[a.jsx("strong",{children:"Community:"})," ",l.name," (automatically tagged)"]}),N.topic&&a.jsxs("div",{style:{marginBottom:8},children:[a.jsx("strong",{children:"Topic:"})," ",N.topic]}),N.images.length>0&&a.jsxs("div",{children:[a.jsx("strong",{children:"Images:"})," ",N.images.length," photo(s)"]})]})]}),a.jsxs("div",{style:{display:"flex",gap:12,marginTop:32,justifyContent:"flex-end"},children:[a.jsx(F,{variant:"outline",onClick:()=>{x(!1),tt()},children:"Cancel"}),a.jsxs(F,{onClick:Ie,disabled:!N.title.trim()||!N.content.trim(),children:["Create Post in ",l.name]})]})]})})}),w&&a.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999,padding:16},children:a.jsx(Z,{style:{maxWidth:600,width:"100%",maxHeight:"90vh",overflow:"auto",background:"var(--panel)",color:"var(--text)"},children:a.jsxs("div",{style:{padding:24},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[a.jsx("h2",{style:{margin:0},children:"Create a New Community"}),a.jsx(F,{variant:"ghost",onClick:()=>{k(!1),b({name:"",description:"",icon:"PawPrint"})},children:a.jsx(kn,{size:20})})]}),a.jsxs("div",{style:{display:"grid",gap:24},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:500},children:"Community Name *"}),a.jsx(Ee,{value:S.name,onChange:_=>b({...S,name:_.target.value}),placeholder:"e.g., Hamster Lovers, Bird Photography, Reptile Care",style:{fontSize:"16px"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:500},children:"Description *"}),a.jsx(Kt,{value:S.description,onChange:_=>b({...S,description:_.target.value}),placeholder:"Describe what this community is about, what topics will be discussed, and who it's for...",rows:4,style:{fontSize:"16px"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:500},children:"Choose an Icon"}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(60px, 1fr))",gap:12,maxHeight:"200px",overflowY:"auto",padding:"16px",border:"1px solid var(--border)",borderRadius:"8px",background:"var(--panel)"},children:[{name:"PawPrint",icon:ot,label:"Paw Print"},{name:"Dog",icon:vs,label:"Dog"},{name:"Cat",icon:xs,label:"Cat"},{name:"Bird",icon:gs,label:"Bird"},{name:"Fish",icon:js,label:"Fish"},{name:"Turtle",icon:zs,label:"Turtle"},{name:"Rabbit",icon:Ss,label:"Rabbit"},{name:"Rat",icon:Cs,label:"Rat"},{name:"Snail",icon:Ts,label:"Snail"},{name:"Bug",icon:ys,label:"Bug"},{name:"Bone",icon:ms,label:"Bone"},{name:"Egg",icon:bs,label:"Egg"},{name:"Panda",icon:ws,label:"Panda"},{name:"Squirrel",icon:Es,label:"Squirrel"},{name:"Worm",icon:As,label:"Worm"},{name:"Shell",icon:ks,label:"Shell"},{name:"Camera",icon:$t,label:"Camera"},{name:"Heart",icon:vn,label:"Heart"},{name:"Users",icon:gt,label:"Users"},{name:"MessageCircle",icon:kt,label:"Message"}].map(_=>a.jsxs("div",{onClick:()=>b({...S,icon:_.name}),style:{display:"flex",flexDirection:"column",alignItems:"center",gap:8,padding:"12px 8px",borderRadius:"8px",cursor:"pointer",border:S.icon===_.name?"2px solid var(--accent)":"1px solid var(--border)",background:S.icon===_.name?"var(--accent)":"transparent",color:S.icon===_.name?"white":"inherit",transition:"all 0.2s ease"},children:[a.jsx(_.icon,{size:24}),a.jsx("span",{style:{fontSize:"11px",textAlign:"center"},children:_.label})]},_.name))})]}),S.name&&a.jsxs("div",{style:{padding:16,border:"1px solid var(--border)",borderRadius:"8px",background:"var(--panel)"},children:[a.jsx("h4",{style:{margin:"0 0 12px 0"},children:"Community Preview"}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[a.jsx("div",{style:{height:48,width:48,borderRadius:12,background:"color-mix(in lab, var(--accent) 20%, transparent)",display:"grid",placeItems:"center"},children:(()=>{const _=S.icon==="PawPrint"?ot:S.icon==="Camera"?$t:S.icon==="HeartHandshake"?_s:S.icon==="Heart"?vn:S.icon==="MessageCircle"?kt:S.icon==="Users"?gt:S.icon==="Dog"?vs:S.icon==="Cat"?xs:S.icon==="Bird"?gs:S.icon==="Fish"?js:S.icon==="Turtle"?zs:S.icon==="Rabbit"?Ss:S.icon==="Rat"?Cs:S.icon==="Snail"?Ts:S.icon==="Bug"?ys:S.icon==="Bone"?ms:S.icon==="Egg"?bs:S.icon==="Panda"?ws:S.icon==="Squirrel"?Es:S.icon==="Worm"?As:S.icon==="Shell"?ks:ot;return a.jsx(_,{size:24,color:"var(--accent)"})})()}),a.jsxs("div",{children:[a.jsx("h5",{style:{margin:"0 0 4px 0"},children:S.name}),a.jsx("p",{style:{margin:0,color:"var(--muted)",fontSize:"14px"},children:S.description})]})]})]})]}),a.jsxs("div",{style:{display:"flex",gap:12,marginTop:32,justifyContent:"flex-end"},children:[a.jsx(F,{variant:"outline",onClick:()=>{k(!1),b({name:"",description:"",icon:"PawPrint"})},children:"Cancel"}),a.jsx(F,{onClick:la,disabled:!S.name.trim()||!S.description.trim(),children:"Create Community"})]})]})})})]})]})})}const Zg=o=>o.currentTarget.src="https://picsum.photos/seed/zoomies/1200/600";function w2(){const{user:o}=Ba(),r=mo(),[s,l]=C.useState(""),[u,d]=C.useState("All"),[f,y]=C.useState("Featured"),[p,m]=C.useState([]),[x,w]=C.useState(!0);C.useEffect(()=>{(async()=>{try{w(!0);const{data:b,error:q}=await ee.from("animal_profiles").select(`
            id,
            name,
            species,
            breed,
            age,
            bio,
            goal,
            raised,
            status,
            image_url,
            created_at,
            updated_at
          `).eq("status","active").order("created_at",{ascending:!1});if(q){console.error("Error loading animals:",q);return}const L=b.map(B=>({id:B.id,name:B.name,handle:`@${B.name.toLowerCase().replace(/\s+/g,"_")}`,type:"Animal",species:B.species,location:"Animal Sanctuary",followers:0,avatar:B.image_url||`https://picsum.photos/seed/${B.name}/120`,banner:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?q=80&w=1400&auto=format&fit=crop",verified:!1,goal:B.goal,raised:B.raised,status:B.status}));m(L)}catch(b){console.error("Error loading animals:",b)}finally{w(!1)}})()},[]);const k=C.useMemo(()=>{let S=p.filter(b=>[b.name,b.handle,b.species].join(" ").toLowerCase().includes(s.toLowerCase()));return u!=="All"&&(S=S.filter(b=>b.species===u)),f==="Featured"&&(S=S.slice().sort(b=>b.verified?-1:1)),f==="Top"&&(S=S.slice().sort((b,q)=>q.followers-b.followers)),f==="New"&&(S=S.slice().sort((b,q)=>b.id<q.id?1:-1)),S},[p,s,u,f]);return a.jsx("div",{className:"container",style:{paddingTop:"0",marginTop:"16px"},children:a.jsxs("div",{style:{display:"grid",gap:16},children:[a.jsxs(Z,{className:"card",style:{padding:"16px 16px 25px 16px",marginBottom:"24px"},children:[x&&a.jsx("div",{style:{textAlign:"center",padding:"40px",color:"var(--muted)"},children:"Loading animals..."}),!x&&p.length===0&&a.jsx("div",{style:{textAlign:"center",padding:"40px",color:"var(--muted)"},children:"No animals found. Be the first to create an animal profile!"}),!x&&p.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{display:"flex",gap:8,marginBottom:16},children:["Featured","All Animals"].map(S=>a.jsxs(xn,{active:S===f,onClick:()=>y(S),children:[S==="Featured"?a.jsx(ho,{size:16}):a.jsx(ot,{size:16}),a.jsx("span",{style:{marginLeft:6,position:"relative",top:"-2px"},children:S})]},S))}),a.jsxs("div",{className:"row",style:{alignItems:"end"},children:[a.jsx("div",{style:{gridColumn:"span 4"},children:a.jsx(Ee,{placeholder:"Search animals...",value:s,onChange:S=>l(S.target.value)})}),a.jsx("div",{style:{gridColumn:"span 3"},children:a.jsx("select",{value:u,onChange:S=>d(S.target.value),style:{width:"100%",border:"1px solid var(--border, #ccc)",borderRadius:"12px",padding:"8px 12px",background:"rgba(0,0,0,.04)",color:"var(--text, #000)",fontSize:"14px",cursor:"pointer",appearance:"none",backgroundImage:"url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23666%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.4-12.8z%22/%3E%3C/svg%3E')",backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px auto",paddingRight:"32px"},children:["All","Dog","Cat","Bird","Horse","Other"].map(S=>a.jsx("option",{value:S,children:S==="All"?"All Species":S},S))})}),a.jsx("div",{style:{gridColumn:"span 3"},children:a.jsx("select",{value:"All Sanctuaries",style:{width:"100%",border:"1px solid var(--border, #ccc)",borderRadius:"12px",padding:"8px 12px",background:"rgba(0,0,0,.04)",color:"var(--text, #000)",fontSize:"14px",cursor:"pointer",appearance:"none",backgroundImage:"url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23666%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.4-12.8z%22/%3E%3C/svg%3E')",backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px auto",paddingRight:"32px"},children:a.jsx("option",{children:"All Sanctuaries"})})}),a.jsx("div",{style:{gridColumn:"span 2",display:"flex",justifyContent:"flex-end"},children:a.jsx("button",{className:"btn btn-ghost",style:{fontSize:"14px"},children:"Clear Filters"})})]})]})]}),!x&&p.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"muted",style:{fontSize:14,marginBottom:5},children:["Showing ",k.length," of ",p.length," profiles"]}),a.jsx("div",{className:"row",children:k.map(S=>a.jsxs(Z,{className:"card",style:{gridColumn:"span 4",overflow:"hidden",cursor:"pointer"},onClick:()=>{console.log("Clicking animal:",S.id,S.name),r(`/animal/${S.id}`)},children:[a.jsx("div",{style:{position:"relative"},children:a.jsx("img",{src:S.banner,onError:Zg,alt:"",style:{width:"100%",height:130,objectFit:"cover"}})}),a.jsxs("div",{style:{padding:16},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginTop:-20},children:[a.jsx("img",{src:S.avatar,onError:Zg,alt:"",style:{height:56,width:56,borderRadius:999,border:"3px solid var(--bg, #000)",objectFit:"cover"}}),a.jsxs("div",{style:{flex:1},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,fontWeight:700},children:[S.name,S.verified&&a.jsx(ot,{size:14,color:"var(--accent)"}),S.type==="Sanctuary"&&a.jsx(Ls,{size:14})]}),a.jsxs("div",{className:"muted",style:{fontSize:12},children:[S.handle,"  ",S.species]})]})]}),a.jsxs("div",{className:"muted",style:{display:"flex",gap:12,alignItems:"center",marginTop:6,fontSize:13},children:[a.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:4},children:[a.jsx(vo,{size:14})," ",S.location]}),a.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:4},children:[a.jsx(gt,{size:14})," ",S.followers.toLocaleString()," followers"]})]}),a.jsxs("div",{style:{marginTop:12,marginBottom:12},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:6},children:[a.jsx("span",{style:{fontSize:"12px",fontWeight:500},children:"Fundraiser"}),a.jsxs("span",{style:{fontSize:"12px",color:"var(--accent)",fontWeight:600},children:["$",S.raised?S.raised.toLocaleString():"0"," raised"]})]}),a.jsx("div",{style:{width:"100%",height:"6px",backgroundColor:"var(--border, #e5e7eb)",borderRadius:"3px",overflow:"hidden"},children:a.jsx("div",{style:{width:`${S.goal>0?Math.min(100,Math.max(0,S.raised/S.goal*100)):0}%`,height:"100%",backgroundColor:"var(--accent, #3b82f6)",borderRadius:"3px",transition:"width 0.3s ease"}})}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:4,fontSize:"11px",color:"var(--muted, #6b7280)"},children:[a.jsxs("span",{children:["Goal: $",S.goal?S.goal.toLocaleString():"0"]}),a.jsxs("span",{children:[S.goal>0?Math.min(100,Math.max(0,Math.round(S.raised/S.goal*100))):0,"%"]})]})]}),a.jsxs("div",{style:{display:"flex",gap:8,marginTop:12},children:[a.jsx(F,{variant:"outline",onClick:b=>{b.stopPropagation(),r(`/animal/${S.id}`)},children:"View Profile"}),a.jsx(F,{children:"Follow"})]})]})]},S.id))})]})]})})}function Jg(){const{id:o}=cm(),{user:r}=Ba(),[s,l]=C.useState("Timeline"),[u,d]=C.useState(new Set),[f,y]=C.useState({}),[p,m]=C.useState(new Set),[x,w]=C.useState(""),[k,S]=C.useState(null),[b,q]=C.useState(null),[L,B]=C.useState(!0),[oe,G]=C.useState(null),[te,ae]=C.useState([]),[de,he]=C.useState(!1),[qe,be]=C.useState(!1),[ie,Ue]=C.useState(null),[$e,et]=C.useState(!1),[je,ke]=C.useState({primaryColor:"#FF6FAE",secondaryColor:"#e91e63",accentColor:"#9c27b0",backgroundColor:"#ffffff",textColor:"#000000",borderColor:"#e0e0e0",borderRadius:"16px",fontFamily:"system-ui",showProgressBar:!0,showSocialButtons:!0,showRecentDonations:!0,showTopSupporters:!0,showFeaturedImage:!0,showMilestones:!1,showEvents:!1,showWishlist:!1,showPoll:!1}),W=async(j,R)=>{if(R)try{console.log(`=== UPLOADING ${j.toUpperCase()} FOR ANIMAL ===`),console.log("File:",R.name,"Size:",R.size,"Type:",R.type);const ne=R.name.split(".").pop(),Te=`animal-${j}-${b.id}-${Date.now()}.${ne}`;console.log("Uploading to path:",Te);const me="profile-images",{error:Qe}=await ee.storage.from(me).upload(Te,R);if(Qe)throw console.error("Upload error:",Qe),Qe;console.log("File uploaded successfully, getting public URL...");const{data:{publicUrl:ut}}=ee.storage.from(me).getPublicUrl(Te);console.log("Public URL:",ut),j==="image"?(Ue(Y=>({...Y,image_url:ut})),console.log("Updated image_url in local state")):j==="banner"&&(Ue(Y=>({...Y,banner_url:ut})),console.log("Updated banner_url in local state")),console.log("Saving animal data to database...");const{error:z}=await ee.from("animal_profiles").update({[j==="image"?"image_url":"banner_url"]:ut}).eq("id",b.id);z?(console.error("Failed to save animal data after upload:",z),alert("Upload succeeded but failed to save animal profile. Please try saving manually.")):(console.log(`${j} upload and save completed successfully`),alert(`${j==="image"?"Profile photo":"Banner"} updated successfully!`),q(Y=>({...Y,[j==="image"?"image_url":"banner_url"]:ut})))}catch(ne){console.error("Error uploading image:",ne),alert(`Failed to upload ${j}: ${ne.message}`)}},J=C.useMemo(()=>!b||!b.goal||b.goal<=0?0:Math.min(100,Math.round(b.raised/b.goal*100)),[b]),ge=C.useMemo(()=>te.flatMap(j=>j.images),[te]);console.log("AnimalProfilePage loaded with ID:",o),C.useEffect(()=>{o&&(async()=>{try{B(!0),console.log("Loading animal with ID:",o);const{data:R,error:ne}=await ee.from("animal_profiles").select(`
            id,
            name,
            species,
            breed,
            age,
            bio,
            story,
            goal,
            raised,
            status,
            image_url,
            banner_url,
            organization_id,
            created_at,
            updated_at
          `).eq("id",o).single();if(console.log("Supabase response:",{animalData:R,error:ne}),ne){console.error("Error loading animal:",ne),G("Animal not found");return}if(q(R),r)try{const{data:re}=await ee.from("user_profiles").select("user_type").eq("user_id",r.id).single();if(re?.user_type==="organization"){const{data:Te}=await ee.from("animal_profiles").select("organization_id").eq("id",o).single(),me=Te?.organization_id===r.id;he(me),console.log("Ownership check result:",me)}}catch(re){console.error("Error checking ownership:",re),he(!1)}ae([])}catch(R){console.error("Error loading animal:",R),G("Failed to load animal profile")}finally{B(!1)}})()},[o,r]),C.useEffect(()=>{(async()=>{if(!(!r||!b))try{const{data:R}=await ee.from("user_profiles").select("user_type").eq("user_id",r.id).single();if(R?.user_type==="organization"){const{data:ne}=await ee.from("animal_profiles").select("organization_id").eq("id",b.id).single(),re=ne?.organization_id===r.id;he(re),console.log("Ownership check result:",re)}}catch(R){console.error("Error checking ownership:",R),he(!1)}})()},[r,b]);const ue=j=>{d(R=>{const ne=new Set(R);return ne.has(j)?ne.delete(j):ne.add(j),ne})},A=j=>{if(!x.trim())return;const R={id:Date.now().toString(),text:x,author:"You",time:"now",replyTo:k};y(ne=>({...ne,[j]:[...ne[j]||[],R]})),w(""),S(null)},N=j=>{S(k===j?null:j)},V=j=>{m(R=>{const ne=new Set(R);return ne.has(j)?ne.delete(j):ne.add(j),ne})};return L?a.jsx("div",{className:"container",style:{textAlign:"center"},children:a.jsx("div",{style:{color:"var(--muted)"},children:"Loading animal profile..."})}):oe||!b?a.jsxs("div",{className:"container",style:{textAlign:"center"},children:[a.jsx("div",{style:{color:"var(--muted)",marginBottom:"16px"},children:oe||"Animal not found"}),a.jsx(Gt,{to:"/ambassador",children:a.jsxs(F,{variant:"outline",children:[a.jsx(Lm,{size:16,style:{marginRight:"8px"}}),"Back to Ambassador Hub"]})})]}):a.jsxs("div",{className:"container",style:{display:"grid",gap:16,paddingTop:"0",marginTop:"16px"},children:[a.jsxs(Z,{className:"card",style:{overflow:"hidden",position:"relative"},children:[a.jsxs("div",{style:{position:"relative",height:200,background:b.banner_url?`url(${b.banner_url}) center/cover`:"var(--panel)"},children:[!b.banner_url&&a.jsx("div",{style:{position:"absolute",inset:0,display:"grid",placeItems:"center",color:"var(--muted)",fontSize:"14px"},children:"No banner image set"}),a.jsx("div",{style:{position:"absolute",inset:0,background:b.banner_url?"linear-gradient(to top, rgba(0,0,0,.55), rgba(0,0,0,0))":"none"}})]}),a.jsx("div",{style:{position:"absolute",top:180,left:24,zIndex:10},children:b.image_url?a.jsx("img",{src:b.image_url,alt:"",style:{height:96,width:96,borderRadius:999,objectFit:"cover",border:"4px solid var(--bg, #fff)",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"}}):a.jsx("div",{style:{height:96,width:96,borderRadius:999,border:"4px solid var(--bg, #fff)",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",background:"var(--border)",display:"grid",placeItems:"center",fontSize:"36px",color:"var(--muted)"},children:b.name?.charAt(0)?.toUpperCase()||"?"})}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16,padding:"10px 16px 16px 140px"},children:[a.jsxs("div",{style:{flex:1},children:[a.jsx("h2",{style:{margin:0},children:b.name}),a.jsxs("div",{className:"muted",style:{fontSize:14},children:[b.species,"  ",b.breed||"Unknown Breed","  Animal Sanctuary"]}),a.jsxs("div",{className:"muted",style:{fontSize:13,marginTop:4,display:"flex",gap:12,alignItems:"center"},children:[a.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:6},children:[a.jsx(vo,{size:14})," Animal Sanctuary"]}),a.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:6},children:[a.jsx(gt,{size:14})," 0 followers"]})]})]}),a.jsx("div",{style:{display:"flex",gap:8},children:de?a.jsxs(a.Fragment,{children:[a.jsxs(F,{variant:"outline",onClick:()=>{Ue({...b}),be(!0)},children:[a.jsx(qm,{size:16,style:{marginRight:"8px"}}),"Edit Profile"]}),a.jsxs(F,{variant:"outline",onClick:()=>et(!0),children:[a.jsx(Pm,{size:16,style:{marginRight:"8px"}}),"Customize"]}),a.jsxs(F,{variant:"ghost",children:[a.jsx(Us,{size:16})," Share"]})]}):a.jsxs(a.Fragment,{children:[a.jsx(F,{variant:"outline",children:"Follow"}),a.jsxs(F,{variant:"ghost",children:[a.jsx(Us,{size:16})," Share"]})]})})]})]}),a.jsx(Z,{className:"card",style:{padding:8},children:a.jsx("div",{style:{display:"flex",gap:8},children:["Timeline","Gallery","About"].map(j=>a.jsx("button",{onClick:()=>l(j),className:`chip ${s===j?"active":""}`,style:{padding:"8px 14px"},children:j},j))})}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"320px 1fr",gap:8,alignItems:"start"},children:[a.jsx("div",{style:{position:"sticky",top:16,height:"fit-content"},children:a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16,width:"100%"},children:[a.jsxs(Z,{className:"card",style:{padding:16,width:"100%"},children:[a.jsx("h3",{style:{marginTop:0},children:"About"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,fontSize:14},children:[a.jsxs("div",{children:[a.jsx("span",{className:"muted",children:"Age:"})," ",b.age||"Unknown"]}),a.jsxs("div",{children:[a.jsx("span",{className:"muted",children:"Species:"})," ",b.species]}),a.jsxs("div",{children:[a.jsx("span",{className:"muted",children:"Breed:"})," ",b.breed||"Unknown"]}),a.jsxs("div",{children:[a.jsx("span",{className:"muted",children:"Status:"})," ",b.status]})]}),b.bio&&a.jsx("div",{style:{marginTop:12,fontSize:14,lineHeight:1.5},children:b.bio})]}),je.showProgressBar&&a.jsxs(Z,{className:"card",style:{padding:16,width:"100%"},children:[a.jsxs("h3",{style:{marginTop:0},children:["Support ",b.name]}),a.jsx("div",{className:"muted",style:{fontSize:13,marginBottom:8},children:"Every donation goes toward food, vet care, enrichment, and sanctuary costs."}),b.goal&&b.goal>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{height:8,borderRadius:8,background:"rgba(0,0,0,.12)",overflow:"hidden"},children:a.jsx("div",{style:{width:`${J}%`,height:"100%",background:"var(--accent)"}})}),a.jsxs("div",{className:"muted",style:{fontSize:12,marginTop:6},children:["$",b.raised||0," raised of $",b.goal," goal"]}),a.jsxs("div",{style:{display:"flex",gap:8,marginTop:10},children:[[10,25,50].map(j=>a.jsxs(F,{variant:"ghost",children:["$",j]},j)),a.jsx(F,{variant:"outline",children:"Custom"})]}),a.jsxs(F,{style:{marginTop:10},children:[a.jsx(vn,{size:16})," Donate"]})]}):a.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[a.jsx("div",{style:{color:"var(--muted)",fontSize:"14px",marginBottom:"16px"},children:"No fundraising goal set yet"}),a.jsxs("div",{style:{fontSize:"12px",color:"var(--muted)"},children:["Contact the sanctuary to learn how you can help ",b.name,"!"]})]})]}),je.showRecentDonations&&a.jsxs(Z,{className:"card",style:{padding:16,width:"100%"},children:[a.jsx("h3",{style:{marginTop:0},children:"Recent Donations"}),a.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[a.jsx("div",{style:{color:"var(--muted)",fontSize:"14px"},children:"No donations yet"}),a.jsxs("div",{style:{fontSize:"12px",color:"var(--muted)",marginTop:"4px"},children:["Be the first to support ",b.name,"!"]})]})]}),je.showTopSupporters&&a.jsxs(Z,{className:"card",style:{padding:16,width:"100%"},children:[a.jsx("h3",{style:{marginTop:0},children:"Top Supporters"}),a.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[a.jsx("div",{style:{color:"var(--muted)",fontSize:"14px"},children:"No supporters yet"}),a.jsxs("div",{style:{fontSize:"12px",color:"var(--muted)",marginTop:"4px"},children:["Support ",b.name," to appear here!"]})]})]}),je.showFeaturedImage&&b.image_url&&a.jsxs(Z,{className:"card",style:{padding:16,width:"100%"},children:[a.jsx("h3",{style:{marginTop:0},children:"Featured Photo"}),a.jsx("img",{src:b.image_url,alt:b.name,style:{width:"100%",height:"120px",objectFit:"cover",borderRadius:"8px",marginTop:"8px"}})]}),je.showMilestones&&a.jsxs(Z,{className:"card",style:{padding:16,width:"100%"},children:[a.jsx("h3",{style:{marginTop:0},children:"Milestones"}),a.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[a.jsx("div",{style:{color:"var(--muted)",fontSize:"14px"},children:"No milestones yet"}),a.jsxs("div",{style:{fontSize:"12px",color:"var(--muted)",marginTop:"4px"},children:["Milestones will appear here as ",b.name," progresses"]})]})]}),je.showEvents&&a.jsxs(Z,{className:"card",style:{padding:16,width:"100%"},children:[a.jsx("h3",{style:{marginTop:0},children:"Upcoming Events"}),a.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[a.jsx("div",{style:{color:"var(--muted)",fontSize:"14px"},children:"No upcoming events"}),a.jsx("div",{style:{fontSize:"12px",color:"var(--muted)",marginTop:"4px"},children:"Events will be posted here when scheduled"})]})]}),je.showWishlist&&a.jsxs(Z,{className:"card",style:{padding:16,width:"100%"},children:[a.jsx("h3",{style:{marginTop:0},children:"Wishlist"}),a.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[a.jsx("div",{style:{color:"var(--muted)",fontSize:"14px"},children:"No wishlist items yet"}),a.jsxs("div",{style:{fontSize:"12px",color:"var(--muted)",marginTop:"4px"},children:["Contact the sanctuary to learn what ",b.name," needs"]})]})]}),je.showPoll&&a.jsxs(Z,{className:"card",style:{padding:16,width:"100%"},children:[a.jsx("h3",{style:{marginTop:0},children:"Community Poll"}),a.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[a.jsx("div",{style:{color:"var(--muted)",fontSize:"14px"},children:"No active polls"}),a.jsx("div",{style:{fontSize:"12px",color:"var(--muted)",marginTop:"4px"},children:"Community polls will appear here when available"})]})]})]})}),a.jsxs("div",{style:{display:"grid",gap:16},children:[s==="Timeline"&&a.jsx(a.Fragment,{children:te.length===0?a.jsxs(Z,{className:"card",style:{padding:"40px",textAlign:"center"},children:[a.jsx("div",{style:{color:"var(--muted)",marginBottom:"16px"},children:a.jsx(kt,{size:48,style:{opacity:.5,margin:"0 auto 16px auto"}})}),a.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"18px",fontWeight:"600"},children:"No updates yet"}),a.jsxs("p",{style:{margin:"0 0 16px 0",color:"var(--muted)",fontSize:"14px"},children:["Sanctuary staff will post updates about ",b.name,"'s progress and care here."]}),a.jsx("div",{style:{fontSize:"12px",color:"var(--muted)"},children:"Check back soon for news and photos!"})]}):te.map(j=>a.jsxs(Z,{className:"card",style:{padding:16},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[a.jsx("div",{style:{height:36,width:36,borderRadius:999,background:"var(--border)",display:"grid",placeItems:"center",fontSize:"12px",color:"var(--muted)"},children:b.name?.charAt(0)?.toUpperCase()||"?"}),a.jsxs("div",{style:{flex:1},children:[a.jsx("div",{style:{fontWeight:600,fontSize:14},children:j.author}),a.jsxs("div",{className:"muted",style:{fontSize:12},children:[j.time," ago"]})]}),a.jsxs(F,{variant:"ghost",children:[a.jsx(Us,{size:16})," Share"]})]}),a.jsx("p",{style:{marginTop:10,marginBottom:10},children:j.text}),j.images?.length?a.jsx("div",{style:{display:"grid",gridTemplateColumns:j.images.length>1?"1fr 1fr":"1fr",gap:8},children:j.images.map((R,ne)=>a.jsx("img",{src:R,alt:"",style:{width:"100%",borderRadius:12}},ne))}):null,a.jsxs("div",{style:{display:"flex",gap:12,marginTop:12,fontSize:14},children:[a.jsxs("button",{onClick:()=>ue(j.id),style:{display:"inline-flex",alignItems:"center",gap:6,background:"none",border:"none",cursor:"pointer",color:u.has(j.id)?"var(--accent)":"var(--muted)",fontSize:"14px",padding:"4px 8px",borderRadius:"6px",transition:"all 0.2s ease"},children:[a.jsx(vn,{size:16,fill:u.has(j.id)?"var(--accent)":"none"}),j.likes+(u.has(j.id)?1:0)]}),a.jsxs("button",{onClick:()=>V(j.id),style:{display:"inline-flex",alignItems:"center",gap:6,background:"none",border:"none",cursor:"pointer",color:"var(--muted)",fontSize:"14px",padding:"4px 8px",borderRadius:"6px",transition:"all 0.2s ease"},children:[a.jsx(kt,{size:16}),j.comments+(f[j.id]?.length||0)]})]}),p.has(j.id)&&a.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[a.jsxs("div",{style:{display:"flex",gap:8,marginBottom:16},children:[a.jsx(Ee,{placeholder:"Add a comment...",value:x,onChange:R=>w(R.target.value),style:{flex:1},onKeyPress:R=>R.key==="Enter"&&A(j.id)}),a.jsx(F,{size:"sm",onClick:()=>A(j.id),disabled:!x.trim(),children:"Comment"})]}),a.jsx("div",{style:{display:"grid",gap:12},children:f[j.id]?.map(R=>a.jsxs("div",{style:{padding:"12px",background:"var(--panel)",borderRadius:"8px",border:"1px solid var(--border)"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:4},children:[a.jsx("div",{style:{fontWeight:600,fontSize:"14px"},children:R.author}),a.jsx("div",{className:"muted",style:{fontSize:"12px"},children:R.time})]}),a.jsx("p",{style:{margin:"0 0 8px 0",fontSize:"14px"},children:R.text}),a.jsx("button",{onClick:()=>N(R.id),style:{background:"none",border:"none",cursor:"pointer",color:"var(--accent)",fontSize:"12px",padding:0},children:"Reply"})]},R.id))})]})]},j.id))}),s==="Gallery"&&a.jsx(Z,{className:"card",style:{padding:16},children:ge.length===0?a.jsxs("div",{style:{padding:"40px",textAlign:"center"},children:[a.jsx("div",{style:{color:"var(--muted)",marginBottom:"16px"},children:a.jsx($t,{size:48,style:{opacity:.5,margin:"0 auto 16px auto"}})}),a.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"18px",fontWeight:"600"},children:"No photos yet"}),a.jsxs("p",{style:{margin:"0 0 16px 0",color:"var(--muted)",fontSize:"14px"},children:["Photos of ",b.name," will appear here once they're added."]}),a.jsx("div",{style:{fontSize:"12px",color:"var(--muted)"},children:"Check back soon for adorable pictures!"})]}):a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},children:ge.map((j,R)=>a.jsx("img",{src:j,alt:"",style:{width:"100%",height:160,objectFit:"cover",borderRadius:12}},R))})}),s==="About"&&a.jsxs(Z,{className:"card",style:{padding:16},children:[a.jsxs("h3",{style:{marginTop:0},children:["About ",b.name]}),a.jsx("p",{style:{marginTop:8,lineHeight:1.6},children:b.bio||"No bio available"}),b.story&&a.jsxs("div",{style:{marginTop:16},children:[a.jsxs("h4",{style:{marginTop:0},children:[b.name,"'s Story"]}),a.jsx("p",{style:{marginTop:8,lineHeight:1.6},children:b.story})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:16},children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Age:"})," ",b.age||"Unknown"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Species:"})," ",b.species]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Breed:"})," ",b.breed||"Unknown"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Status:"})," ",b.status]})]})]})]})]}),qe&&ie&&a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:a.jsxs(Z,{style:{width:"90%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto",padding:"24px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[a.jsxs("h2",{style:{margin:0},children:["Edit ",ie.name,"'s Profile"]}),a.jsx(F,{variant:"ghost",onClick:()=>be(!1),children:""})]}),a.jsxs("div",{style:{display:"grid",gap:"16px"},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"Name"}),a.jsx(Ee,{value:ie.name,onChange:j=>Ue(R=>({...R,name:j.target.value})),placeholder:"Animal's name"})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"Species"}),a.jsx("select",{value:ie.species,onChange:j=>Ue(R=>({...R,species:j.target.value})),style:{width:"100%",padding:"10px 12px",border:"1px solid var(--border)",borderRadius:"12px",background:"var(--panel)",color:"var(--text)",fontSize:"14px"},children:["Cat","Dog","Reptile","Horse","Pig","Bird","Rabbit","Guinea Pig","Hamster","Fish","Turtle","Snake","Lizard","Ferret","Chinchilla","Rat","Mouse","Gerbil","Parrot","Canary","Finch","Duck","Goose","Chicken","Turkey","Goat","Sheep","Cow","Donkey","Mule","Other"].map(j=>a.jsx("option",{value:j,children:j},j))})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"Breed"}),a.jsx(Ee,{value:ie.breed||"",onChange:j=>Ue(R=>({...R,breed:j.target.value})),placeholder:"Breed (optional)"})]})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"Age"}),a.jsx(Ee,{value:ie.age||"",onChange:j=>Ue(R=>({...R,age:j.target.value})),placeholder:"Age (e.g., 2 years, 6 months)"})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"Status"}),a.jsx("select",{value:ie.status,onChange:j=>Ue(R=>({...R,status:j.target.value})),style:{width:"100%",padding:"10px 12px",border:"1px solid var(--border)",borderRadius:"12px",background:"var(--panel)",color:"var(--text)",fontSize:"14px"},children:["active","completed","paused","draft"].map(j=>a.jsx("option",{value:j,children:j.charAt(0).toUpperCase()+j.slice(1)},j))})]})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"Fundraising Goal"}),a.jsx(Ee,{type:"number",value:ie.goal||"",onChange:j=>Ue(R=>({...R,goal:parseFloat(j.target.value)||0})),placeholder:"0.00",step:"0.01"})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"Amount Raised"}),a.jsx(Ee,{type:"number",value:ie.raised||"",onChange:j=>Ue(R=>({...R,raised:parseFloat(j.target.value)||0})),placeholder:"0.00",step:"0.01"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"Bio"}),a.jsx(Kt,{value:ie.bio||"",onChange:j=>Ue(R=>({...R,bio:j.target.value})),placeholder:"Tell us about this animal...",rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"Story"}),a.jsx(Kt,{value:ie.story||"",onChange:j=>Ue(R=>({...R,story:j.target.value})),placeholder:"Share this animal's story...",rows:4})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"Profile Photo"}),a.jsxs("div",{style:{position:"relative",marginBottom:"12px"},children:[ie.image_url?a.jsx("img",{src:ie.image_url,alt:"Profile",style:{width:"100px",height:"100px",objectFit:"cover",borderRadius:"50%",border:"2px solid var(--border)"}}):a.jsx("div",{style:{width:"100px",height:"100px",borderRadius:"50%",background:"var(--border)",display:"grid",placeItems:"center",fontSize:"24px",color:"var(--muted)",border:"2px solid var(--border)"},children:ie.name?.charAt(0)?.toUpperCase()||"?"}),a.jsx(F,{variant:"outline",size:"sm",style:{position:"absolute",bottom:"0",right:"0"},onClick:()=>document.getElementById("animal-profile-upload").click(),children:a.jsx(po,{size:16})}),a.jsx("input",{id:"animal-profile-upload",type:"file",accept:"image/*",style:{display:"none"},onChange:j=>W("image",j.target.files[0])})]}),a.jsxs("div",{style:{fontSize:"12px",color:"var(--muted)"},children:["Upload a profile photo for ",ie.name]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"Banner Image"}),a.jsxs("div",{style:{position:"relative",marginBottom:"12px"},children:[ie.banner_url?a.jsx("img",{src:ie.banner_url,alt:"Banner",style:{width:"100%",height:"120px",objectFit:"cover",borderRadius:"8px",border:"2px solid var(--border)"}}):a.jsx("div",{style:{width:"100%",height:"120px",borderRadius:"8px",background:"var(--border)",display:"grid",placeItems:"center",fontSize:"16px",color:"var(--muted)",border:"2px solid var(--border)"},children:"No banner image set"}),a.jsxs(F,{variant:"outline",style:{position:"absolute",top:"8px",right:"8px"},onClick:()=>document.getElementById("animal-banner-upload").click(),children:[a.jsx(po,{size:16})," Change Banner"]}),a.jsx("input",{id:"animal-banner-upload",type:"file",accept:"image/*",style:{display:"none"},onChange:j=>W("banner",j.target.files[0])})]}),a.jsxs("div",{style:{fontSize:"12px",color:"var(--muted)"},children:["Upload a banner image for ",ie.name,"'s profile"]})]})]}),a.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",marginTop:"24px"},children:[a.jsx(F,{variant:"outline",onClick:()=>be(!1),children:"Cancel"}),a.jsx(F,{onClick:async()=>{try{const{error:j}=await ee.from("animal_profiles").update({name:ie.name,species:ie.species,breed:ie.breed,age:ie.age,bio:ie.bio,story:ie.story,goal:ie.goal,raised:ie.raised,status:ie.status,image_url:ie.image_url,banner_url:ie.banner_url,updated_at:new Date().toISOString()}).eq("id",ie.id);if(j){console.error("Error updating animal:",j),alert("Failed to update animal profile. Please try again.");return}q(ie),be(!1),alert("Animal profile updated successfully!")}catch(j){console.error("Error updating animal:",j),alert("Failed to update animal profile. Please try again.")}},children:"Save Changes"})]})]})}),$e&&a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:a.jsxs(Z,{style:{width:"90%",maxWidth:"800px",maxHeight:"90vh",overflow:"auto",padding:"24px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[a.jsxs("h2",{style:{margin:0},children:["Customize ",b?.name,"'s Profile"]}),a.jsx(F,{variant:"ghost",onClick:()=>et(!1),children:""})]}),a.jsxs("div",{style:{display:"grid",gap:"24px"},children:[a.jsxs("div",{children:[a.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:"18px",fontWeight:"600"},children:"Color Scheme"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"Primary Color"}),a.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[a.jsx("input",{type:"color",value:je.primaryColor,onChange:j=>ke(R=>({...R,primaryColor:j.target.value})),style:{width:"40px",height:"40px",border:"none",borderRadius:"8px",cursor:"pointer"}}),a.jsx(Ee,{value:je.primaryColor,onChange:j=>ke(R=>({...R,primaryColor:j.target.value})),placeholder:"#FF6FAE"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"Secondary Color"}),a.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[a.jsx("input",{type:"color",value:je.secondaryColor,onChange:j=>ke(R=>({...R,secondaryColor:j.target.value})),style:{width:"40px",height:"40px",border:"none",borderRadius:"8px",cursor:"pointer"}}),a.jsx(Ee,{value:je.secondaryColor,onChange:j=>ke(R=>({...R,secondaryColor:j.target.value})),placeholder:"#e91e63"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"Accent Color"}),a.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[a.jsx("input",{type:"color",value:je.accentColor,onChange:j=>ke(R=>({...R,accentColor:j.target.value})),style:{width:"40px",height:"40px",border:"none",borderRadius:"8px",cursor:"pointer"}}),a.jsx(Ee,{value:je.accentColor,onChange:j=>ke(R=>({...R,accentColor:j.target.value})),placeholder:"#9c27b0"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:"18px",fontWeight:"600"},children:"Layout & Style"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"Border Radius"}),a.jsx("select",{value:je.borderRadius,onChange:j=>ke(R=>({...R,borderRadius:j.target.value})),style:{width:"100%",padding:"10px 12px",border:"1px solid var(--border)",borderRadius:"12px",background:"var(--panel)",color:"var(--text)",fontSize:"14px"},children:["8px","12px","16px","20px","24px","32px"].map(j=>a.jsx("option",{value:j,children:j},j))})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"Font Family"}),a.jsx("select",{value:je.fontFamily,onChange:j=>ke(R=>({...R,fontFamily:j.target.value})),style:{width:"100%",padding:"10px 12px",border:"1px solid var(--border)",borderRadius:"12px",background:"var(--panel)",color:"var(--text)",fontSize:"14px"},children:["system-ui","Arial","Helvetica","Georgia","Times New Roman","Verdana","Segoe UI"].map(j=>a.jsx("option",{value:j,children:j},j))})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:"18px",fontWeight:"600"},children:"Display Options"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:je.showProgressBar,onChange:j=>ke(R=>({...R,showProgressBar:j.target.checked}))}),"Show Fundraising Progress Bar"]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:je.showSocialButtons,onChange:j=>ke(R=>({...R,showSocialButtons:j.target.checked}))}),"Show Social Media Buttons"]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:"18px",fontWeight:"600"},children:"Sidebar Widgets"}),a.jsxs("div",{style:{display:"grid",gap:"12px"},children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:je.showProgressBar,onChange:j=>ke(R=>({...R,showProgressBar:j.target.checked}))}),"Fundraising Progress Bar"]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:je.showRecentDonations,onChange:j=>ke(R=>({...R,showRecentDonations:j.target.checked}))}),"Recent Donations"]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:je.showTopSupporters,onChange:j=>ke(R=>({...R,showTopSupporters:j.target.checked}))}),"Top Supporters"]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:je.showFeaturedImage,onChange:j=>ke(R=>({...R,showFeaturedImage:j.target.checked}))}),"Featured Image"]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:je.showMilestones,onChange:j=>ke(R=>({...R,showMilestones:j.target.checked}))}),"Milestones"]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:je.showEvents,onChange:j=>ke(R=>({...R,showEvents:j.target.checked}))}),"Upcoming Events"]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:je.showWishlist,onChange:j=>ke(R=>({...R,showWishlist:j.target.checked}))}),"Wishlist"]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:je.showPoll,onChange:j=>ke(R=>({...R,showPoll:j.target.checked}))}),"Community Poll"]})]}),a.jsx("div",{style:{fontSize:"12px",color:"var(--muted)",marginTop:"8px"},children:"Choose which widgets to display in the sidebar"})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:"18px",fontWeight:"600"},children:"Preview"}),a.jsxs("div",{style:{padding:"20px",border:"2px solid var(--border)",borderRadius:je.borderRadius,background:je.backgroundColor,color:je.textColor,fontFamily:je.fontFamily,textAlign:"center"},children:[a.jsx("div",{style:{width:"100%",height:"8px",background:je.borderColor,borderRadius:"4px",marginBottom:"16px"},children:a.jsx("div",{style:{width:"60%",height:"100%",background:je.primaryColor,borderRadius:"4px"}})}),a.jsx("div",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"8px"},children:"Sample Progress Bar"}),a.jsx("div",{style:{fontSize:"14px",color:je.textColor,opacity:.7},children:"This shows how your colors will look"})]})]})]}),a.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",marginTop:"24px"},children:[a.jsx(F,{variant:"outline",onClick:()=>et(!1),children:"Cancel"}),a.jsx(F,{onClick:async()=>{try{et(!1),alert("Customization saved! (Note: Database integration coming soon)")}catch(j){console.error("Error saving customization:",j),alert("Failed to save customization. Please try again.")}},children:"Save Customization"})]})]})})]})}function S2(){const[o,r]=C.useState(100),[s,l]=C.useState(10),{stripeFee:u,tipPct:d,calculatedTip:f,platformFee:y,nonprofitReceives:p,donorPays:m}=C.useMemo(()=>{const w=o*.029+.3,k=o*.03,S=s,b=w+k;let q,L;S>=b?q=o:q=o-(b-S),L=o+S;const B=Math.max(0,w-Math.min(S,w)),oe=Math.max(0,k-Math.max(0,S-w));return{stripeFee:B,tipPct:S/o,calculatedTip:S,platformFee:oe,nonprofitReceives:q,donorPays:L}},[o,s]),x=w=>`$${w.toFixed(2)}`;return a.jsxs("div",{className:"container",style:{paddingTop:"0",marginTop:"16px"},children:[a.jsx("div",{style:{textAlign:"center",marginBottom:32},children:a.jsx("h1",{style:{fontSize:"48px",fontWeight:800,margin:"0 0 16px 0",background:"linear-gradient(135deg, var(--text) 0%, var(--accent) 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}})}),a.jsxs(Z,{style:{padding:"32px",marginBottom:"32px",background:"linear-gradient(135deg, rgba(255, 111, 174, 0.05) 0%, rgba(255, 124, 94, 0.02) 100%)",border:"1px solid rgba(255, 111, 174, 0.2)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"24px"},children:[a.jsx("div",{style:{background:"var(--accent)",color:"white",width:"48px",height:"48px",borderRadius:"12px",display:"grid",placeItems:"center"},children:a.jsx(vn,{size:24})}),a.jsxs("div",{children:[a.jsx("h2",{style:{margin:0,fontSize:"28px",fontWeight:700},children:"Donation Fees"}),a.jsx("p",{style:{margin:"4px 0 0 0",color:"var(--muted)"},children:"Understanding Platform Costs"})]})]}),a.jsx("p",{style:{fontSize:"16px",lineHeight:1.7,marginBottom:"32px",color:"var(--muted)"},children:"Zoomies keeps the platform free for nonprofits. Donors can optionally add a small tip that helps cover platform fees."}),a.jsx("div",{style:{padding:"24px",marginBottom:"24px"},children:a.jsxs("div",{style:{display:"flex",gap:"24px",alignItems:"center",justifyContent:"flex-end",marginBottom:"0px"},children:[a.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[a.jsx("span",{style:{fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.6px",color:"var(--muted)",fontWeight:"600"},children:"Donation"}),a.jsxs("div",{style:{position:"relative"},children:[a.jsx(nd,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--muted)"}}),a.jsx(Ee,{type:"number",min:1,step:1,value:o,onChange:w=>r(Math.max(1,Number(w.target.value||1))),style:{width:"100px",paddingLeft:"32px",fontSize:"16px",fontWeight:"600"}})]})]}),a.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[a.jsx("span",{style:{fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.6px",color:"var(--muted)",fontWeight:"600"},children:"Tip"}),a.jsxs("div",{style:{position:"relative"},children:[a.jsx(nd,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--muted)"}}),a.jsx(Ee,{type:"number",min:0,step:1,value:s,onChange:w=>l(Math.max(0,Number(w.target.value||0))),style:{width:"100px",paddingLeft:"32px",fontSize:"16px",fontWeight:"600"}})]})]})]})}),a.jsxs("div",{className:"row",style:{marginBottom:"24px"},children:[a.jsxs(Z,{style:{gridColumn:"span 3",padding:"20px",textAlign:"center",background:"linear-gradient(135deg, rgba(255, 77, 166, 0.08) 0%, rgba(255, 77, 166, 0.02) 100%)"},children:[a.jsx("div",{style:{color:"var(--muted)",fontSize:"14px",marginBottom:"8px"},children:"Donation"}),a.jsx("div",{style:{fontSize:"24px",fontWeight:800,color:"var(--accent)"},children:x(o)})]}),a.jsxs(Z,{style:{gridColumn:"span 3",padding:"20px",textAlign:"center",background:"linear-gradient(135deg, rgba(255, 77, 166, 0.08) 0%, rgba(255, 77, 166, 0.02) 100%)"},children:[a.jsxs("div",{style:{color:"var(--muted)",fontSize:"14px",marginBottom:"8px"},children:["Tip (",Math.round(d*100),"%)"]}),a.jsx("div",{style:{fontSize:"24px",fontWeight:800,color:"var(--accent)"},children:x(f)})]}),a.jsxs(Z,{style:{gridColumn:"span 3",padding:"20px",textAlign:"center",background:"linear-gradient(135deg, rgba(255, 77, 166, 0.08) 0%, rgba(255, 77, 166, 0.02) 100%)"},children:[a.jsxs("div",{style:{color:"var(--muted)",fontSize:"14px",marginBottom:"8px"},children:["Processing ",u===0?"(covered by tip)":f>0?"(partially covered)":"(2.9% + $0.30)"]}),a.jsx("div",{style:{fontSize:"24px",fontWeight:800,color:"var(--accent)"},children:x(u)})]}),a.jsxs(Z,{style:{gridColumn:"span 3",padding:"20px",textAlign:"center",background:"linear-gradient(135deg, rgba(255, 77, 166, 0.08) 0%, rgba(255, 77, 166, 0.02) 100%)"},children:[a.jsxs("div",{style:{color:"var(--muted)",fontSize:"14px",marginBottom:"8px"},children:["Platform ",y===0?"(covered by tip)":f>0?"(partially covered)":"(3%)"]}),a.jsx("div",{style:{fontSize:"24px",fontWeight:800,color:"var(--accent)"},children:x(y)})]})]}),a.jsxs("div",{className:"row",children:[a.jsxs(Z,{style:{gridColumn:"span 6",padding:"24px",background:"linear-gradient(135deg, #FF6FAE 0%, #FF7C5E 100%)",color:"white",border:"none"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[a.jsx(ij,{size:20}),a.jsx("div",{style:{fontWeight:700,fontSize:"16px"},children:"Nonprofit receives"})]}),a.jsx("div",{style:{fontSize:"32px",fontWeight:900,marginBottom:"8px"},children:x(p)}),a.jsx("div",{style:{fontSize:"14px",opacity:.9},children:f>=u+y?"Full donation (fees covered by tip)":"Partial fees covered by tip"})]}),a.jsxs(Z,{style:{gridColumn:"span 6",padding:"24px",border:"2px solid var(--accent)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[a.jsx(lj,{size:20}),a.jsx("div",{style:{fontWeight:700,fontSize:"16px"},children:"Donor pays"})]}),a.jsx("div",{style:{fontSize:"32px",fontWeight:900,marginBottom:"8px"},children:x(m)}),a.jsx("div",{style:{fontSize:"14px",color:"var(--muted)"},children:"Donation + tip"})]})]}),a.jsxs("div",{style:{marginTop:"32px"},children:[a.jsx("h3",{style:{fontSize:"20px",fontWeight:700,margin:"0 0 20px 0",textAlign:"center"},children:"Platform Benefits"}),a.jsxs("div",{className:"row",style:{gap:"24px"},children:[a.jsxs("div",{style:{gridColumn:"span 4",textAlign:"center"},children:[a.jsx("div",{style:{width:"48px",height:"48px",background:"var(--accent)",borderRadius:"12px",display:"grid",placeItems:"center",margin:"0 auto 16px auto"},children:a.jsx(vn,{size:24,color:"white"})}),a.jsx("div",{style:{fontWeight:600,marginBottom:"8px"},children:"Nonprofits pay nothing"}),a.jsx("div",{style:{fontSize:"14px",color:"var(--muted)",lineHeight:1.5},children:"Zero out-of-pocket costs for using the platform"})]}),a.jsxs("div",{style:{gridColumn:"span 4",textAlign:"center"},children:[a.jsx("div",{style:{width:"48px",height:"48px",background:"var(--accent)",borderRadius:"12px",display:"grid",placeItems:"center",margin:"0 auto 16px auto"},children:a.jsx(fo,{size:24,color:"white"})}),a.jsx("div",{style:{fontWeight:600,marginBottom:"8px"},children:"Donors feel empowered"}),a.jsx("div",{style:{fontSize:"14px",color:"var(--muted)",lineHeight:1.5},children:"Transparent breakdown shows exactly where money goes"})]}),a.jsxs("div",{style:{gridColumn:"span 4",textAlign:"center"},children:[a.jsx("div",{style:{width:"48px",height:"48px",background:"var(--accent)",borderRadius:"12px",display:"grid",placeItems:"center",margin:"0 auto 16px auto"},children:a.jsx(ho,{size:24,color:"white"})}),a.jsx("div",{style:{fontWeight:600,marginBottom:"8px"},children:"Transparent fee structure"}),a.jsx("div",{style:{fontSize:"14px",color:"var(--muted)",lineHeight:1.5},children:"Clear breakdown shows exactly where fees go"})]})]})]})]}),a.jsxs(Z,{style:{padding:"32px",marginBottom:"32px",background:"linear-gradient(135deg, rgba(0, 0, 0, 0.02) 0%, rgba(0, 0, 0, 0.01) 100%)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"24px"},children:[a.jsx("div",{style:{background:"linear-gradient(135deg, #6FB9FF 0%, #5ED2A0 100%)",color:"white",width:"48px",height:"48px",borderRadius:"12px",display:"grid",placeItems:"center"},children:a.jsx(gt,{size:24,color:"white"})}),a.jsxs("div",{children:[a.jsx("h2",{style:{margin:0,fontSize:"28px",fontWeight:700},children:"Organization Tiers"}),a.jsx("p",{style:{margin:"4px 0 0 0",color:"var(--muted)"},children:"Optional Upgrades"})]})]}),a.jsx("p",{style:{fontSize:"16px",lineHeight:1.7,marginBottom:"32px",color:"var(--muted)"},children:"The core platform is free. Unlock premium fundraising tools and analytics with an optional paid plan tailored to your organization."}),a.jsxs("div",{className:"row",style:{marginTop:"24px"},children:[a.jsxs(Z,{style:{gridColumn:"span 4",padding:"24px",display:"grid",gap:"16px",height:"fit-content",border:"2px solid var(--border)",position:"relative"},children:[a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{style:{width:"64px",height:"64px",background:"linear-gradient(135deg, #5ED2A0 0%, #6FB9FF 100%)",borderRadius:"16px",display:"grid",placeItems:"center",margin:"0 auto 16px auto"},children:a.jsx(gt,{size:32,color:"white"})}),a.jsx("div",{style:{fontWeight:800,fontSize:"20px",marginBottom:"8px"},children:"Free"}),a.jsx("div",{style:{fontSize:"32px",fontWeight:800,color:"var(--accent)",marginBottom:"8px"},children:"$0/mo"}),a.jsx("div",{style:{color:"var(--muted)",fontSize:"14px"},children:"Small sanctuaries & new partners"})]}),a.jsxs("ul",{style:{margin:0,paddingLeft:"20px",lineHeight:1.6},children:[a.jsx("li",{children:"Ambassador profile pages (basic)"}),a.jsx("li",{children:"Accept donations (crypto/fiat)"}),a.jsx("li",{children:"Basic analytics dashboard"}),a.jsx("li",{children:"Access to the community forum"})]}),a.jsx(F,{style:{marginTop:"8px"},children:"Get Started"})]}),a.jsxs(Z,{style:{gridColumn:"span 4",padding:"24px",display:"grid",gap:"16px",height:"fit-content",border:"2px solid var(--accent)",position:"relative",transform:"scale(1.02)"},children:[a.jsx("div",{style:{position:"absolute",top:"-12px",left:"50%",transform:"translateX(-50%)",background:"var(--accent)",color:"white",padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.6px"},children:"Most Popular"}),a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{style:{width:"64px",height:"64px",background:"linear-gradient(135deg, #FF6FAE 0%, #FF7C5E 100%)",borderRadius:"16px",display:"grid",placeItems:"center",margin:"0 auto 16px auto"},children:a.jsx(Ls,{size:32,color:"white"})}),a.jsx("div",{style:{fontWeight:800,fontSize:"20px",marginBottom:"8px"},children:"Pro"}),a.jsx("div",{style:{fontSize:"32px",fontWeight:800,color:"var(--accent)",marginBottom:"8px"},children:"$49/mo"}),a.jsx("div",{style:{color:"var(--muted)",fontSize:"14px"},children:"Growing organizations"})]}),a.jsxs("ul",{style:{margin:0,paddingLeft:"20px",lineHeight:1.6},children:[a.jsx("li",{children:"Everything in Free, plus:"}),a.jsx("li",{children:"Advanced analytics & reporting"}),a.jsx("li",{children:"Custom donation forms"}),a.jsx("li",{children:"Email marketing tools"}),a.jsx("li",{children:"Priority support"}),a.jsx("li",{children:"API access"})]}),a.jsx(F,{style:{marginTop:"8px"},children:"Start Pro Trial"})]}),a.jsxs(Z,{style:{gridColumn:"span 4",padding:"24px",display:"grid",gap:"16px",height:"fit-content",border:"2px solid var(--border)",position:"relative"},children:[a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{style:{width:"64px",height:"64px",background:"linear-gradient(135deg, #6FB9FF 0%, #5ED2A0 100%)",borderRadius:"16px",display:"grid",placeItems:"center",margin:"0 auto 16px auto"},children:a.jsx(ho,{size:32,color:"white"})}),a.jsx("div",{style:{fontWeight:800,fontSize:"20px",marginBottom:"8px"},children:"Enterprise"}),a.jsx("div",{style:{fontSize:"32px",fontWeight:800,color:"var(--accent)",marginBottom:"8px"},children:"Custom"}),a.jsx("div",{style:{color:"var(--muted)",fontSize:"14px"},children:"Large organizations"})]}),a.jsxs("ul",{style:{margin:0,paddingLeft:"20px",lineHeight:1.6},children:[a.jsx("li",{children:"Everything in Pro, plus:"}),a.jsx("li",{children:"White-label solutions"}),a.jsx("li",{children:"Custom integrations"}),a.jsx("li",{children:"Dedicated account manager"}),a.jsx("li",{children:"SLA guarantees"}),a.jsx("li",{children:"On-site training"})]}),a.jsx(F,{style:{marginTop:"8px"},children:"Contact Sales"})]})]})]}),a.jsxs(Z,{style:{padding:"32px",marginBottom:"32px",background:"linear-gradient(135deg, rgba(255, 124, 94, 0.05) 0%, rgba(255, 111, 174, 0.02) 100%)",border:"1px solid rgba(255, 124, 94, 0.2)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"24px"},children:[a.jsx("div",{style:{background:"linear-gradient(135deg, #FF7C5E 0%, #FF6FAE 100%)",color:"white",width:"48px",height:"48px",borderRadius:"12px",display:"grid",placeItems:"center"},children:a.jsx(xj,{size:24})}),a.jsxs("div",{children:[a.jsx("h2",{style:{margin:0,fontSize:"28px",fontWeight:700},children:"Community Premium Memberships"}),a.jsx("p",{style:{margin:"4px 0 0 0",color:"var(--muted)"},children:"Support the Platform"})]})]}),a.jsx("p",{style:{fontSize:"16px",lineHeight:1.7,marginBottom:"32px",color:"var(--muted)"},children:"Animal lovers can support Zoomies directly through premium community memberships that unlock exclusive features and help keep the platform free for nonprofits."}),a.jsxs("div",{className:"row",style:{marginTop:"24px"},children:[a.jsxs(Z,{style:{gridColumn:"span 6",padding:"24px",display:"grid",gap:"16px",height:"fit-content",border:"2px solid var(--border)"},children:[a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{style:{width:"64px",height:"64px",background:"linear-gradient(135deg, #5ED2A0 0%, #6FB9FF 100%)",borderRadius:"16px",display:"grid",placeItems:"center",margin:"0 auto 16px auto"},children:a.jsx(vn,{size:32,color:"white"})}),a.jsx("div",{style:{fontWeight:800,fontSize:"20px",marginBottom:"8px"},children:"Supporter"}),a.jsx("div",{style:{fontSize:"32px",fontWeight:800,color:"var(--accent)",marginBottom:"8px"},children:"$9.99/mo"}),a.jsx("div",{style:{color:"var(--muted)",fontSize:"14px"},children:"Animal lovers who want to help"})]}),a.jsxs("ul",{style:{margin:0,paddingLeft:"20px",lineHeight:1.6},children:[a.jsx("li",{children:"Exclusive community badge"}),a.jsx("li",{children:"Early access to new features"}),a.jsx("li",{children:"Priority forum support"}),a.jsx("li",{children:"Monthly impact report"})]}),a.jsx(F,{style:{marginTop:"8px"},children:"Become Supporter"})]}),a.jsxs(Z,{style:{gridColumn:"span 6",padding:"24px",display:"grid",gap:"16px",height:"fit-content",border:"2px solid var(--accent)",position:"relative",transform:"scale(1.02)"},children:[a.jsx("div",{style:{position:"absolute",top:"-12px",left:"50%",transform:"translateX(-50%)",background:"var(--accent)",color:"white",padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.6px"},children:"Recommended"}),a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{style:{width:"64px",height:"64px",background:"linear-gradient(135deg, #FF6FAE 0%, #FF7C5E 100%)",borderRadius:"16px",display:"grid",placeItems:"center",margin:"0 auto 16px auto"},children:a.jsx(Ls,{size:32,color:"white"})}),a.jsx("div",{style:{fontWeight:800,fontSize:"20px",marginBottom:"8px"},children:"Champion"}),a.jsx("div",{style:{fontSize:"32px",fontWeight:800,color:"var(--accent)",marginBottom:"8px"},children:"$24.99/mo"}),a.jsx("div",{style:{color:"var(--muted)",fontSize:"14px"},children:"Dedicated supporters"})]}),a.jsxs("ul",{style:{margin:0,paddingLeft:"20px",lineHeight:1.6},children:[a.jsx("li",{children:"Everything in Supporter, plus:"}),a.jsx("li",{children:"Exclusive ambassador events"}),a.jsx("li",{children:"Direct access to Zoomies team"}),a.jsx("li",{children:"Custom profile customization"}),a.jsx("li",{children:"Quarterly impact calls"})]}),a.jsx(F,{style:{marginTop:"8px"},children:"Become Champion"})]})]})]}),a.jsxs("div",{style:{textAlign:"center",marginBottom:"48px"},children:[a.jsx("h2",{style:{fontSize:"32px",fontWeight:700,margin:"0 0 16px 0"},children:"Ready to Make a Difference?"}),a.jsx("p",{style:{fontSize:"18px",color:"var(--muted)",maxWidth:"600px",margin:"0 auto 32px auto",lineHeight:1.6},children:"Join thousands of animal lovers and nonprofits making a difference through our platform."}),a.jsxs("div",{style:{display:"flex",gap:"16px",justifyContent:"center",flexWrap:"wrap"},children:[a.jsxs(F,{style:{padding:"16px 32px",fontSize:"18px",display:"flex",alignItems:"center",gap:"8px"},children:["Get Started Free",a.jsx(ur,{size:20})]}),a.jsxs(F,{variant:"outline",style:{padding:"16px 32px",fontSize:"18px",display:"flex",alignItems:"center",gap:"8px"},children:["View Pricing",a.jsx(ur,{size:20})]})]})]})]})}const C2=["Animal Care","Pet Pics","Rescue Stories","Wildlife","Adoption","Volunteering","Donations","Education","Events","Tips & Advice"];function k2(){console.log("=== USER PROFILE PAGE LOADED ==="),console.log("Component is rendering...");const{user:o}=Ba(),{theme:r}=bo();console.log("User from auth:",o),console.log("User theme:",r);const[s,l]=C.useState({username:"",full_name:"",fullName:"",bio:"",location:"",website:"",instagram:"",avatar:"",banner:"",tags:[],followers:0,animalsHelped:0,sanctuariesSupported:0,daysActive:0}),[u,d]=C.useState("Timeline"),[f,y]=C.useState(!1),[p,m]=C.useState(!1),[x,w]=C.useState(!1),[k,S]=C.useState({title:"",content:"",images:[],community:"",topic:""}),[b,q]=C.useState({theme:"default",backgroundType:"color",backgroundColor:"#ffffff",backgroundPhoto:"",accentColor:"#3b82f6",headerTextColor:"#1f2937",bodyTextColor:"#374151",sidebarWidgets:["about","activity-stats","recent-activity","music-player","best-friends"]}),[L,B]=C.useState([]),[oe,G]=C.useState(!1),[te,ae]=C.useState(""),[de,he]=C.useState([]),[qe,be]=C.useState(!1),[ie,Ue]=C.useState({songTitle:"",artist:"",albumArt:"",isPlaying:!1,progress:0}),[$e,et]=C.useState(!1),[je,ke]=C.useState(!1),[W,J]=C.useState([]),[ge,ue]=C.useState(!1),[A,N]=C.useState(new Map),[V,j]=C.useState(new Map),[R,ne]=C.useState(new Map),[re,Te]=C.useState(new Map),[me,Qe]=C.useState(new Set);C.useEffect(()=>{(async()=>{try{if(console.log("=== LOAD PROFILE DATA START ==="),console.log("Loading profile data for user:",o?.id),!o){console.log("No user, skipping profile load");return}console.log("Testing database connection...");const{data:X,error:le}=await ee.from("user_profiles").select("count").limit(1);if(le){console.error("Database connection test failed:",le),alert(`Database connection failed: ${le.message}`);return}console.log("Database connection successful");const{data:ce,error:Se}=await ee.from("user_profiles").select("*").eq("user_id",o.id).single();if(console.log("Profile query result:",{data:ce,error:Se}),Se&&Se.code!=="PGRST116"){console.error("Error loading profile:",Se);return}ce?(console.log("Profile data loaded:",ce),console.log("Profile ID:",ce.id),console.log("User ID:",ce.user_id),console.log("Avatar URL from database:",ce.avatar_url),console.log("Banner URL from database:",ce.banner_url),console.log("Setting profile data with username:",{databaseUsername:ce.username,authMetadataUsername:o?.user_metadata?.username,finalUsername:ce.username||o?.user_metadata?.username||""}),l(Me=>({...Me,...ce,avatar:ce.avatar_url||Me.avatar,banner:ce.banner_url||Me.banner,tags:ce.tags||[],username:ce.username||o?.user_metadata?.username||""})),ce.customization?(console.log("Customization data loaded:",ce.customization),q(Me=>({...Me,...ce.customization})),ce.customization.bestFriends&&(console.log("Loading bestFriends from database:",ce.customization.bestFriends),B(ce.customization.bestFriends)),ce.customization.musicPlayer&&(console.log("Loading musicPlayer from database:",ce.customization.musicPlayer),Ue(ce.customization.musicPlayer)),ke(!0)):(console.log("No customization data found, using defaults"),ke(!0))):console.log("No profile data found, user may need to create profile"),await ut(),console.log("=== LOAD PROFILE DATA END ===")}catch(X){console.error("Error loading profile:",X)}})()},[o]),C.useEffect(()=>{if(!o||!je||b.theme!=="default"||$e)return;if((b.backgroundColor==="#000000"||b.backgroundColor==="#ffffff")&&(b.headerTextColor==="#ffffff"||b.headerTextColor==="#000000")&&(b.bodyTextColor==="#ffffff"||b.bodyTextColor==="#000000")){console.log("Applying default theme colors for system preference:",r);const X={default:{backgroundColor:r==="dark"?"#000000":"#ffffff",accentColor:"#3b82f6",headerTextColor:r==="dark"?"#ffffff":"#000000",bodyTextColor:r==="dark"?"#ffffff":"#000000"}};q(le=>({...le,theme:"default",...X.default}))}},[o,r,b.theme,$e,je]),C.useEffect(()=>{let T;return ie.isPlaying&&(T=setInterval(()=>{Ue(X=>({...X,progress:X.progress>=100?0:X.progress+1}))},100)),()=>clearInterval(T)},[ie.isPlaying]),console.log("Customization theme:",b.theme);const ut=async()=>{if(o){ue(!0);try{const{data:T,error:X}=await ee.from("community_posts").select(`
          *,
          community:communities(name)
        `).eq("user_id",o.id).order("created_at",{ascending:!1}).limit(10);!X&&T&&J(T)}catch(T){console.error("Error loading user posts:",T)}finally{ue(!1)}}},z=async(T,X)=>{if(o)try{const le=A.get(T);let ce=X;le===X&&(ce=0),N(Me=>new Map(Me).set(T,ce)),J(Me=>Me.map(Xe=>{if(Xe.id===T){let dt=Xe.upvotes||0,ht=Xe.downvotes||0;return le===1&&dt--,le===-1&&ht--,ce===1&&dt++,ce===-1&&ht++,{...Xe,upvotes:dt,downvotes:ht}}return Xe}));const{error:Se}=await ee.from("post_votes").upsert({post_id:T,user_id:o.id,vote_type:ce});Se&&(console.error("Error saving vote:",Se),N(Me=>new Map(Me).set(T,le)))}catch(le){console.error("Error handling vote:",le)}},Y=async T=>{me.has(T)?Qe(X=>{const le=new Set(X);return le.delete(T),le}):(Qe(X=>new Set(X).add(T)),await ye(T))},ye=async T=>{if(!V.has(T)){ne(X=>new Map(X).set(T,!0));try{const{data:X,error:le}=await ee.from("post_comments").select(`
          *,
          user_profiles!inner(full_name, avatar_url)
        `).eq("post_id",T).order("created_at",{ascending:!0});!le&&X&&j(ce=>new Map(ce).set(T,X))}catch(X){console.error("Error loading comments:",X)}finally{ne(X=>new Map(X).set(T,!1))}}},xe=async T=>{const X=re.get(T);if(!(!X||!X.trim()||!o))try{const{data:le,error:ce}=await ee.from("post_comments").insert({post_id:T,user_id:o.id,content:X.trim()}).select().single();!ce&&le&&(j(Se=>{const Me=Se.get(T)||[];return new Map(Se).set(T,[...Me,le])}),Te(Se=>new Map(Se).set(T,"")),J(Se=>Se.map(Me=>Me.id===T?{...Me,comment_count:(Me.comment_count||0)+1}:Me)))}catch(le){console.error("Error creating comment:",le)}},Ie=T=>{window.location.href=`/community?post=${T.id}`},tt=async T=>{if(!T.trim()){he([]);return}console.log("Searching for users with query:",T),be(!0);try{const{data:X,error:le}=await ee.from("user_profiles").select("user_id, full_name, username, avatar_url").limit(20);console.log("All users in user_profiles table:",X),le&&console.error("Error fetching all users:",le);const{data:ce,error:Se}=await ee.from("user_profiles").select("user_id, full_name, username, avatar_url").or(`full_name.ilike.%${T}%,username.ilike.%${T}%`).limit(10);Se&&console.error("Search error:",Se),!Se&&ce&&he(ce)}catch(X){console.error("Error searching users:",X)}finally{be(!1)}},_t=T=>{const X=T.full_name||T.fullName||T.name||T.display_name,le=T.username||T.user_name;let ce=X,Se=le;(!ce||ce.trim()==="")&&(ce=Se||"Unknown User"),(!Se||Se.trim()==="")&&(Se=ce?ce.toLowerCase().replace(/[^a-z0-9]/g,""):"user"),Se.startsWith("@")||(Se="@"+Se);const Me={id:Date.now(),displayName:ce,username:Se,avatar:T.avatar_url||T.avatar||"",userId:T.user_id||T.userId};B(Xe=>[...Xe,Me]),G(!1),ae(""),he([])},sa=T=>{B(X=>X.filter((le,ce)=>ce!==T))};if(!o)return console.log("No user found, cannot load profile"),a.jsx("div",{children:"Please log in to view your profile."});const la=async()=>{if(console.log("=== HANDLE SAVE PROFILE START ==="),console.log("Current profile data:",s),console.log("Current customization:",b),!s.username&&!s.full_name){alert("Profile data is still loading. Please wait a moment and try again.");return}const T=await Ot();console.log("Save result:",T),T?(console.log("Save successful, closing modal and reloading data..."),y(!1),o&&(async()=>{try{console.log("Reloading profile data...");const{data:le,error:ce}=await ee.from("user_profiles").select("*").eq("user_id",o.id).single();if(ce&&ce.code!=="PGRST116"){console.error("Error reloading profile:",ce);return}le&&(console.log("Reloaded profile data:",le),l(Se=>({...Se,...le,tags:le.tags||[]})),le.customization&&(console.log("Reloaded customization:",le.customization),q(Se=>({...Se,...le.customization}))))}catch(le){console.error("Error reloading profile:",le)}})()):console.log("Save failed, keeping modal open"),console.log("=== HANDLE SAVE PROFILE END ===")},Wt=()=>{y(!1)},Ot=async()=>{try{console.log("=== SAVE PROFILE START ==="),console.log("User ID:",o.id),console.log("Profile data to save:",{user_id:o.id,username:s.username,full_name:s.full_name||s.fullName,bio:s.bio,location:s.location,website:s.website,instagram:s.instagram,avatar_url:s.avatar,banner_url:s.banner,tags:s.tags,customization:b}),console.log("Testing database connection...");const{data:T,error:X}=await ee.from("user_profiles").select("count").limit(1);if(X)return console.error("Database connection test failed:",X),alert(`Database connection failed: ${X.message}`),!1;console.log("Database connection successful"),console.log("Checking if customization column exists...");const{data:le,error:ce}=await ee.from("user_profiles").select("customization").limit(1);ce?(console.error("Customization column check failed:",ce),console.log("This might mean the customization column is missing from the database")):console.log("Customization column exists, sample data:",le),console.log("Checking if profile exists...");const{data:Se,error:Me}=await ee.from("user_profiles").select("id, username").eq("user_id",o.id).single();if(console.log("Profile check result:",{existingProfile:Se,checkError:Me}),Me&&Me.code!=="PGRST116")return console.error("Error checking existing profile:",Me),alert(`Failed to check profile: ${Me.message}`),!1;let Xe=s.username;if(!Xe&&Se&&Se.username&&(Xe=Se.username),!Xe&&s.full_name&&(Xe=s.full_name.toLowerCase().replace(/[^a-z0-9]/g,"").substring(0,20),Xe=`${Xe}_${Date.now().toString().slice(-4)}`,console.log("Generated fallback username:",Xe)),console.log("Username validation:",{profileDataUsername:s.username,existingProfileUsername:Se?.username,fullName:s.full_name,finalUsernameToSave:Xe}),!Xe)return alert("Username is required and could not be generated. Please refresh the page and try again."),!1;let dt;if(Se){console.log("Updating existing profile with ID:",Se.id);const ht={username:Xe,full_name:s.full_name||s.fullName,bio:s.bio,location:s.location,website:s.website,instagram:s.instagram,avatar_url:s.avatar,banner_url:s.banner,tags:s.tags};if(le&&le.length>0){const ln={bestFriends:L,musicPlayer:ie};console.log(" Widget data being saved:",ln),ht.customization={...b,...ln},console.log(" Final customization object:",ht.customization)}console.log("Update data:",ht),dt=await ee.from("user_profiles").update(ht).eq("id",Se.id),console.log("Update result:",dt)}else{console.log("Creating new profile for user:",o.id);const ht={user_id:o.id,username:Xe,full_name:s.full_name||s.fullName,bio:s.bio,location:s.location,website:s.website,instagram:s.instagram,avatar_url:s.avatar,banner_url:s.banner,tags:s.tags};if(le&&le.length>0){const ln={bestFriends:L,musicPlayer:ie};console.log(" Widget data being saved (INSERT):",ln),ht.customization={...b,...ln},console.log(" Final customization object (INSERT):",ht.customization)}console.log("Insert data:",ht),dt=await ee.from("user_profiles").insert(ht),console.log("Insert result:",dt)}return dt.error?(console.error("Supabase error saving profile:",dt.error),alert(`Failed to save profile: ${dt.error.message}`),!1):(console.log("Profile saved successfully!"),console.log("=== SAVE PROFILE END ==="),!0)}catch(T){return console.error("Unexpected error saving profile:",T),alert(`Failed to save profile: ${T.message}`),!1}},qt=async(T,X)=>{if(X)try{console.log(`=== UPLOADING ${T.toUpperCase()} ===`),console.log("File:",X.name,"Size:",X.size,"Type:",X.type);const le=X.name.split(".").pop(),Se=`${T}-${Date.now()}.${le}`;console.log("Uploading to path:",Se),console.log("Attempting to list storage buckets...");const{data:Me,error:Xe}=await ee.storage.listBuckets();if(console.log("Bucket list response:",{buckets:Me,bucketError:Xe}),console.log("Available buckets:",Me),console.log("Bucket error:",Xe),Xe)throw console.error("Error listing buckets:",Xe),new Error(`Failed to access storage: ${Xe.message}`);console.log("Trying to directly access profile-images bucket...");try{const{data:Ge,error:Pe}=await ee.storage.from("profile-images").list("",{limit:1});if(console.log("Direct bucket access result:",{bucketInfo:Ge,bucketAccessError:Pe}),!Pe){console.log("Successfully accessed profile-images bucket directly");const on="profile-images";console.log(`Using bucket: ${on}, uploading file...`);const{error:Na}=await ee.storage.from(on).upload(Se,X);if(Na)throw console.error("Upload error:",Na),Na;console.log("File uploaded successfully, getting public URL...");const{data:{publicUrl:gr}}=ee.storage.from(on).getPublicUrl(Se);console.log("Public URL:",gr),T==="avatar"?(l(ui=>({...ui,avatar:gr})),console.log("Updated avatar in local state")):T==="banner"&&(l(ui=>({...ui,banner:gr})),console.log("Updated banner in local state")),console.log("Saving profile data to database..."),await Ot()?(console.log(`${T} upload and save completed successfully`),alert(`${T} updated successfully!`)):(console.error("Failed to save profile data after upload"),alert("Upload succeeded but failed to save profile. Please try saving manually."));return}}catch(Ge){console.log("Direct bucket access failed:",Ge)}let dt="profile-images",ht=Me.find(Ge=>Ge.name===dt);if(!ht){const Ge=["profile_images","profileimages","images","photos","avatars"];for(const Pe of Ge)if(ht=Me.find(on=>on.name===Pe),ht){dt=Pe,console.log(`Found bucket with alternative name: ${dt}`);break}}if(!ht){console.log("No suitable bucket found, available buckets:",Me.map(Pe=>Pe.name)),console.log("Available bucket names:",Me.map(Pe=>Pe.name));const Ge=Me.filter(Pe=>Pe.name.toLowerCase().includes("image")||Pe.name.toLowerCase().includes("photo")||Pe.name.toLowerCase().includes("avatar")||Pe.name.toLowerCase().includes("profile"));throw Ge.length>0?(console.log("Found potential image buckets:",Ge.map(Pe=>Pe.name)),new Error(`No suitable storage bucket found. Found similar buckets: ${Ge.map(Pe=>Pe.name).join(", ")}. Please check the bucket name in your Supabase dashboard.`)):new Error(`No suitable storage bucket found. Available buckets: ${Me.map(Pe=>Pe.name).join(", ")}. Please create a bucket for profile images or update the code to use an existing bucket.`)}console.log(`Using bucket: ${dt}, uploading file...`);const{error:ln}=await ee.storage.from(dt).upload(Se,X);if(ln)throw console.error("Upload error:",ln),ln;console.log("File uploaded successfully, getting public URL...");const{data:{publicUrl:pr}}=ee.storage.from(dt).getPublicUrl(Se);console.log("Public URL:",pr),T==="avatar"?(l(Ge=>({...Ge,avatar:pr})),console.log("Updated avatar in local state")):T==="banner"&&(l(Ge=>({...Ge,banner:pr})),console.log("Updated banner in local state")),console.log("Saving profile data to database..."),await Ot()?(console.log(`${T} upload and save completed successfully`),alert(`${T} updated successfully!`)):(console.error("Failed to save profile data after upload"),alert("Upload succeeded but failed to save profile. Please try saving manually."))}catch(le){console.error(`Failed to upload ${T}:`,le),alert(`Failed to upload ${T}: ${le.message}`)}},Nn=(T,X)=>{const le=[...s.tags];le[T]=X,l(ce=>({...ce,tags:le}))},mt=()=>{s.tags.length<5&&l(T=>({...T,tags:[...T.tags,""]}))},sn=T=>{l(X=>({...X,tags:X.tags.filter((le,ce)=>ce!==T)}))},Ft=()=>{L.length<8&&B(T=>[...T,{id:Date.now(),username:"",displayName:"",avatar:""}])},_=T=>{const le=Array.from(T.target.files).map(ce=>({file:ce,preview:URL.createObjectURL(ce),name:ce.name}));S(ce=>({...ce,images:[...ce.images,...le]}))},D=T=>{S(X=>({...X,images:X.images.filter((le,ce)=>ce!==T)}))},se=()=>{if(!k.content.trim()){alert("Please write something to post!");return}alert("Post created successfully! It will appear in the community feed."),S({title:"",content:"",images:[],community:"",topic:""}),w(!1)},ze=()=>{S({title:"",content:"",images:[],community:"",topic:""})},st=(T,X)=>{Ue(le=>({...le,[T]:X}))},En=()=>{Ue(T=>({...T,isPlaying:!T.isPlaying}))},bn=async T=>{const le={...b,theme:T,...{default:{backgroundColor:r==="dark"?"#000000":"#ffffff",accentColor:"#3b82f6",headerTextColor:r==="dark"?"#ffffff":"#000000",bodyTextColor:r==="dark"?"#ffffff":"#000000"},dark:{backgroundColor:"#1f2937",accentColor:"#60a5fa",headerTextColor:"#f9fafb",bodyTextColor:"#d1d5db"},nature:{backgroundColor:"#f0fdf4",accentColor:"#16a34a",headerTextColor:"#14532d",bodyTextColor:"#166534"},ocean:{backgroundColor:"#f0f9ff",accentColor:"#0284c7",headerTextColor:"#0c4a6e",bodyTextColor:"#0369a1"},sunset:{backgroundColor:"#fef3c7",accentColor:"#ea580c",headerTextColor:"#92400e",bodyTextColor:"#c2410c"}}[T]};q(le);try{console.log("Auto-saving theme choice:",T),await oa()}catch(ce){console.error("Failed to auto-save theme:",ce)}},ci=()=>{bn(b.theme)},Ln=()=>{et(!0),q(T=>({...T,theme:"default",backgroundColor:r==="dark"?"#000000":"#ffffff",accentColor:"#3b82f6",headerTextColor:r==="dark"?"#ffffff":"#000000",bodyTextColor:r==="dark"?"#ffffff":"#000000"})),setTimeout(()=>et(!1),100)},Tt=()=>b.theme!=="default"?"var(--panel)":r==="dark"?"#161616":"var(--panel)";console.log("Card background color:",Tt()),console.log("Current theme state:",{customizationTheme:b.theme,userTheme:r,backgroundColor:b.backgroundColor,headerTextColor:b.headerTextColor,bodyTextColor:b.bodyTextColor,customizationLoaded:je,isResettingTheme:$e});const oa=async()=>{try{console.log("Saving customization:",b);const{data:T,error:X}=await ee.from("user_profiles").select("id").eq("user_id",o.id).single();if(X&&X.code!=="PGRST116")return console.error("Error checking existing profile:",X),alert(`Failed to check profile: ${X.message}`),!1;let le;return T?(console.log("Updating customization for existing profile with ID:",T.id),le=await ee.from("user_profiles").update({customization:b}).eq("id",T.id)):(console.log("Creating new profile with customization for user:",o.id),le=await ee.from("user_profiles").insert({user_id:o.id,customization:b})),le.error?(console.error("Supabase error saving customization:",le.error),alert(`Failed to save customization: ${le.error.message}`),!1):(console.log("Customization saved successfully"),m(!1),!0)}catch(T){return console.error("Unexpected error saving customization:",T),alert(`Failed to save customization: ${T.message}`),!1}},fr=W.flatMap(T=>T.images||[]);return console.log("Gallery variable contents:",fr),console.log("Posts from database:",W),console.log("Posts loading:",ge),console.log("sidebarWidgets:",b.sidebarWidgets),a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:b.backgroundType==="photo"&&b.backgroundPhoto?`linear-gradient(rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.9)), url(${b.backgroundPhoto})`:b.backgroundColor,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed",zIndex:-1}}),a.jsxs("div",{className:"container",style:{paddingTop:"0",marginTop:"16px",minHeight:"100vh",position:"relative",zIndex:1},children:[a.jsxs(Z,{className:"card",style:{overflow:"hidden",position:"relative",backgroundColor:Tt(),backdropFilter:"none"},children:[a.jsx("div",{style:{position:"relative",height:200,background:s.banner&&s.banner.trim()!==""?`url(${s.banner}) center/cover`:`linear-gradient(135deg, ${b.accentColor}, ${b.accentColor}dd)`},children:a.jsx("div",{style:{position:"absolute",inset:0,background:"linear-gradient(to top, rgba(0,0,0,.55), rgba(0,0,0,0))"}})}),a.jsx("div",{style:{position:"absolute",top:180,left:24,zIndex:10},children:s.avatar&&s.avatar.trim()!==""?a.jsx("img",{src:s.avatar,alt:"Profile",style:{height:96,width:96,borderRadius:999,objectFit:"cover",border:"4px solid var(--bg, #fff)",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"}}):a.jsx("div",{style:{height:96,width:96,borderRadius:999,border:"4px solid var(--bg, #fff)",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",background:"var(--muted)",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text)"},children:a.jsx(ot,{size:32})})}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16,padding:"10px 16px 16px 140px"},children:[a.jsxs("div",{style:{flex:1},children:[a.jsx("h2",{style:{margin:0,color:b.headerTextColor},children:s.full_name||s.fullName||o?.user_metadata?.full_name||"Animal Lover"}),s.username&&a.jsxs("div",{className:"muted",style:{fontSize:16,color:b.accentColor,fontWeight:500,marginBottom:4},children:["@",s.username]}),a.jsxs("div",{className:"muted",style:{fontSize:14,color:b.bodyTextColor},children:["Animal Advocate  ",s.location||"Portland, OR"]}),a.jsxs("div",{className:"muted",style:{fontSize:13,marginTop:4,display:"flex",gap:12,alignItems:"center",color:b.bodyTextColor},children:[a.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:6},children:[a.jsx(vo,{size:14})," ",s.location||"Portland, OR"]}),a.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:6},children:[a.jsx(gt,{size:14})," ",s.followers||0," followers"]})]})]}),a.jsxs("div",{style:{display:"flex",gap:8},children:[a.jsxs(F,{onClick:()=>w(!0),children:[a.jsx(si,{size:16})," Create Post"]}),a.jsx(F,{onClick:()=>y(!0),children:"Edit Profile"}),s.user_type==="organization"&&a.jsx(F,{variant:"outline",onClick:()=>window.location.href="/dashboard",style:{background:"var(--accent)",color:"white"},children:"View Dashboard"}),a.jsx(F,{variant:"outline",onClick:()=>m(!0),children:"Customize"}),a.jsxs(F,{variant:"ghost",children:[a.jsx(Us,{size:16})," Share"]})]})]})]}),a.jsxs("div",{children:[a.jsx(Z,{className:"card",style:{padding:8,marginTop:24,marginBottom:16,backgroundColor:Tt(),backdropFilter:"none"},children:a.jsx("div",{style:{display:"flex",gap:8},children:["Timeline","Gallery","About"].map(T=>a.jsx("button",{onClick:()=>d(T),className:`chip ${u===T?"active":""}`,style:{padding:"8px 14px"},children:T},T))})}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"320px 1fr",gap:16,alignItems:"start"},children:[a.jsxs("div",{children:[b.sidebarWidgets.includes("about")&&a.jsxs(Z,{className:"card",style:{padding:16,width:"100%",marginBottom:16,backgroundColor:Tt(),backdropFilter:"none"},children:[a.jsx("h3",{style:{marginTop:0,color:b.headerTextColor},children:"About"}),a.jsx("div",{style:{marginBottom:12},children:a.jsx("p",{style:{margin:0,lineHeight:1.5,fontSize:14,color:b.bodyTextColor},children:s.bio})}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:s.tags&&s.tags.length>0?s.tags.map((T,X)=>a.jsx("span",{className:"chip",style:{backgroundColor:b.accentColor,color:"white"},children:T},X)):a.jsx("span",{style:{color:"var(--muted)",fontSize:"14px",fontStyle:"italic"},children:"No tags added yet"})})]}),b.sidebarWidgets.includes("activity-stats")&&a.jsxs(Z,{className:"card",style:{padding:16,width:"100%",marginBottom:16,backgroundColor:Tt(),backdropFilter:"none"},children:[a.jsx("h3",{style:{marginTop:0,color:b.headerTextColor},children:"Activity"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,fontSize:14},children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:24,fontWeight:"bold",color:b.accentColor},children:s.followers}),a.jsx("div",{className:"muted",style:{color:b.bodyTextColor},children:"Followers"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:24,fontWeight:"bold",color:b.accentColor},children:s.animalsHelped}),a.jsx("div",{className:"muted",style:{color:b.bodyTextColor},children:"Animals Helped"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:24,fontWeight:"bold",color:b.accentColor},children:s.sanctuariesSupported}),a.jsx("div",{className:"muted",style:{color:b.bodyTextColor},children:"Sanctuaries"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:24,fontWeight:"bold",color:b.accentColor},children:s.daysActive}),a.jsx("div",{className:"muted",style:{color:b.bodyTextColor},children:"Days Active"})]})]})]}),b.sidebarWidgets.includes("recent-activity")&&a.jsxs(Z,{className:"card",style:{padding:16,width:"100%",marginBottom:16,backgroundColor:Tt(),backdropFilter:"none"},children:[a.jsx("h3",{style:{marginTop:0,color:b.headerTextColor},children:"Recent Activity"}),a.jsx("div",{style:{fontSize:14,color:b.bodyTextColor},children:a.jsxs("div",{style:{textAlign:"center",padding:"20px",color:"var(--muted)",fontSize:"14px"},children:[a.jsx("p",{style:{margin:"0 0 8px 0"},children:"No recent activity"}),a.jsx("p",{style:{margin:0,fontSize:"12px",opacity:.7},children:"Your activity will appear here as you engage with the community"})]})})]}),b.sidebarWidgets.includes("music-player")&&a.jsxs(Z,{className:"card",style:{padding:16,width:"100%",marginBottom:16,backgroundColor:Tt(),backdropFilter:"none"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[a.jsx("h3",{style:{marginTop:0,color:b.headerTextColor},children:"Music Player"}),a.jsx(F,{size:"sm",variant:"outline",onClick:En,style:{backgroundColor:ie.isPlaying?b.accentColor:"transparent",color:ie.isPlaying?"white":b.accentColor,borderColor:b.accentColor},children:ie.isPlaying?"":""})]}),a.jsx("div",{style:{textAlign:"center",marginBottom:16},children:a.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[a.jsx("img",{src:ie.albumArt,alt:"Album",style:{width:80,height:80,borderRadius:8,animation:ie.isPlaying?"rotate 3s linear infinite":"none"}}),ie.isPlaying&&a.jsx("div",{style:{position:"absolute",top:-5,right:-5,width:20,height:20,borderRadius:"50%",backgroundColor:b.accentColor,animation:"pulse 1s ease-in-out infinite alternate"}})]})}),a.jsxs("div",{style:{marginBottom:16},children:[a.jsx("input",{type:"text",value:ie.songTitle,onChange:T=>st("songTitle",T.target.value),placeholder:"Song title",style:{background:"transparent",border:"none",color:b.headerTextColor,fontWeight:600,fontSize:16,width:"100%",textAlign:"center",marginBottom:4}}),a.jsx("input",{type:"text",value:ie.artist,onChange:T=>st("artist",T.target.value),placeholder:"Artist name",style:{background:"transparent",border:"none",color:b.bodyTextColor,fontSize:14,width:"100%",textAlign:"center",opacity:.8}})]}),a.jsx("div",{style:{width:"100%",height:4,backgroundColor:"rgba(255,255,255,0.2)",borderRadius:2,marginBottom:12},children:a.jsx("div",{style:{width:`${ie.progress}%`,height:"100%",backgroundColor:b.accentColor,borderRadius:2,transition:"width 0.3s ease"}})}),a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("input",{type:"file",accept:"image/*",onChange:T=>T.target.files[0]&&st("albumArt",URL.createObjectURL(T.target.files[0])),style:{display:"none"},id:"album-art-upload"}),a.jsx("label",{htmlFor:"album-art-upload",children:a.jsx(F,{size:"sm",variant:"outline",style:{fontSize:12,cursor:"pointer"},children:"Change Album Art"})})]})]}),b.sidebarWidgets.includes("best-friends")&&a.jsxs(Z,{className:"card",style:{padding:16,width:"100%",marginBottom:16,backgroundColor:Tt(),backdropFilter:"none"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[a.jsx("h3",{style:{marginTop:0,color:b.headerTextColor},children:"Best Friends"}),a.jsxs("div",{style:{display:"flex",gap:8},children:[a.jsx(F,{size:"sm",variant:"outline",onClick:()=>G(!0),disabled:L.length>=8,style:{fontSize:12},children:"Tag User"}),a.jsx(F,{size:"sm",variant:"outline",onClick:Ft,disabled:L.length>=8,style:{fontSize:12},children:"+ Add Friend"})]})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[L.map((T,X)=>a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"8px",borderRadius:"6px",background:"var(--panel)",border:"1px solid var(--border)"},children:[T.avatar?a.jsx("img",{src:T.avatar,alt:"Friend",style:{width:32,height:32,borderRadius:"50%",objectFit:"cover"}}):a.jsx("div",{style:{width:32,height:32,borderRadius:"50%",background:"var(--accent)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"12px",fontWeight:"600"},children:T.displayName?.[0]?.toUpperCase()||T.username?.[0]?.toUpperCase()||"F"}),a.jsxs("div",{style:{flex:1,color:b.bodyTextColor},children:[a.jsx("div",{style:{fontWeight:"600",fontSize:"14px",color:b.headerTextColor,marginBottom:"2px"},children:T.displayName||"Friend Name"}),a.jsxs("div",{style:{fontSize:"12px",color:"var(--muted)",fontFamily:"monospace"},children:["@",T.username||"username"]})]}),a.jsx(F,{size:"sm",variant:"outline",onClick:()=>sa(X),style:{padding:"2px 6px",fontSize:10},children:""})]},T.id)),L.length===0&&a.jsxs("div",{style:{textAlign:"center",padding:"20px",color:"var(--muted)",fontSize:"14px"},children:[a.jsx("p",{style:{margin:"0 0 8px 0"},children:"No friends added yet"}),a.jsx("p",{style:{margin:0,fontSize:"12px",opacity:.7},children:'Use "Tag User" to add real users or "Add Friend" for manual entries'})]})]})]}),oe&&a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:a.jsxs(Z,{className:"card",style:{padding:24,maxWidth:500,width:"90%",maxHeight:"80vh",overflow:"auto",backgroundColor:Tt(),backdropFilter:"none"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20},children:[a.jsx("h3",{style:{margin:0,color:b.headerTextColor},children:"Tag a User"}),a.jsx(F,{size:"sm",variant:"outline",onClick:()=>G(!1),style:{padding:"4px 8px"},children:a.jsx(kn,{size:16})})]}),a.jsxs("div",{style:{marginBottom:20},children:[a.jsx("div",{style:{display:"flex",gap:8,marginBottom:12},children:a.jsx(Ee,{placeholder:"Search by name or username...",value:te,onChange:T=>{ae(T.target.value),tt(T.target.value)},style:{flex:1}})}),qe&&a.jsxs("div",{style:{textAlign:"center",padding:"20px",color:"var(--muted)"},children:[a.jsx("div",{style:{animation:"spin 1s linear infinite",fontSize:"16px"},children:""}),a.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"14px"},children:"Searching users..."})]}),de.length>0&&a.jsx("div",{style:{display:"grid",gap:8},children:de.map(T=>a.jsxs("div",{onClick:()=>_t(T),style:{display:"flex",alignItems:"center",gap:12,padding:"12px",border:"1px solid var(--border)",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s ease",background:"var(--bg)"},onMouseEnter:X=>X.target.parentElement.style.background="var(--panel)",onMouseLeave:X=>X.target.parentElement.style.background="var(--bg)",children:[T.avatar_url?a.jsx("img",{src:T.avatar_url,alt:"User",style:{width:40,height:40,borderRadius:"50%",objectFit:"cover"}}):a.jsx("div",{style:{width:40,height:40,borderRadius:"50%",background:"var(--accent)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"16px",fontWeight:"600"},children:T.full_name?.[0]?.toUpperCase()||T.username?.[0]?.toUpperCase()||"U"}),a.jsxs("div",{children:[a.jsx("div",{style:{fontWeight:"600",fontSize:"14px",color:"var(--text)"},children:T.full_name||T.username}),a.jsx("div",{style:{fontSize:"12px",color:"var(--muted)"},children:T.username?`@${T.username}`:"No username"})]})]},T.user_id))}),te&&!qe&&de.length===0&&a.jsx("div",{style:{textAlign:"center",padding:"20px",color:"var(--muted)"},children:a.jsxs("p",{children:['No users found matching "',te,'"']})})]})]})})]}),a.jsxs("div",{children:[u==="Timeline"&&a.jsxs(a.Fragment,{children:[a.jsxs(Z,{className:"card",style:{padding:16,backgroundColor:Tt(),backdropFilter:"none",marginBottom:16},children:[a.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:12},children:[s.avatar&&s.avatar.trim()!==""?a.jsx("img",{src:s.avatar,alt:"Profile",style:{height:40,width:40,borderRadius:999,objectFit:"cover"}}):a.jsx("div",{style:{height:40,width:40,borderRadius:999,background:"var(--muted)",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text)"},children:a.jsx(ot,{size:20})}),a.jsx(Ee,{placeholder:"What's happening in the animal world?",style:{flex:1},value:k.content,onChange:T=>S({...k,content:T.target.value}),onFocus:()=>w(!0)}),k.content.trim()&&a.jsx(F,{size:"sm",onClick:()=>w(!0),style:{flexShrink:0},children:"Post"})]}),a.jsxs("div",{className:"muted",style:{display:"flex",gap:16,fontSize:14},children:[a.jsxs("span",{style:{display:"flex",alignItems:"center",gap:4,cursor:"pointer"},onClick:()=>w(!0),children:[a.jsx($t,{size:16})," Photo/Video"]}),a.jsxs("span",{style:{display:"flex",alignItems:"center",gap:4,cursor:"pointer"},onClick:()=>w(!0),children:[a.jsx(kt,{size:16})," Poll"]}),a.jsxs("span",{style:{display:"flex",alignItems:"center",gap:4,cursor:"pointer"},onClick:()=>w(!0),children:[a.jsx(gt,{size:16})," Tag Community"]})]})]}),a.jsxs(Z,{className:"card",style:{padding:16,backgroundColor:Tt(),backdropFilter:"none"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[a.jsx("h3",{style:{margin:0,color:b.headerTextColor},children:"Timeline"}),a.jsx(F,{size:"sm",onClick:()=>ut(),style:{fontSize:"12px"},children:"Refresh Posts"})]}),ge?a.jsxs("div",{style:{textAlign:"center",padding:"20px",color:"var(--muted)"},children:[a.jsx("div",{style:{animation:"spin 1s linear infinite",fontSize:"16px"},children:""}),a.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"14px"},children:"Loading posts..."})]}):W.length===0?a.jsxs("div",{style:{textAlign:"center",padding:"20px",color:"var(--muted)"},children:[a.jsx(kt,{size:32,style:{marginBottom:"16px",opacity:.5}}),a.jsx("p",{style:{margin:0,fontSize:"16px"},children:"No posts yet"}),a.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"14px",opacity:.7},children:"Share something with the community to get started!"})]}):a.jsx("div",{style:{display:"grid",gap:16},children:W.map(T=>a.jsxs("div",{style:{padding:"16px",border:"1px solid var(--border)",borderRadius:"8px",background:"var(--bg)"},children:[a.jsxs("div",{style:{display:"flex",gap:12,marginBottom:12},children:[a.jsx("div",{style:{height:40,width:40,borderRadius:999,background:"var(--accent)",display:"grid",placeItems:"center",color:"white",fontSize:"16px",fontWeight:"600"},children:s.full_name?.[0]?.toUpperCase()||s.fullName?.[0]?.toUpperCase()||o?.user_metadata?.full_name?.[0]?.toUpperCase()||"U"}),a.jsxs("div",{style:{flex:1},children:[a.jsx("div",{style:{fontWeight:600,fontSize:"14px"},children:s.full_name||s.fullName||o?.user_metadata?.full_name||"Animal Lover"}),a.jsxs("div",{className:"muted",style:{fontSize:"12px"},children:[new Date(T.created_at).toLocaleDateString()," at ",new Date(T.created_at).toLocaleTimeString()]})]})]}),T.title&&a.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"16px",fontWeight:"600"},children:T.title}),a.jsx("div",{style:{fontSize:"14px",lineHeight:1.5,marginBottom:12},children:T.content}),T.topic&&a.jsxs("div",{style:{fontSize:"12px",color:"var(--muted)",marginBottom:8},children:["Topic: ",a.jsx("strong",{children:T.topic})]}),T.community&&a.jsxs("div",{style:{fontSize:"12px",color:"var(--muted)",marginBottom:8},children:["Posted in: ",a.jsx("strong",{children:T.community.name})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[a.jsx("button",{onClick:X=>{X.stopPropagation(),z(T.id,1)},style:{background:"none",border:"none",cursor:"pointer",color:A.get(T.id)===1?"var(--accent)":"var(--muted)",padding:"8px",borderRadius:"6px",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",height:"36px"},children:a.jsx(or,{size:16})}),a.jsx("span",{style:{fontWeight:"600",color:A.get(T.id)===1||A.get(T.id)===-1?"var(--accent)":"var(--text)"},children:(T.upvotes||0)-(T.downvotes||0)}),a.jsx("button",{onClick:X=>{X.stopPropagation(),z(T.id,-1)},style:{background:"none",border:"none",cursor:"pointer",color:A.get(T.id)===-1?"var(--accent)":"var(--muted)",padding:"8px",borderRadius:"6px",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",height:"36px"},children:a.jsx(ri,{size:16})})]}),a.jsxs("button",{onClick:X=>{X.stopPropagation(),Y(T.id)},style:{background:"none",border:"none",cursor:"pointer",color:"var(--muted)",padding:"8px",borderRadius:"6px",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"4px",fontSize:"14px"},children:[a.jsx(kt,{size:16}),T.comment_count||0]})]}),a.jsxs("button",{onClick:X=>{X.stopPropagation(),Ie(T)},style:{background:"none",border:"none",cursor:"pointer",color:"var(--muted)",padding:"8px",borderRadius:"6px",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"4px",fontSize:"14px"},children:[a.jsx(ur,{size:16}),"View Post"]})]}),me.has(T.id)&&a.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[a.jsx("h4",{style:{margin:"0 0 12px 0",fontSize:"14px",color:"var(--text)"},children:"Comments"}),R.get(T.id)?a.jsxs("div",{style:{textAlign:"center",padding:"20px",color:"var(--muted)"},children:[a.jsx("div",{style:{animation:"spin 1s linear infinite",fontSize:"16px"},children:""}),a.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"14px"},children:"Loading comments..."})]}):a.jsx("div",{style:{display:"grid",gap:12,marginBottom:16},children:(V.get(T.id)||[]).map(X=>a.jsxs("div",{style:{padding:"12px",background:"var(--panel)",borderRadius:"6px",border:"1px solid var(--border)"},children:[a.jsxs("div",{style:{display:"flex",gap:8,marginBottom:8},children:[a.jsx("div",{style:{height:24,width:24,borderRadius:999,background:"var(--accent)",display:"grid",placeItems:"center",color:"white",fontSize:"12px",fontWeight:"600"},children:X.user_profiles?.full_name?.[0]?.toUpperCase()||"U"}),a.jsxs("div",{style:{flex:1},children:[a.jsx("div",{style:{fontWeight:"600",fontSize:"12px"},children:X.user_profiles?.full_name||"Anonymous User"}),a.jsxs("div",{className:"muted",style:{fontSize:"11px"},children:[new Date(X.created_at).toLocaleDateString()," at ",new Date(X.created_at).toLocaleTimeString()]})]})]}),a.jsx("div",{style:{fontSize:"14px",lineHeight:1.5},children:X.content})]},X.id))}),a.jsxs("div",{style:{display:"flex",gap:8},children:[a.jsx(Kt,{placeholder:"Add a comment...",value:re.get(T.id)||"",onChange:X=>Te(le=>new Map(le).set(T.id,X.target.value)),style:{flex:1,minHeight:"60px",resize:"vertical"}}),a.jsx(F,{size:"sm",onClick:()=>xe(T.id),disabled:!re.get(T.id)?.trim(),children:"Comment"})]})]})]},T.id))})]})]}),u==="Gallery"&&a.jsxs(Z,{className:"card",style:{padding:16,backgroundColor:Tt(),backdropFilter:"none"},children:[a.jsx("h3",{style:{marginTop:0,color:b.headerTextColor},children:"Gallery"}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:16},children:fr.length>0?fr.slice(0,12).map((T,X)=>a.jsx("img",{src:T,alt:"Gallery",style:{width:"100%",height:200,objectFit:"cover",borderRadius:8}},X)):a.jsxs("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"40px 20px",color:b.bodyTextColor,opacity:.6},children:[a.jsx("p",{children:"No images in your gallery yet."}),a.jsx("p",{children:"Upload images using the Image Gallery widget!"})]})})]}),u==="About"&&a.jsxs(Z,{className:"card",style:{padding:16,backgroundColor:Tt(),backdropFilter:"none"},children:[a.jsx("h3",{style:{marginTop:0,color:b.headerTextColor},children:"About"}),a.jsxs("div",{style:{color:b.bodyTextColor},children:[a.jsx("p",{children:s.bio}),a.jsxs("div",{style:{marginTop:16},children:[a.jsx("h4",{children:"Tags"}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:s.tags?.map((T,X)=>a.jsx("span",{className:"chip",style:{backgroundColor:b.accentColor,color:"white"},children:T},X))})]}),a.jsxs("div",{style:{marginTop:16},children:[a.jsx("h4",{children:"Links"}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[s.website&&a.jsx("a",{href:s.website,target:"_blank",rel:"noopener noreferrer",style:{color:b.accentColor},children:"Website"}),s.instagram&&a.jsx("a",{href:`https://instagram.com/${s.instagram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",style:{color:b.accentColor},children:"Instagram"})]})]})]})]})]})]})]}),f&&a.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.5)",display:"grid",placeItems:"center",zIndex:1e3,padding:16},children:a.jsx(Z,{style:{maxWidth:600,width:"100%",maxHeight:"90vh",overflow:"auto"},children:a.jsxs("div",{style:{padding:24},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[a.jsx("h2",{style:{margin:0},children:"Edit Profile"}),a.jsx(F,{variant:"ghost",onClick:Wt,children:a.jsx(kn,{size:20})})]}),a.jsxs("div",{style:{display:"grid",gap:24},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:500},children:"Profile Picture"}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16},children:[s.avatar&&s.avatar.trim()!==""?a.jsx("img",{src:s.avatar,alt:"Profile",style:{width:80,height:80,borderRadius:"50%",objectFit:"cover"}}):a.jsx("div",{style:{width:80,height:80,borderRadius:"50%",background:"var(--muted)",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text)"},children:a.jsx(ot,{size:24})}),a.jsxs("div",{children:[a.jsxs(F,{variant:"outline",onClick:()=>document.getElementById("avatar-upload").click(),children:[a.jsx(po,{size:16})," Change Photo"]}),a.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",style:{display:"none"},onChange:T=>qt("avatar",T.target.files[0])})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:500},children:"Banner Image"}),a.jsxs("div",{style:{position:"relative"},children:[s.banner&&s.banner.trim()!==""?a.jsx("img",{src:s.banner,alt:"Banner",style:{width:"100%",height:120,objectFit:"cover",borderRadius:8}}):a.jsx("div",{style:{width:"100%",height:120,background:"var(--muted)",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text)",borderRadius:8},children:a.jsx(ot,{size:32})}),a.jsxs(F,{variant:"outline",style:{position:"absolute",top:8,right:8},onClick:()=>document.getElementById("banner-upload").click(),children:[a.jsx(po,{size:16})," Change Banner"]}),a.jsx("input",{id:"banner-upload",type:"file",accept:"image/*",style:{display:"none"},onChange:T=>qt("banner",T.target.files[0])})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:500},children:"Name on Profile"}),a.jsx(Ee,{value:s.full_name||s.fullName||"",onChange:T=>l({...s,full_name:T.target.value}),placeholder:"Enter your name as it should appear on your profile"})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:500},children:"About Section Bio"}),a.jsx(Kt,{value:s.bio,onChange:T=>l({...s,bio:T.target.value}),placeholder:"Tell us about yourself, your passion for animals, and what you do...",rows:4})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:500},children:"Tags (max 5)"}),a.jsxs("div",{style:{display:"grid",gap:8},children:[s.tags?.map((T,X)=>a.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[a.jsx(Ee,{value:T,onChange:le=>Nn(X,le.target.value),placeholder:"Enter a tag (e.g., Animal Lover, Advocate)"}),a.jsx(F,{variant:"ghost",onClick:()=>sn(X),style:{color:"var(--error)"},children:a.jsx(kn,{size:16})})]},X)),s.tags&&s.tags.length<5&&a.jsxs(F,{variant:"outline",onClick:mt,children:[a.jsx(ot,{size:16})," Add Tag"]})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:500},children:"Links"}),a.jsxs("div",{style:{display:"grid",gap:12},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:4,fontSize:14},children:"Website"}),a.jsx(Ee,{value:s.website,onChange:T=>l({...s,website:T.target.value}),placeholder:"yourwebsite.com"})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:4,fontSize:14},children:"Instagram"}),a.jsx(Ee,{value:s.instagram,onChange:T=>l({...s,instagram:T.target.value}),placeholder:"@username"})]})]})]})]}),a.jsxs("div",{style:{display:"flex",gap:12,marginTop:32,justifyContent:"flex-end"},children:[a.jsx(F,{variant:"outline",onClick:Wt,children:"Cancel"}),a.jsx(F,{onClick:la,children:"Save Changes"})]})]})})}),p&&a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:a.jsxs(Z,{style:{maxWidth:600,width:"90%",maxHeight:"90vh",overflow:"auto",padding:24},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[a.jsx("h2",{style:{margin:0},children:"Customize Profile"}),a.jsx(F,{variant:"ghost",size:"sm",onClick:()=>m(!1),children:a.jsx(kn,{size:20})})]}),a.jsxs("div",{style:{marginBottom:24},children:[a.jsx("h3",{style:{marginBottom:12},children:"Theme"}),a.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",alignItems:"center"},children:[["default","dark","nature","ocean","sunset"].map(T=>a.jsx(F,{variant:b.theme===T?"default":"outline",size:"sm",onClick:async()=>await bn(T),style:{textTransform:"capitalize"},children:T},T)),a.jsx(F,{variant:"outline",size:"sm",onClick:()=>{Ln()},style:{marginLeft:"auto"},children:"Reset to System Theme"})]})]}),a.jsxs("div",{style:{marginBottom:24},children:[a.jsx("h3",{style:{marginBottom:12},children:"Background"}),a.jsxs("div",{style:{marginBottom:16},children:[a.jsxs("div",{style:{display:"flex",gap:16,marginBottom:12},children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[a.jsx("input",{type:"radio",name:"backgroundType",value:"color",checked:b.backgroundType==="color",onChange:T=>q({...b,backgroundType:T.target.value})}),"Color"]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[a.jsx("input",{type:"radio",name:"backgroundType",value:"photo",checked:b.backgroundType==="photo",onChange:T=>q({...b,backgroundType:T.target.value})}),"Photo"]})]}),b.backgroundType==="color"&&a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:4,fontSize:14},children:"Background Color"}),a.jsx("input",{type:"color",value:b.backgroundColor,onChange:T=>q({...b,backgroundColor:T.target.value}),style:{width:"100%",height:40,border:"1px solid #e2e8f0",borderRadius:6}})]}),b.backgroundType==="photo"&&a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:4,fontSize:14},children:"Background Photo"}),a.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[a.jsx("input",{type:"file",accept:"image/*",onChange:T=>{const X=T.target.files[0];if(X){const le=new FileReader;le.onload=ce=>{q({...b,backgroundPhoto:ce.target.result})},le.readAsDataURL(X)}},style:{flex:1}}),b.backgroundPhoto&&a.jsx(F,{variant:"outline",size:"sm",onClick:()=>q({...b,backgroundPhoto:""}),children:"Remove"})]}),b.backgroundPhoto&&b.backgroundPhoto.trim()!==""&&a.jsx("div",{style:{marginTop:8},children:a.jsx("img",{src:b.backgroundPhoto,alt:"Background preview",style:{width:"100%",height:100,objectFit:"cover",borderRadius:6}})})]})]})]}),a.jsxs("div",{style:{marginBottom:24},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[a.jsx("h3",{style:{margin:0},children:"Colors"}),a.jsx(F,{variant:"outline",size:"sm",onClick:ci,children:"Reset to Theme Defaults"})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:16},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:4,fontSize:14},children:"Accent Color"}),a.jsx("input",{type:"color",value:b.accentColor,onChange:T=>q({...b,accentColor:T.target.value}),style:{width:"100%",height:40,border:"1px solid #e2e8f0",borderRadius:6}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:4,fontSize:14},children:"Header Text Color"}),a.jsx("input",{type:"color",value:b.headerTextColor,onChange:T=>q({...b,headerTextColor:T.target.value}),style:{width:"100%",height:40,border:"1px solid #e2e8f0",borderRadius:6}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:4,fontSize:14},children:"Body Text Color"}),a.jsx("input",{type:"color",value:b.bodyTextColor,onChange:T=>q({...b,bodyTextColor:T.target.value}),style:{width:"100%",height:40,border:"1px solid #e2e8f0",borderRadius:6}})]})]})]}),a.jsxs("div",{style:{marginBottom:24},children:[a.jsx("h3",{style:{marginBottom:12},children:"Sidebar Widgets"}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[{id:"about",label:"About Section",description:"Bio and tags"},{id:"activity-stats",label:"Activity Stats",description:"Followers, animals helped, etc."},{id:"recent-activity",label:"Recent Activity",description:"Latest posts and interactions"},{id:"music-player",label:"Music Player",description:"Spotify or custom playlist"},{id:"best-friends",label:"Best Friends",description:"Show your closest connections"}].map(T=>a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:b.sidebarWidgets.includes(T.id),onChange:X=>{X.target.checked?q({...b,sidebarWidgets:[...b.sidebarWidgets,T.id]}):q({...b,sidebarWidgets:b.sidebarWidgets.filter(le=>le!==T.id)})}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontWeight:500},children:T.label}),a.jsx("div",{style:{fontSize:12,color:"#64748b"},children:T.description})]})]},T.id))})]}),a.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end"},children:[a.jsx(F,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),a.jsx(F,{onClick:oa,children:"Save Changes"})]})]})}),x&&a.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"grid",placeItems:"center",zIndex:1e3,padding:16},children:a.jsx(Z,{style:{maxWidth:600,width:"100%",maxHeight:"90vh",overflow:"auto"},children:a.jsxs("div",{style:{padding:24},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[a.jsx("h2",{style:{margin:0},children:"Create a Post"}),a.jsx(F,{variant:"ghost",onClick:()=>{w(!1),ze()},children:a.jsx(kn,{size:20})})]}),a.jsxs("div",{style:{marginBottom:16,padding:"12px 16px",background:"var(--accent)",color:"white",borderRadius:"8px",fontSize:"14px"},children:[a.jsx("strong",{children:" Tip:"})," Your post will appear in the"," ",a.jsx("a",{href:"/community",style:{color:"white",textDecoration:"underline",fontWeight:"600"},target:"_blank",rel:"noopener noreferrer",children:"Community Feed"})," ","where other animal lovers can see and interact with it!"]}),a.jsxs("div",{style:{display:"grid",gap:24},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:500},children:"Post Title *"}),a.jsx(Ee,{value:k.title,onChange:T=>S({...k,title:T.target.value}),placeholder:"Give your post a catchy title...",style:{fontSize:"16px"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:500},children:"What's happening in the animal world?"}),a.jsx(Kt,{value:k.content,onChange:T=>S({...k,content:T.target.value}),placeholder:"Share your thoughts, experiences, or questions about animals...",rows:4})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:500},children:"Community"}),a.jsxs("select",{value:k.community,onChange:T=>S({...k,community:T.target.value}),style:{width:"100%",padding:"12px",border:"1px solid var(--border)",borderRadius:"8px",background:"var(--panel)",color:"var(--text)"},children:[a.jsx("option",{value:"",children:"Select a community"}),a.jsx("option",{value:"General Animal Care",children:"General Animal Care - Daily care & welfare"}),a.jsx("option",{value:"Pet Photography",children:"Pet Photography - Share & discuss pet photos"}),a.jsx("option",{value:"Adoption Support",children:"Adoption Support - Help adopting/fostering"}),a.jsx("option",{value:"Rescue Stories",children:"Rescue Stories - Share rescue experiences"}),a.jsx("option",{value:"Wildlife Conservation",children:"Wildlife Conservation - Wild animal protection"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:500},children:"Topic"}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:C2.map(T=>a.jsx(xn,{active:k.topic===T,onClick:()=>S({...k,topic:k.topic===T?"":T}),style:{cursor:"pointer"},children:T},T))})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:500},children:"Add Photos"}),a.jsxs("div",{style:{display:"flex",gap:8,marginBottom:12},children:[a.jsxs(F,{variant:"outline",onClick:()=>document.getElementById("post-image-upload").click(),children:[a.jsx($t,{size:16})," Add Photos"]}),a.jsx("input",{id:"post-image-upload",type:"file",accept:"image/*",multiple:!0,style:{display:"none"},onChange:_})]}),k.images.length>0&&a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:8},children:k.images.map((T,X)=>a.jsxs("div",{style:{position:"relative"},children:[a.jsx("img",{src:T.preview,alt:T.name,style:{width:"100%",height:120,objectFit:"cover",borderRadius:"8px"}}),a.jsx(F,{variant:"ghost",size:"sm",onClick:()=>D(X),style:{position:"absolute",top:4,right:4,background:"rgba(0,0,0,0.7)",color:"white",padding:"2px 6px",minWidth:"auto"},children:a.jsx(kn,{size:14})})]},X))})]}),(k.title||k.content)&&a.jsxs("div",{style:{padding:16,border:"1px solid var(--border)",borderRadius:"8px",background:"var(--panel)"},children:[a.jsx("h4",{style:{margin:"0 0 12px 0"},children:"Post Preview"}),k.title&&a.jsxs("div",{style:{marginBottom:8},children:[a.jsx("strong",{children:"Title:"})," ",k.title]}),k.content&&a.jsxs("div",{style:{marginBottom:8},children:[a.jsx("strong",{children:"Content:"})," ",k.content]}),k.community&&a.jsxs("div",{style:{marginBottom:8},children:[a.jsx("strong",{children:"Community:"})," ",k.community]}),k.topic&&a.jsxs("div",{style:{marginBottom:8},children:[a.jsx("strong",{children:"Topic:"})," ",k.topic]}),k.images.length>0&&a.jsxs("div",{children:[a.jsx("strong",{children:"Images:"})," ",k.images.length," photo(s)"]})]})]}),a.jsxs("div",{style:{display:"flex",gap:12,marginTop:32,justifyContent:"flex-end"},children:[a.jsx(F,{variant:"outline",onClick:()=>{w(!1),ze()},children:"Cancel"}),a.jsx(F,{onClick:se,disabled:!k.title.trim()||!k.content.trim(),children:"Create Post"})]})]})})})]})]})}function T2(){const{userId:o}=cm(),{theme:r}=bo(),{user:s}=Ba(),l=mo(),[u,d]=C.useState(null),[f,y]=C.useState(!0),[p,m]=C.useState(null),[x,w]=C.useState([]),[k,S]=C.useState(!1),[b,q]=C.useState("Timeline"),[L,B]=C.useState(new Map),[oe,G]=C.useState({}),[te,ae]=C.useState({}),[de,he]=C.useState(""),[qe,be]=C.useState(new Set),ie=()=>u?.customization?.theme!=="default"?"var(--panel)":r==="dark"?"#161616":"var(--panel)";C.useEffect(()=>{(async()=>{if(o){console.log("Loading profile for userId:",o),y(!0);try{const{data:R,error:ne}=await ee.from("user_profiles").select("*").eq("user_id",o).single();if(ne)d({user_id:o,full_name:`User ${o.slice(0,8)}`,bio:null,avatar_url:null,banner_url:null,location:null,website:null,instagram:null,tags:[],days_active:0,animals_helped:0,sanctuaries_supported:0,rating:0,followers:0,customization:{theme:"default",backgroundType:"color",backgroundColor:"#ffffff",accentColor:"#3b82f6",headerTextColor:"#000000",bodyTextColor:"#000000",sidebarWidgets:["about","activity-stats"]}});else{const me={theme:"default",backgroundType:"color",backgroundColor:"#ffffff",accentColor:"#3b82f6",headerTextColor:"#000000",bodyTextColor:"#000000",sidebarWidgets:["about","activity-stats"]};d({...R,customization:R.customization||me})}await Ue(o);const{data:re,error:Te}=await ee.from("community_posts").select("*").limit(5);console.log("All posts in database (first 5):",re),Te&&console.error("Error fetching all posts:",Te)}catch(R){console.error("Error loading profile:",R),m("Failed to load profile data")}finally{y(!1)}}})()},[o]);const Ue=async j=>{console.log("Loading posts for user:",j),S(!0);try{const{data:R,error:ne}=await ee.from("community_posts").select("user_id").limit(100);if(!ne&&R){const me=[...new Set(R.map(Qe=>Qe.user_id))];console.log("Unique user IDs in posts:",me),console.log("Looking for userId:",j),console.log("userId type:",typeof j)}const{data:re,error:Te}=await ee.from("community_posts").select(`
          *,
          community:communities(name)
        `).eq("user_id",j).order("created_at",{ascending:!1}).limit(10);console.log("Posts query result:",{userPosts:re,error:Te}),!Te&&re?(console.log("Setting posts:",re),w(re)):Te&&console.error("Supabase error loading posts:",Te)}catch(R){console.error("Error loading user posts:",R)}finally{S(!1)}},$e=async(j,R)=>{if(s)try{const ne=L.get(j);let re=R;ne===R&&(re=0),B(me=>new Map(me).set(j,re)),w(me=>me.map(Qe=>{if(Qe.id===j){let ut=Qe.upvotes||0,z=Qe.downvotes||0;return ne===1&&ut--,ne===-1&&z--,re===1&&ut++,re===-1&&z++,{...Qe,upvotes:ut,downvotes:z}}return Qe}));const{error:Te}=await ee.from("post_votes").upsert({post_id:j,user_id:s.id,vote_type:re});Te&&(console.error("Error saving vote:",Te),B(me=>new Map(me).set(j,ne)))}catch(ne){console.error("Error handling vote:",ne)}},et=async j=>{qe.has(j)?be(R=>{const ne=new Set(R);return ne.delete(j),ne}):(be(R=>new Set(R).add(j)),!oe[j]&&!te[j]&&await je(j))},je=async j=>{ae(R=>({...R,[j]:!0}));try{const{data:R,error:ne}=await ee.from("post_comments").select(`
          *,
          user:user_profiles(full_name, avatar_url)
        `).eq("post_id",j).order("created_at",{ascending:!0});!ne&&R&&G(re=>({...re,[j]:R}))}catch(R){console.error("Error loading comments:",R)}finally{ae(R=>({...R,[j]:!1}))}},ke=async j=>{if(!(!s||!de.trim()))try{const{data:R,error:ne}=await ee.from("post_comments").insert({post_id:j,user_id:s.id,content:de.trim()}).select().single();!ne&&R&&(G(re=>({...re,[j]:[...re[j]||[],R]})),w(re=>re.map(Te=>Te.id===j?{...Te,comments:(Te.comments||0)+1}:Te)),he(""))}catch(R){console.error("Error creating comment:",R)}},W=async j=>{l("/community",{state:{viewPostId:j.id}})};if(f)return a.jsxs("div",{style:{marginTop:24,textAlign:"center"},children:[a.jsx("div",{style:{animation:"spin 1s linear infinite",fontSize:"32px",marginBottom:"16px"},children:""}),a.jsx("p",{style:{margin:0,color:"var(--muted)"},children:"Loading profile..."})]});if(p||!u)return a.jsxs("div",{style:{marginTop:24,textAlign:"center"},children:[a.jsxs("div",{style:{marginBottom:24},children:[a.jsx(ot,{size:64,style:{color:"var(--muted)",marginBottom:"16"}}),a.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"24px"},children:"Profile Not Found"}),a.jsx("p",{style:{margin:0,color:"var(--muted)",fontSize:"16px"},children:p||"This user's profile could not be loaded."})]}),a.jsx(Gt,{to:"/community",children:a.jsx(F,{children:" Back to Community"})})]});const J=u.full_name||"Anonymous User",ge=u.days_active||0,ue=u.animals_helped||0,A=u.sanctuaries_supported||0;u.rating;const N=u.followers||0,V=u.customization;return a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:V.backgroundType==="photo"&&V.backgroundPhoto?`linear-gradient(rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.9)), url(${V.backgroundPhoto})`:V.backgroundColor,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed",zIndex:-1}}),a.jsxs("div",{style:{marginTop:24,minHeight:"100vh",padding:"0 16px 16px 16px",position:"relative",zIndex:1},children:[a.jsx("div",{style:{marginBottom:16},children:a.jsx(Gt,{to:"/community",style:{textDecoration:"none"},children:a.jsxs(F,{variant:"ghost",style:{display:"flex",alignItems:"center",gap:8,background:ie(),border:"1px solid var(--border)"},children:[a.jsx(Lm,{size:20})," Back to Community"]})})}),a.jsxs(Z,{className:"card",style:{overflow:"hidden",position:"relative",backgroundColor:ie(),backdropFilter:"none"},children:[a.jsx("div",{style:{position:"relative",height:200,background:u.banner_url&&u.banner_url.trim()!==""?`url(${u.banner_url}) center/cover`:`linear-gradient(135deg, ${V.accentColor}, ${V.accentColor}dd)`},children:a.jsx("div",{style:{position:"absolute",inset:0,background:"linear-gradient(to top, rgba(0,0,0,.55), rgba(0,0,0,0))"}})}),a.jsx("div",{style:{position:"absolute",top:180,left:24,zIndex:10},children:u.avatar_url&&u.avatar_url.trim()!==""?a.jsx("img",{src:u.avatar_url,alt:"Profile",style:{height:96,width:96,borderRadius:999,objectFit:"cover",border:"4px solid var(--bg, #fff)",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"}}):a.jsx("div",{style:{height:96,width:96,borderRadius:999,border:"4px solid var(--bg, #fff)",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",background:"var(--muted)",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text)"},children:a.jsx(ot,{size:32})})}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16,padding:"10px 16px 16px 140px"},children:[a.jsxs("div",{style:{flex:1},children:[a.jsx("h2",{style:{margin:0,color:V.headerTextColor},children:J}),a.jsx("div",{className:"muted",style:{fontSize:16,color:V.accentColor,fontWeight:500,marginBottom:4},children:"Animal Advocate"}),a.jsxs("div",{className:"muted",style:{fontSize:14,color:V.bodyTextColor},children:["Animal Advocate  ",u.location||"Location not set"]}),a.jsxs("div",{className:"muted",style:{fontSize:13,marginTop:4,display:"flex",gap:12,alignItems:"center",color:V.bodyTextColor},children:[a.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:6},children:[a.jsx(vo,{size:14})," ",u.location||"Location not set"]}),a.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:6},children:[a.jsx(gt,{size:14})," ",N," followers"]})]})]}),a.jsx("div",{style:{display:"flex",gap:8},children:a.jsxs(F,{variant:"ghost",children:[a.jsx(Us,{size:16})," Share"]})})]})]}),a.jsxs("div",{children:[a.jsx(Z,{className:"card",style:{padding:8,marginTop:24,marginBottom:16,backgroundColor:ie(),backdropFilter:"none"},children:a.jsx("div",{style:{display:"flex",gap:8},children:["Timeline","Gallery","About"].map(j=>a.jsx("button",{onClick:()=>q(j),className:`chip ${b===j?"active":""}`,style:{padding:"8px 14px"},children:j},j))})}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"320px 1fr",gap:16,alignItems:"start"},children:[a.jsxs("div",{children:[a.jsxs(Z,{className:"card",style:{padding:16,width:"100%",marginBottom:16,backgroundColor:ie(),backdropFilter:"none"},children:[a.jsx("h3",{style:{marginTop:0,color:V.headerTextColor},children:"About"}),a.jsx("div",{style:{marginBottom:12},children:a.jsx("p",{style:{margin:0,lineHeight:1.5,fontSize:14,color:V.bodyTextColor},children:u.bio||"This user hasn't written a bio yet."})}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:u.tags&&u.tags.length>0?u.tags.map((j,R)=>a.jsx("span",{className:"chip",style:{backgroundColor:V.accentColor,color:"white"},children:j},R)):a.jsx("span",{className:"chip",style:{backgroundColor:"var(--muted)",color:"var(--text)"},children:"Animal Lover"})})]}),a.jsxs(Z,{className:"card",style:{padding:16,width:"100%",marginBottom:16,backgroundColor:ie(),backdropFilter:"none"},children:[a.jsx("h3",{style:{marginTop:0,color:V.headerTextColor},children:"Activity"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,fontSize:14},children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:24,fontWeight:"bold",color:V.accentColor},children:N}),a.jsx("div",{className:"muted",style:{color:V.bodyTextColor},children:"Followers"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:24,fontWeight:"bold",color:V.accentColor},children:ue}),a.jsx("div",{className:"muted",style:{color:V.bodyTextColor},children:"Animals Helped"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:24,fontWeight:"bold",color:V.accentColor},children:A}),a.jsx("div",{className:"muted",style:{color:V.bodyTextColor},children:"Sanctuaries"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:24,fontWeight:"bold",color:V.accentColor},children:ge}),a.jsx("div",{className:"muted",style:{color:V.bodyTextColor},children:"Days Active"})]})]})]}),(u.website||u.instagram)&&a.jsxs(Z,{className:"card",style:{padding:16,width:"100%",marginBottom:16,backgroundColor:ie(),backdropFilter:"none"},children:[a.jsx("h3",{style:{marginTop:0,color:V.headerTextColor},children:"Contact"}),a.jsxs("div",{style:{display:"grid",gap:12,fontSize:14},children:[u.website&&a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[a.jsx(bj,{size:16,color:"var(--muted)"}),a.jsx("a",{href:u.website.startsWith("http")?u.website:`https://${u.website}`,target:"_blank",rel:"noopener noreferrer",style:{color:V.accentColor,textDecoration:"none"},children:u.website})]}),u.instagram&&a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[a.jsx(Rj,{size:16,color:"var(--muted)"}),a.jsx("a",{href:`https://instagram.com/${u.instagram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",style:{color:V.accentColor,textDecoration:"none"},children:u.instagram})]})]})]})]}),a.jsxs("div",{children:[b==="Timeline"&&a.jsxs(Z,{className:"card",style:{padding:16,backgroundColor:ie(),backdropFilter:"none"},children:[a.jsx("h3",{style:{marginTop:0,marginBottom:16,color:V.headerTextColor},children:"Recent Posts"}),k?a.jsxs("div",{style:{textAlign:"center",padding:"20px",color:"var(--muted)"},children:[a.jsx("div",{style:{animation:"spin 1s linear infinite",fontSize:"16px"},children:""}),a.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"14px"},children:"Loading posts..."})]}):x.length===0?a.jsxs("div",{style:{textAlign:"center",padding:"20px",color:"var(--muted)"},children:[a.jsx(kt,{size:32,style:{marginBottom:"16px",opacity:.5}}),a.jsx("p",{style:{margin:0,fontSize:"16px"},children:"No posts yet"}),a.jsxs("p",{style:{margin:"8px 0 0 0",fontSize:"14px",opacity:.7},children:[J," hasn't shared anything yet."]}),a.jsxs("div",{style:{marginTop:16,fontSize:"12px",color:"var(--muted)"},children:["Debug: posts.length = ",x.length,", postsLoading = ",k.toString()]})]}):a.jsx("div",{style:{display:"grid",gap:16},children:x.map(j=>a.jsxs("div",{style:{padding:"16px",border:"1px solid var(--border)",borderRadius:"8px",background:"var(--bg)"},children:[a.jsxs("div",{style:{display:"flex",gap:12,marginBottom:12},children:[a.jsx("div",{style:{height:40,width:40,borderRadius:999,background:"var(--accent)",display:"grid",placeItems:"center",color:"white",fontSize:"16px",fontWeight:"600"},children:J[0]?.toUpperCase()||"U"}),a.jsxs("div",{style:{flex:1},children:[a.jsx("div",{style:{fontWeight:600,fontSize:"14px"},children:J}),a.jsxs("div",{className:"muted",style:{fontSize:"12px"},children:[new Date(j.created_at).toLocaleDateString()," at ",new Date(j.created_at).toLocaleTimeString()]})]})]}),j.title&&a.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"16px",fontWeight:"600"},children:j.title}),a.jsx("div",{style:{fontSize:"14px",lineHeight:1.5,marginBottom:12},children:j.content}),j.topic&&a.jsx(xn,{style:{fontSize:"12px",marginBottom:8},children:j.topic}),j.community&&a.jsxs("div",{style:{fontSize:"12px",color:"var(--muted)",marginBottom:8},children:["Posted in: ",a.jsx("strong",{children:j.community.name})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16,marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[a.jsx("button",{onClick:R=>{R.stopPropagation(),$e(j.id,1)},style:{background:"none",border:"none",cursor:"pointer",color:L.get(j.id)===1?"var(--accent)":"var(--muted)",padding:"8px",borderRadius:"6px",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",height:"36px"},children:a.jsx(or,{size:16})}),a.jsx("span",{style:{fontWeight:"600",color:L.get(j.id)===1||L.get(j.id)===-1?"var(--accent)":"var(--text)"},children:(j.upvotes||0)-(j.downvotes||0)}),a.jsx("button",{onClick:R=>{R.stopPropagation(),$e(j.id,-1)},style:{background:"none",border:"none",cursor:"pointer",color:L.get(j.id)===-1?"var(--accent)":"var(--muted)",padding:"8px",borderRadius:"6px",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",height:"36px"},children:a.jsx(ri,{size:16})})]}),a.jsxs("button",{onClick:R=>{R.stopPropagation(),et(j.id)},style:{background:"none",border:"none",cursor:"pointer",color:"var(--muted)",fontSize:"14px",padding:"8px 12px",borderRadius:"6px",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s ease",height:"36px"},children:[a.jsx(kt,{size:16})," ",qe.has(j.id)?"Hide Comments":"Comment"]}),a.jsx("div",{style:{marginLeft:"auto"},children:a.jsxs(F,{variant:"outline",size:"sm",onClick:R=>{R.stopPropagation(),W(j)},style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"14px",padding:"8px 12px",height:"36px"},children:["View Post",a.jsx(ur,{size:14})]})})]}),qe.has(j.id)&&a.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px solid var(--border)"},children:[s&&a.jsxs("div",{style:{marginBottom:16},children:[a.jsx(Kt,{placeholder:"Write a comment...",value:de,onChange:R=>he(R.target.value),rows:2,style:{marginBottom:8}}),a.jsx("div",{style:{display:"flex",gap:8,justifyContent:"flex-end"},children:a.jsx(F,{size:"sm",onClick:()=>ke(j.id),disabled:!de.trim(),children:"Post Comment"})})]}),te[j.id]?a.jsxs("div",{style:{textAlign:"center",padding:"20px",color:"var(--muted)"},children:[a.jsx("div",{style:{animation:"spin 1s linear infinite",fontSize:"16px"},children:""}),a.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"14px"},children:"Loading comments..."})]}):oe[j.id]&&oe[j.id].length>0?a.jsx("div",{style:{display:"grid",gap:12},children:oe[j.id].map(R=>a.jsxs("div",{style:{padding:"12px",background:"var(--panel)",borderRadius:"8px",border:"1px solid var(--border)"},children:[a.jsxs("div",{style:{display:"flex",gap:8,marginBottom:8},children:[a.jsx("div",{style:{height:24,width:24,borderRadius:999,background:"var(--accent)",display:"grid",placeItems:"center",color:"white",fontSize:"10px",fontWeight:"600"},children:R.user?.full_name?.[0]?.toUpperCase()||"U"}),a.jsxs("div",{style:{flex:1},children:[a.jsx("div",{style:{fontWeight:600,fontSize:"12px"},children:R.user?.full_name||"Anonymous User"}),a.jsxs("div",{className:"muted",style:{fontSize:"10px"},children:[new Date(R.created_at).toLocaleDateString()," at ",new Date(R.created_at).toLocaleTimeString()]})]})]}),a.jsx("div",{style:{fontSize:"13px",lineHeight:1.4},children:R.content})]},R.id))}):a.jsxs("div",{style:{textAlign:"center",padding:"20px",color:"var(--muted)"},children:[a.jsx(kt,{size:24,style:{marginBottom:"8px",opacity:.5}}),a.jsx("p",{style:{margin:0,fontSize:"14px"},children:"No comments yet"}),a.jsx("p",{style:{margin:"4px 0 0 0",fontSize:"12px",opacity:.7},children:"Be the first to share your thoughts!"})]})]})]},j.id))})]}),b==="Gallery"&&a.jsxs(Z,{className:"card",style:{padding:16,backgroundColor:ie(),backdropFilter:"none"},children:[a.jsx("h3",{style:{marginTop:0,marginBottom:16,color:V.headerTextColor},children:"Gallery"}),a.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"var(--muted)"},children:[a.jsx($t,{size:48,style:{marginBottom:"16px",opacity:.5}}),a.jsx("p",{style:{margin:0,fontSize:"16px"},children:"No images yet"}),a.jsxs("p",{style:{margin:"8px 0 0 0",fontSize:"14px",opacity:.7},children:[J," hasn't shared any photos yet."]})]})]}),b==="About"&&a.jsxs(Z,{className:"card",style:{padding:16,backgroundColor:ie(),backdropFilter:"none"},children:[a.jsxs("h3",{style:{marginTop:0,marginBottom:16,color:V.headerTextColor},children:["About ",J]}),a.jsxs("div",{style:{display:"grid",gap:16},children:[a.jsxs("div",{children:[a.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"16px",color:V.headerTextColor},children:"Bio"}),a.jsx("p",{style:{margin:0,lineHeight:1.6,color:V.bodyTextColor},children:u.bio||"This user hasn't written a bio yet."})]}),a.jsxs("div",{children:[a.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"16px",color:V.headerTextColor},children:"Location"}),a.jsx("p",{style:{margin:0,lineHeight:1.6,color:V.bodyTextColor},children:u.location||"Location not specified"})]}),a.jsxs("div",{children:[a.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"16px",color:V.headerTextColor},children:"Interests"}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:u.tags&&u.tags.length>0?u.tags.map((j,R)=>a.jsx(xn,{style:{fontSize:"12px"},children:j},R)):a.jsx("span",{className:"chip",style:{fontSize:"12px"},children:"Animal Lover"})})]})]})]})]})]})]})]})]})}function rr({icon:o,label:r,value:s,sparkline:l,iconColor:u="var(--accent)",iconBackground:d="var(--accent)",valueColor:f="var(--text)",labelColor:y="var(--muted)"}){return a.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",padding:"16px",borderRadius:"12px",border:"1px solid var(--border)",background:"var(--panel)",minHeight:"80px"},children:[a.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"8px",background:d,display:"grid",placeItems:"center",flexShrink:0},children:o}),a.jsxs("div",{style:{flex:1,minWidth:0},children:[a.jsx("div",{style:{fontSize:"12px",color:y,marginBottom:"4px",fontWeight:500},children:r}),a.jsx("div",{style:{fontSize:"20px",fontWeight:700,color:f,marginBottom:"8px"},children:s}),l&&a.jsx("div",{style:{height:"24px"},children:l})]})]})}function E2(){const{user:o}=Ba(),r=mo(),s=["Cat","Dog","Reptile","Horse","Pig","Bird","Rabbit","Guinea Pig","Hamster","Fish","Turtle","Snake","Lizard","Ferret","Chinchilla","Rat","Mouse","Gerbil","Parrot","Canary","Finch","Duck","Goose","Chicken","Turkey","Goat","Sheep","Cow","Donkey","Mule","Other"],[l,u]=C.useState("overview"),[d,f]=C.useState([]),[y,p]=C.useState(!0),[m,x]=C.useState(""),[w,k]=C.useState("all"),[S,b]=C.useState(!1),[q,L]=C.useState(null),[B,oe]=C.useState({totalAnimals:0,activeFundraisers:0,totalRaised:0,totalDonors:0,monthlyGrowth:0,avgDonation:0,monthlyGoal:0,monthlyRaised:0,cryptoDonations:0,fiatDonations:0,totalFollowers:0,totalEngagement:0}),[G,te]=C.useState({name:"",species:"",breed:"",age:"",bio:"",goal:"",status:"active"}),[ae,de]=C.useState([]),[he,qe]=C.useState([]),[be,ie]=C.useState([]),[Ue,$e]=C.useState([]),[et,je]=C.useState(!1),[ke,W]=C.useState(!1);C.useEffect(()=>{o&&(J(),ge(),ue(),A(),N(),V(),j())},[o]),C.useEffect(()=>{const z=()=>{W(window.innerWidth<640)};return z(),window.addEventListener("resize",z),()=>window.removeEventListener("resize",z)},[]);const J=async()=>{try{const{data:z,error:Y}=await ee.from("user_profiles").select("user_id, username, full_name, user_type").eq("user_id",o.id).single();if(Y&&Y.code==="42P01"){console.error("user_profiles table does not exist. Please run the complete-setup-script.sql script in your Supabase SQL Editor."),alert("Database setup required: The user_profiles table does not exist. Please run the complete-setup-script.sql script in your Supabase SQL Editor.");return}if(Y&&Y.code==="PGRST116"){console.log("Creating user profile for:",o.id);const{data:Ie,error:tt}=await ee.from("user_profiles").insert({user_id:o.id,username:o.user_metadata?.username||`user_${o.id.substring(0,8)}`,full_name:o.user_metadata?.full_name||o.email?.split("@")[0]||"User",user_type:o.user_metadata?.user_type||"individual"}).select().single();if(tt){console.error("Error creating user profile:",tt),alert("Failed to create user profile. Please check the console for details.");return}console.log("User profile created successfully:",Ie)}else if(Y){console.error("Error checking user profile:",Y);return}else console.log("User profile exists:",z);const{data:ye,error:xe}=await ee.from("animal_profiles").select("id").limit(1);if(xe&&xe.code==="42P01"){console.error("animal_profiles table does not exist. Please run the complete-setup-script.sql script in your Supabase SQL Editor."),alert("Database setup required: The animal_profiles table does not exist. Please run the complete-setup-script.sql script in your Supabase SQL Editor.");return}if(xe){console.error("Database connection error:",xe);return}console.log("Database connection successful. animal_profiles table exists.")}catch(z){console.error("Error checking database connection:",z)}},ge=async()=>{try{p(!0);const{data:z,error:Y}=await ee.from("animal_profiles").select(`
          id,
          name,
          species,
          breed,
          age,
          bio,
          goal,
          raised,
          status,
          image_url,
          created_at,
          updated_at
        `).eq("organization_id",o.id).order("created_at",{ascending:!1});if(Y){if(console.error("Error loading animals:",Y),Y.code==="42P01"){console.error("animal_profiles table does not exist. Please run the animal-profiles-schema.sql script.");return}return}const ye=z.map(xe=>({id:xe.id,name:xe.name,species:xe.species,breed:xe.breed||"Unknown",age:xe.age||"Unknown",status:xe.status,goal:parseFloat(xe.goal)||0,raised:parseFloat(xe.raised)||0,image:xe.image_url||"https://picsum.photos/seed/default/200",lastUpdated:ut(xe.updated_at||xe.created_at)}));f(ye)}catch(z){console.error("Error loading animals:",z)}finally{p(!1)}},ue=async()=>{try{const{data:z,error:Y}=await ee.from("animal_profiles").select("id, goal, raised, status, created_at").eq("organization_id",o.id);if(Y){console.error("Error loading animals for analytics:",Y);return}const ye=z.length,xe=z.filter(mt=>mt.status==="active").length,Ie=z.reduce((mt,sn)=>mt+(parseFloat(sn.raised)||0),0),{data:tt,error:_t}=await ee.from("animal_profiles_donations").select("donor_id, amount, created_at").in("animal_id",z.map(mt=>mt.id));_t&&console.error("Error loading donations for analytics:",_t);const sa=tt?new Set(tt.map(mt=>mt.donor_id)).size:0,la=tt&&tt.length>0?tt.reduce((mt,sn)=>mt+parseFloat(sn.amount),0)/tt.length:0,Wt=new Date,Ot=new Date(Wt.getFullYear(),Wt.getMonth()-1,1),qt=tt?tt.filter(mt=>new Date(mt.created_at)>=Ot).reduce((mt,sn)=>mt+parseFloat(sn.amount),0):0,Nn=qt>0?Math.round(qt/Ie*100):0;oe({totalAnimals:ye,activeFundraisers:xe,totalRaised:Math.round(Ie*100)/100,totalDonors:sa,monthlyGrowth:Nn,avgDonation:Math.round(la*100)/100,monthlyGoal:Math.round(Ie*.3*100)/100,monthlyRaised:Math.round(qt*100)/100,cryptoDonations:Math.round(Ie*.15*100)/100,fiatDonations:Math.round(Ie*.85*100)/100,totalFollowers:0,totalEngagement:0})}catch(z){console.error("Error loading analytics:",z)}},A=async()=>{try{const{data:z,error:Y}=await ee.from("animal_profiles_donations").select(`
          id,
          amount,
          message,
          anonymous,
          created_at,
          animal_id,
          donor_id
        `).in("animal_id",d.map(ye=>ye.id)).order("created_at",{ascending:!1}).limit(50);if(Y){console.error("Error loading donations:",Y);return}de(z||[])}catch(z){console.error("Error loading donations:",z)}},N=async()=>{try{const{data:z,error:Y}=await ee.from("animal_profiles_donations").select(`
          id,
          amount,
          created_at,
          animal_id,
          donor_id
        `).in("animal_id",d.map(ye=>ye.id)).order("created_at",{ascending:!1}).limit(10);if(Y){console.error("Error loading recent activity:",Y);return}qe(z||[])}catch(z){console.error("Error loading recent activity:",z)}},V=async()=>{try{const{data:z,error:Y}=await ee.from("animal_profiles_donations").select(`
          donor_id,
          amount
        `).in("animal_id",d.map(Ie=>Ie.id));if(Y){console.error("Error loading top donors:",Y);return}const ye={};z.forEach(Ie=>{Ie.donor_id&&(ye[Ie.donor_id]=(ye[Ie.donor_id]||0)+parseFloat(Ie.amount))});const xe=Object.entries(ye).map(([Ie,tt])=>({donorId:Ie,total:tt})).sort((Ie,tt)=>tt.total-Ie.total).slice(0,10);ie(xe)}catch(z){console.error("Error loading top donors:",z)}},j=async()=>{try{const z=d.filter(Y=>Y.status==="active").map(Y=>({id:Y.id,name:Y.name,species:Y.species,progress:Qe(Y.raised,Y.goal),followers:Math.floor(Math.random()*100)+10,engagement:Math.floor(Math.random()*50)+5,image:Y.image})).sort((Y,ye)=>ye.progress-Y.progress).slice(0,5);$e(z)}catch(z){console.error("Error loading ambassador highlights:",z)}},R=async()=>{try{if(!G.name.trim()||!G.species.trim()||!G.goal){alert("Please fill in all required fields (name, species, and goal)");return}const{data:z,error:Y}=await ee.from("user_profiles").select("user_id, user_type").eq("user_id",o.id).single();if(Y){console.error("Error checking user profile:",Y),alert("User profile not found. Please refresh the page and try again.");return}if(z.user_type!=="organization"){alert("Only organization accounts can create animal profiles.");return}const{data:ye,error:xe}=await ee.from("animal_profiles").insert({organization_id:o.id,name:G.name.trim(),species:G.species.trim(),breed:G.breed.trim()||null,age:G.age.trim()||null,bio:G.bio.trim()||null,goal:parseFloat(G.goal),raised:0,status:G.status,image_url:null}).select().single();if(xe){console.error("Error creating animal profile:",xe),alert(`Failed to create animal profile: ${xe.message||xe.details||"Unknown error"}. Please check the console for details.`);return}const Ie={id:ye.id,name:ye.name,species:ye.species,breed:ye.breed||"Unknown",age:ye.age||"Unknown",status:ye.status,goal:parseFloat(ye.goal),raised:0,image:"https://picsum.photos/seed/default/200",lastUpdated:"Just now"};f(tt=>[Ie,...tt]),b(!1),te({name:"",species:"",breed:"",age:"",bio:"",goal:"",status:"active"}),ue(),alert("Animal profile created successfully!")}catch(z){console.error("Error adding animal:",z),alert("Failed to create animal profile. Please try again.")}},ne=async z=>{try{if(!z.name.trim()||!z.species.trim()||!z.goal){alert("Please fill in all required fields (name, species, and goal)");return}const{error:Y}=await ee.from("animal_profiles").update({name:z.name.trim(),species:z.species.trim(),breed:z.breed.trim()||null,age:z.age.trim()||null,bio:z.bio.trim()||null,goal:parseFloat(z.goal),status:z.status}).eq("id",z.id);if(Y){console.error("Error updating animal profile:",Y),alert("Failed to update animal profile. Please try again.");return}f(ye=>ye.map(xe=>xe.id===z.id?{...xe,...z,goal:parseFloat(z.goal)}:xe)),L(null),alert("Animal profile updated successfully!"),ue()}catch(Y){console.error("Error editing animal:",Y),alert("Failed to update animal profile. Please try again.")}},re=async z=>{if(window.confirm("Are you sure you want to delete this animal profile? This action cannot be undone."))try{const{error:Y}=await ee.from("animal_profiles").delete().eq("id",z);if(Y){console.error("Error deleting animal profile:",Y),alert("Failed to delete animal profile. Please try again.");return}f(ye=>ye.filter(xe=>xe.id!==z)),alert("Animal profile deleted successfully!"),ue()}catch(Y){console.error("Error deleting animal:",Y),alert("Failed to delete animal profile. Please try again.")}},Te=d.filter(z=>{const Y=z.name.toLowerCase().includes(m.toLowerCase())||z.species.toLowerCase().includes(m.toLowerCase()),ye=w==="all"||z.status===w;return Y&&ye}),me=z=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(z),Qe=(z,Y)=>Y<=0?0:Math.min(100,Math.max(0,Math.round(z/Y*100))),ut=z=>{const Y=new Date(z),xe=Math.floor((new Date-Y)/1e3);return xe<60?"Just now":xe<3600?`${Math.floor(xe/60)} minutes ago`:xe<86400?`${Math.floor(xe/3600)} hours ago`:xe<2592e3?`${Math.floor(xe/86400)} days ago`:xe<31536e3?`${Math.floor(xe/2592e3)} months ago`:`${Math.floor(xe/31536e3)} years ago`};return o?a.jsxs("div",{className:"container",style:{paddingTop:"0",marginTop:"16px"},children:[a.jsx("header",{style:{padding:"16px 0",marginBottom:"24px"},children:a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"16px",flexWrap:"wrap"},children:[a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"32px",fontWeight:700,margin:"0 0 8px 0"},children:"Organization Dashboard"}),a.jsx("p",{style:{color:"var(--muted)",margin:0,fontSize:"14px"},children:"Manage your animal ambassadors and track fundraising progress"})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",flexWrap:"wrap"},children:[a.jsxs(F,{onClick:()=>b(!0),children:[a.jsx(si,{size:16,style:{marginRight:"8px"}}),"Add Animal"]}),a.jsxs(F,{variant:"outline",children:[a.jsx(Ig,{size:16,style:{marginRight:"8px"}}),"Export"]}),a.jsx(F,{variant:"outline",onClick:()=>u("settings"),children:" Settings"})]})]})}),a.jsx("div",{role:"tablist","aria-label":"Dashboard sections",style:{marginBottom:"24px"},onKeyDown:z=>{const Y=["overview","ambassadors","donations","analytics","settings"],ye=Y.indexOf(l);switch(z.key){case"ArrowLeft":z.preventDefault();const xe=ye>0?ye-1:Y.length-1;u(Y[xe]);break;case"ArrowRight":z.preventDefault();const Ie=ye<Y.length-1?ye+1:0;u(Y[Ie]);break;case"Home":z.preventDefault(),u("overview");break;case"End":z.preventDefault(),u("settings");break}},children:a.jsx("div",{style:{display:"flex",background:"var(--panel)",padding:"4px",borderRadius:"9999px",border:"1px solid var(--border)"},children:[{id:"overview",label:"Overview"},{id:"ambassadors",label:"Ambassadors"},{id:"donations",label:"Donations"},{id:"analytics",label:"Analytics"},{id:"settings",label:"Settings"}].map((z,Y)=>a.jsx("button",{role:"tab","aria-selected":l===z.id,"aria-controls":`panel-${z.id}`,id:`tab-${z.id}`,tabIndex:l===z.id?0:-1,onClick:()=>u(z.id),style:{flex:1,padding:"12px 16px",border:"none",borderRadius:"9999px",background:l===z.id?"var(--accent)":"transparent",color:l===z.id?"white":"var(--text)",fontWeight:l===z.id?600:500,cursor:"pointer",transition:"all 0.2s ease",outline:"none",position:"relative"},onFocus:ye=>{ye.target.style.outline="2px solid var(--accent-2)",ye.target.style.outlineOffset="2px"},onBlur:ye=>{ye.target.style.outline="none"},onMouseEnter:ye=>{l!==z.id&&(ye.target.style.background="var(--bg)")},onMouseLeave:ye=>{l!==z.id&&(ye.target.style.background="transparent")},onKeyDown:ye=>{(ye.key==="Enter"||ye.key===" ")&&(ye.preventDefault(),u(z.id))},children:z.label},z.id))})}),a.jsx("div",{role:"tabpanel",id:"panel-overview","aria-labelledby":"tab-overview",hidden:l!=="overview",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"20px",marginBottom:"32px"},children:[a.jsx(rr,{icon:a.jsx(gt,{size:20,color:"white"}),label:"Total Animals",value:B.totalAnimals,iconBackground:"var(--accent)"}),a.jsx(rr,{icon:a.jsx(Yg,{size:20,color:"white"}),label:"Active Fundraisers",value:B.activeFundraisers,iconBackground:"#10b981"}),a.jsx(rr,{icon:a.jsx(nd,{size:20,color:"white"}),label:"Total Raised",value:me(B.totalRaised),iconBackground:"#f59e0b"}),a.jsx(rr,{icon:a.jsx(vn,{size:20,color:"white"}),label:"Total Donors",value:B.totalDonors,iconBackground:"#8b5cf6"}),a.jsx(rr,{icon:a.jsx(fo,{size:20,color:"white"}),label:"Monthly Growth",value:`${B.monthlyGrowth}%`,iconBackground:"#ef4444"}),a.jsx(rr,{icon:a.jsx(Fb,{size:20,color:"white"}),label:"Avg Donation",value:me(B.avgDonation),iconBackground:"#06b6d4"})]}),a.jsxs(Z,{style:{padding:"24px",marginBottom:"24px"},children:[a.jsx("h3",{style:{margin:"0 0 20px 0",fontSize:"20px",fontWeight:600},children:"Donation Summary"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"24px",marginBottom:"24px"},children:[a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{style:{fontSize:"32px",fontWeight:700,color:"var(--accent)",marginBottom:"8px"},children:me(B.monthlyRaised)}),a.jsx("div",{style:{color:"var(--muted)",fontSize:"14px"},children:"Raised This Month"})]}),a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{style:{fontSize:"32px",fontWeight:700,color:"#10b981",marginBottom:"8px"},children:me(B.monthlyGoal)}),a.jsx("div",{style:{color:"var(--muted)",fontSize:"14px"},children:"Monthly Goal"})]}),a.jsxs("div",{style:{textAlign:"center"},children:[a.jsxs("div",{style:{fontSize:"32px",fontWeight:700,color:"#f59e0b",marginBottom:"8px"},children:[B.monthlyGoal>0?Math.min(100,Math.max(0,Math.round(B.monthlyRaised/B.monthlyGoal*100))):0,"%"]}),a.jsx("div",{style:{color:"var(--muted)",fontSize:"14px"},children:"Goal Progress"})]})]}),a.jsxs("div",{style:{marginBottom:"20px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[a.jsx("span",{style:{fontSize:"14px",color:"var(--muted)"},children:"Monthly Progress"}),a.jsxs("span",{style:{fontSize:"14px",fontWeight:600},children:[B.monthlyGoal>0?Math.min(100,Math.max(0,Math.round(B.monthlyRaised/B.monthlyGoal*100))):0,"%"]})]}),a.jsx("div",{style:{width:"100%",height:"12px",background:"var(--border)",borderRadius:"var(--radius)",overflow:"hidden"},children:a.jsx("div",{style:{width:`${Math.min(100,Math.max(0,B.monthlyGoal>0?B.monthlyRaised/B.monthlyGoal*100:0))}%`,height:"100%",background:"linear-gradient(90deg, var(--accent), #10b981)",borderRadius:"var(--radius)",transition:"width 0.5s ease"}})})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[a.jsxs("div",{style:{padding:"16px",background:"var(--panel)",borderRadius:"var(--radius)",border:"1px solid var(--border)"},children:[a.jsx("div",{style:{fontSize:"14px",color:"var(--muted)",marginBottom:"4px"},children:"Fiat Donations"}),a.jsx("div",{style:{fontSize:"20px",fontWeight:700,color:"#10b981"},children:me(B.fiatDonations)}),a.jsxs("div",{style:{fontSize:"12px",color:"var(--muted)"},children:[B.totalRaised>0?Math.min(100,Math.max(0,Math.round(B.fiatDonations/B.totalRaised*100))):0,"% of total"]})]}),a.jsxs("div",{style:{padding:"16px",background:"var(--panel)",borderRadius:"var(--radius)",border:"1px solid var(--border)"},children:[a.jsx("div",{style:{fontSize:"14px",color:"var(--muted)",marginBottom:"4px"},children:"Crypto Donations"}),a.jsx("div",{style:{fontSize:"20px",fontWeight:700,color:"#f59e0b"},children:me(B.cryptoDonations)}),a.jsxs("div",{style:{fontSize:"12px",color:"var(--muted)"},children:[B.totalRaised>0?Math.min(100,Math.max(0,Math.round(B.cryptoDonations/B.totalRaised*100))):0,"% of total"]})]})]})]}),a.jsxs(Z,{style:{padding:"24px",marginBottom:"24px"},children:[a.jsx("h3",{style:{margin:"0 0 20px 0",fontSize:"20px",fontWeight:600},children:"Active Campaigns"}),a.jsxs("div",{style:{display:"grid",gap:"16px"},children:[d.filter(z=>z.status==="active").slice(0,5).map(z=>a.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"16px",border:"1px solid var(--border)",borderRadius:"var(--radius-lg)",background:"var(--panel)"},children:[a.jsx("img",{src:z.image,alt:z.name,style:{width:"48px",height:"48px",borderRadius:"var(--radius)",objectFit:"cover",marginRight:"16px"}}),a.jsxs("div",{style:{flex:1},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[a.jsxs("h4",{style:{margin:0,fontSize:"16px",fontWeight:600},children:[z.name,"  ",z.species]}),a.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:"var(--accent)"},children:z.goal>0?`${Math.min(100,Math.max(0,Math.round(z.raised/z.goal*100)))}% funded`:a.jsx("span",{style:{fontSize:"12px",padding:"2px 6px",background:"var(--muted)",color:"white",borderRadius:"var(--radius)",fontWeight:500},children:"No goal"})})]}),z.goal>0&&a.jsx("div",{style:{marginBottom:"8px"},children:a.jsx("div",{style:{width:"100%",height:"6px",background:"var(--border)",borderRadius:"var(--radius)",overflow:"hidden"},children:a.jsx("div",{style:{width:`${Math.min(100,Math.max(0,z.raised/z.goal*100))}%`,height:"100%",background:"var(--accent)",borderRadius:"var(--radius)",transition:"width 0.3s ease"}})})}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{style:{fontSize:"14px",color:"var(--muted)"},children:[me(z.raised)," raised of ",me(z.goal)," goal"]}),a.jsxs("div",{style:{display:"flex",gap:"8px"},children:[a.jsx(F,{size:"sm",variant:"outline",style:{fontSize:"12px"},children:" Boost"}),a.jsx(F,{size:"sm",variant:"outline",style:{fontSize:"12px"},children:" Share"})]})]})]})]},z.id)),d.filter(z=>z.status==="active").length===0&&a.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"var(--muted)"},children:[a.jsx("div",{style:{marginBottom:"16px"},children:a.jsx(Yg,{size:48,color:"var(--muted)"})}),a.jsx("div",{style:{fontSize:"16px",marginBottom:"8px"},children:"No active campaigns"}),a.jsx("div",{style:{fontSize:"14px"},children:"Start your first fundraising campaign!"})]})]})]})]})}),a.jsx("div",{role:"tabpanel",id:"panel-ambassadors","aria-labelledby":"tab-ambassadors",hidden:l!=="ambassadors",children:a.jsxs(Z,{style:{padding:"24px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[a.jsx("h2",{style:{margin:0,fontSize:"24px",fontWeight:600},children:"Animal Ambassadors"}),a.jsxs(F,{onClick:()=>b(!0),children:[a.jsx(si,{size:16,style:{marginRight:"8px"}}),"Add New Animal"]})]}),a.jsx(Z,{style:{padding:"16px",marginBottom:"24px",background:"var(--panel)",border:"1px solid var(--border)"},children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[a.jsxs("div",{style:{flex:1,position:"relative"},children:[a.jsx(Ee,{placeholder:"Search animals by name or species...",value:m,onChange:z=>x(z.target.value),style:{paddingLeft:"40px",border:"1px solid var(--border)",borderRadius:"var(--radius)",background:"var(--bg)"}}),a.jsx(md,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--muted)"}})]}),a.jsx("div",{style:{display:"flex",gap:"8px"},children:[{value:"all",label:"All"},{value:"active",label:"Active"},{value:"completed",label:"Completed"},{value:"paused",label:"Paused"}].map(z=>a.jsx("button",{onClick:()=>k(z.value),style:{padding:"8px 16px",border:"1px solid var(--border)",borderRadius:"var(--radius-lg)",background:w===z.value?"var(--accent)":"transparent",color:w===z.value?"white":"var(--text)",fontSize:"14px",fontWeight:500,cursor:"pointer",transition:"all 0.2s ease","&:hover":{background:w===z.value?"var(--accent)":"var(--panel)",borderColor:w===z.value?"var(--accent)":"var(--accent-2)"}},onMouseEnter:Y=>{w!==z.value&&(Y.currentTarget.style.background="var(--panel)",Y.currentTarget.style.borderColor="var(--accent-2)")},onMouseLeave:Y=>{w!==z.value&&(Y.currentTarget.style.background="transparent",Y.currentTarget.style.borderColor="var(--border)")},children:z.label},z.value))})]})}),y?a.jsx("div",{style:{textAlign:"center",padding:"40px",color:"var(--muted)"},children:"Loading animals..."}):Te.length===0?a.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"var(--muted)"},children:[a.jsx("div",{style:{marginBottom:"16px"},children:a.jsx(vn,{size:48,color:"var(--muted)"})}),a.jsx("div",{style:{fontSize:"18px",marginBottom:"8px"},children:"No animals found"}),a.jsx("div",{style:{fontSize:"14px"},children:m||w!=="all"?"Try adjusting your search or filters":"Get started by adding your first animal ambassador"})]}):a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"20px"},children:Te.map(z=>a.jsxs(Z,{style:{padding:"16px",position:"relative",transition:"border-color 0.2s ease",cursor:"pointer","&:hover":{borderColor:"var(--accent-2)"}},onClick:()=>r(`/animal/${z.id}`),onMouseEnter:Y=>{Y.currentTarget.style.borderColor="var(--accent-2)"},onMouseLeave:Y=>{Y.currentTarget.style.borderColor="var(--border)"},children:[a.jsx("div",{style:{width:"100%",height:"140px",borderRadius:"var(--radius)",overflow:"hidden",marginBottom:"12px"},children:a.jsx("img",{src:z.image,alt:z.name,style:{width:"100%",height:"100%",objectFit:"cover"}})}),a.jsxs("div",{style:{marginBottom:"12px"},children:[a.jsx("h3",{style:{margin:"0 0 6px 0",fontSize:"16px",fontWeight:600},children:z.name}),a.jsxs("div",{style:{color:"var(--muted)",fontSize:"13px",marginBottom:"2px"},children:[z.species,"  ",z.breed]}),a.jsxs("div",{style:{color:"var(--muted)",fontSize:"13px"},children:[z.age,"  ",z.status]})]}),a.jsxs("div",{style:{marginBottom:"12px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"},children:[a.jsx("span",{style:{fontSize:"13px",color:"var(--muted)"},children:"Progress"}),z.goal>0?a.jsxs("span",{style:{fontSize:"13px",fontWeight:600},children:[Math.min(100,Math.max(0,Math.round(z.raised/z.goal*100))),"%"]}):a.jsx("span",{style:{fontSize:"11px",padding:"2px 6px",background:"var(--muted)",color:"white",borderRadius:"var(--radius)",fontWeight:500},children:"No goal set"})]}),z.goal>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{width:"100%",height:"6px",background:"var(--border)",borderRadius:"var(--radius)",overflow:"hidden"},children:a.jsx("div",{style:{width:`${Math.min(100,Math.max(0,z.raised/z.goal*100))}%`,height:"100%",background:"var(--accent)",borderRadius:"var(--radius)",transition:"width 0.3s ease"}})}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"6px",fontSize:"13px"},children:[a.jsxs("span",{style:{color:"var(--muted)"},children:[me(z.raised)," raised"]}),a.jsxs("span",{style:{color:"var(--muted)"},children:["Goal: ",me(z.goal)]})]})]}):a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"6px",fontSize:"13px"},children:[a.jsxs("span",{style:{color:"var(--muted)"},children:[me(z.raised)," raised"]}),a.jsx("span",{style:{color:"var(--muted)"},children:"No goal set"})]})]}),a.jsxs("div",{style:{display:"flex",gap:"6px",marginBottom:"12px"},children:[a.jsxs(F,{size:"sm",variant:"outline",onClick:()=>L(z),style:{flex:1,fontSize:"12px",padding:"8px 12px"},children:[a.jsx(qm,{size:16,style:{marginRight:"4px"}}),"Edit"]}),a.jsx(Xg,{content:"View animal profile",children:a.jsx(F,{size:"sm",variant:"outline",onClick:()=>r(`/animal/${z.id}`),style:{width:"36px",height:"36px",padding:"0",display:"flex",alignItems:"center",justifyContent:"center"},"aria-label":"View animal profile",children:a.jsx(Pm,{size:16})})}),a.jsx(Xg,{content:"Delete animal",children:a.jsx(F,{size:"sm",variant:"outline",onClick:()=>re(z.id),style:{width:"36px",height:"36px",padding:"0",display:"flex",alignItems:"center",justifyContent:"center",color:"#ef4444",borderColor:"#ef4444"},"aria-label":"Delete animal",children:a.jsx(r2,{size:16})})})]}),a.jsx("div",{style:{borderTop:"1px solid var(--border)",paddingTop:"8px",marginTop:"auto"},children:a.jsxs("div",{style:{fontSize:"11px",color:"var(--muted)",textAlign:"center"},children:["Updated ",z.lastUpdated]})})]},z.id))})]})}),a.jsx("div",{role:"tabpanel",id:"panel-donations","aria-labelledby":"tab-donations",hidden:l!=="donations",children:a.jsxs(Z,{style:{padding:"24px"},children:[a.jsx("h2",{style:{margin:"0 0 24px 0",fontSize:"24px",fontWeight:600},children:"Donations & Fundraising"}),a.jsxs("div",{style:{marginBottom:"32px"},children:[a.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:"18px",fontWeight:600},children:"Top Donors"}),a.jsx("div",{style:{display:"grid",gap:"12px"},children:be.map((z,Y)=>a.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"16px",border:"1px solid var(--border)",borderRadius:"var(--radius)",background:Y<3?"var(--accent)":"transparent",color:Y<3?"white":"var(--text)"},children:[a.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:Y<3?"rgba(255,255,255,0.2)":"var(--border)",display:"grid",placeItems:"center",marginRight:"16px",fontWeight:"bold"},children:Y+1}),a.jsxs("div",{style:{flex:1},children:[a.jsx("div",{style:{fontWeight:600},children:z.anonymous?"Anonymous Donor":`Donor ${z.donorId.slice(0,8)}`}),a.jsxs("div",{style:{fontSize:"14px",opacity:.8},children:[z.total," donations"]})]}),a.jsx("div",{style:{fontSize:"18px",fontWeight:700},children:me(z.total)})]},z.donorId))})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:"18px",fontWeight:600},children:"Recent Donations"}),!ke&&a.jsxs("div",{style:{display:"table",width:"100%",borderCollapse:"collapse"},children:[a.jsx("thead",{style:{position:"sticky",top:0,background:"var(--bg)",borderBottom:"2px solid var(--border)",zIndex:10},children:a.jsxs("tr",{children:[a.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"14px",fontWeight:600,color:"var(--text)",borderBottom:"1px solid var(--border)"},children:"Donor"}),a.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"14px",fontWeight:600,color:"var(--text)",borderBottom:"1px solid var(--border)"},children:"Animal"}),a.jsx("th",{style:{padding:"12px 16px",textAlign:"right",fontSize:"14px",fontWeight:600,color:"var(--text)",borderBottom:"1px solid var(--border)"},children:"Amount"}),a.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"14px",fontWeight:600,color:"var(--text)",borderBottom:"1px solid var(--border)"},children:"Message"}),a.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"14px",fontWeight:600,color:"var(--text)",borderBottom:"1px solid var(--border)"},children:"When"})]})}),a.jsx("tbody",{children:ae.slice(0,10).map(z=>{const Y=d.find(xe=>xe.id===z.animal_id),ye=Y?Y.name:"Unknown Animal";return a.jsxs("tr",{style:{borderBottom:"1px solid var(--border)","&:hover":{background:"var(--panel)"}},children:[a.jsx("td",{style:{padding:"12px 16px",fontSize:"14px",fontWeight:500},children:z.anonymous?"Anonymous Donor":`Donor ${z.donor_id?.slice(0,8)||"Unknown"}`}),a.jsx("td",{style:{padding:"12px 16px",fontSize:"14px",color:"var(--muted)"},children:ye}),a.jsx("td",{style:{padding:"12px 16px",textAlign:"right",fontSize:"16px",fontWeight:700,color:"var(--accent)"},children:me(z.amount)}),a.jsx("td",{style:{padding:"12px 16px",fontSize:"14px",maxWidth:"200px"},children:a.jsx("div",{title:z.message||"No message",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:z.message?"var(--text)":"var(--muted)"},children:z.message||"No message"})}),a.jsx("td",{style:{padding:"12px 16px",fontSize:"14px",color:"var(--muted)"},children:ut(z.created_at)})]},z.id)})})]}),ke&&a.jsx("div",{style:{display:"grid",gap:"12px"},children:ae.slice(0,10).map(z=>{const Y=d.find(xe=>xe.id===z.animal_id),ye=Y?Y.name:"Unknown Animal";return a.jsx("div",{style:{padding:"16px",border:"1px solid var(--border)",borderRadius:"12px",background:"var(--panel)"},children:a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[a.jsxs("div",{style:{flex:1},children:[a.jsx("div",{style:{fontWeight:600,marginBottom:"4px",fontSize:"14px"},children:z.anonymous?"Anonymous Donor":`Donor ${z.donor_id?.slice(0,8)||"Unknown"}`}),a.jsx("div",{style:{fontSize:"14px",color:"var(--muted)",marginBottom:"8px"},children:ye}),a.jsx("div",{title:z.message||"No message",style:{fontSize:"14px",color:z.message?"var(--text)":"var(--muted)",lineHeight:1.4},children:z.message||"No message"})]}),a.jsxs("div",{style:{textAlign:"right",marginLeft:"16px"},children:[a.jsx("div",{style:{fontSize:"18px",fontWeight:700,color:"var(--accent)",marginBottom:"4px"},children:me(z.amount)}),a.jsx("div",{style:{fontSize:"12px",color:"var(--muted)"},children:ut(z.created_at)})]})]})},z.id)})})]})]})}),a.jsx("div",{role:"tabpanel",id:"panel-analytics","aria-labelledby":"tab-analytics",hidden:l!=="analytics",children:a.jsxs(Z,{style:{padding:"24px"},children:[a.jsx("h2",{style:{margin:"0 0 24px 0",fontSize:"24px",fontWeight:600},children:"Analytics & Reports"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"24px",marginBottom:"32px"},children:[a.jsxs(Z,{style:{padding:"20px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[a.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:600},children:"Donations Over Time"}),a.jsxs("select",{style:{padding:"4px 8px",border:"1px solid var(--border)",borderRadius:"var(--radius)",background:"var(--bg)",color:"var(--text)",fontSize:"12px",cursor:"pointer"},children:[a.jsx("option",{value:"7d",children:"Last 7 days"}),a.jsx("option",{value:"30d",children:"Last 30 days"}),a.jsx("option",{value:"90d",children:"Last 90 days"}),a.jsx("option",{value:"1y",children:"Last year"})]})]}),a.jsx("div",{style:{height:"200px",background:"var(--panel)",borderRadius:"var(--radius)",border:"1px solid var(--border)",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",color:"var(--muted)"},children:[a.jsx(Zb,{size:32,color:"var(--muted)"}),a.jsx("div",{style:{fontSize:"14px",textAlign:"center"},children:"Chart data will appear here"})]})}),a.jsx("div",{style:{marginTop:"12px",fontSize:"12px",color:"var(--muted)",textAlign:"center"},children:"Daily donation trends and patterns"})]}),a.jsxs(Z,{style:{padding:"20px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[a.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:600},children:"Donor Source Breakdown"}),a.jsxs("select",{style:{padding:"4px 8px",border:"1px solid var(--border)",borderRadius:"var(--radius)",background:"var(--bg)",color:"var(--text)",fontSize:"12px",cursor:"pointer"},children:[a.jsx("option",{value:"all",children:"All time"}),a.jsx("option",{value:"monthly",children:"This month"}),a.jsx("option",{value:"quarterly",children:"This quarter"})]})]}),a.jsx("div",{style:{height:"200px",background:"var(--panel)",borderRadius:"var(--radius)",border:"1px solid var(--border)",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",color:"var(--muted)"},children:[a.jsx(ej,{size:32,color:"var(--muted)"}),a.jsx("div",{style:{fontSize:"14px",textAlign:"center"},children:"Chart data will appear here"})]})}),a.jsx("div",{style:{marginTop:"12px",fontSize:"12px",color:"var(--muted)",textAlign:"center"},children:"Distribution of donations by source"})]}),a.jsxs(Z,{style:{padding:"20px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[a.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:600},children:"Ambassador Engagement"}),a.jsxs("select",{style:{padding:"4px 8px",border:"1px solid var(--border)",borderRadius:"var(--radius)",background:"var(--bg)",color:"var(--text)",fontSize:"12px",cursor:"pointer"},children:[a.jsx("option",{value:"week",children:"This week"}),a.jsx("option",{value:"month",children:"This month"}),a.jsx("option",{value:"quarter",children:"This quarter"})]})]}),a.jsx("div",{style:{height:"200px",background:"var(--panel)",borderRadius:"var(--radius)",border:"1px solid var(--border)",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",color:"var(--muted)"},children:[a.jsx(fo,{size:32,color:"var(--muted)"}),a.jsx("div",{style:{fontSize:"14px",textAlign:"center"},children:"Chart data will appear here"})]})}),a.jsx("div",{style:{marginTop:"12px",fontSize:"12px",color:"var(--muted)",textAlign:"center"},children:"Engagement metrics by ambassador"})]})]}),a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:"18px",fontWeight:600},children:"Export Reports"}),a.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[a.jsxs(F,{variant:"outline",children:[a.jsx(Ig,{size:16,style:{marginRight:"8px"}}),"Export to CSV"]}),a.jsxs(F,{variant:"outline",children:[a.jsx(gj,{size:16,style:{marginRight:"8px"}}),"Export to PDF"]})]})]})]})}),a.jsx("div",{role:"tabpanel",id:"panel-settings","aria-labelledby":"tab-settings",hidden:l!=="settings",children:a.jsxs(Z,{style:{padding:"24px"},children:[a.jsx("h2",{style:{margin:"0 0 24px 0",fontSize:"24px",fontWeight:600},children:"Branding & Settings"}),a.jsxs("div",{style:{display:"grid",gap:"24px"},children:[a.jsxs("div",{children:[a.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:"18px",fontWeight:600},children:"Logo & Branding"}),a.jsxs("div",{style:{display:"grid",gap:"16px"},children:[a.jsx("div",{style:{width:"120px",height:"120px",border:"2px dashed var(--border)",borderRadius:"var(--radius-lg)",display:"grid",placeItems:"center",cursor:"pointer"},children:a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{style:{marginBottom:"8px"},children:a.jsx(ad,{size:24,color:"var(--muted)"})}),a.jsx("div",{style:{fontSize:"12px",color:"var(--muted)"},children:"Upload Logo"})]})}),a.jsx("div",{style:{width:"100%",height:"80px",border:"2px dashed var(--border)",borderRadius:"var(--radius-lg)",display:"grid",placeItems:"center",cursor:"pointer"},children:a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{style:{marginBottom:"8px"},children:a.jsx(Ej,{size:24,color:"var(--muted)"})}),a.jsx("div",{style:{fontSize:"12px",color:"var(--muted)"},children:"Upload Banner"})]})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:"18px",fontWeight:600},children:"Theme Colors"}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"16px"},children:["#ec4899","#8b5cf6","#06b6d4","#10b981","#f59e0b"].map(z=>a.jsx("div",{style:{width:"100%",height:"60px",background:z,borderRadius:"var(--radius)",cursor:"pointer",border:"2px solid transparent",transition:"border-color 0.2s ease"}},z))})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:"18px",fontWeight:600},children:"Payout Settings"}),a.jsxs("div",{style:{display:"grid",gap:"16px"},children:[a.jsx(Ee,{placeholder:"Stripe Account ID"}),a.jsx(Ee,{placeholder:"PayPal Email"}),a.jsx(Ee,{placeholder:"Crypto Wallet Address"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:"18px",fontWeight:600},children:"Social Integrations"}),a.jsxs("div",{style:{display:"grid",gap:"12px"},children:[a.jsxs(F,{variant:"outline",style:{justifyContent:"flex-start"},children:[a.jsx(c2,{size:16,style:{marginRight:"8px"}}),"Connect Twitter"]}),a.jsxs(F,{variant:"outline",style:{justifyContent:"flex-start"},children:[a.jsx(Hj,{size:16,style:{marginRight:"8px"}}),"Connect TikTok"]}),a.jsxs(F,{variant:"outline",style:{justifyContent:"flex-start"},children:[a.jsx(m2,{size:16,style:{marginRight:"8px"}}),"Connect YouTube"]})]})]})]})]})}),S&&a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:a.jsxs(Z,{style:{padding:"24px",maxWidth:500,width:"90%",maxHeight:"80vh",overflow:"auto"},children:[a.jsx("h3",{style:{margin:"0 0 24px 0"},children:"Add New Animal Ambassador"}),a.jsxs("div",{style:{display:"grid",gap:"20px"},children:[a.jsx(Ee,{placeholder:"Animal name",value:G.name,onChange:z=>te(Y=>({...Y,name:z.target.value}))}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[a.jsxs("select",{value:G.species,onChange:z=>te(Y=>({...Y,species:z.target.value})),style:{padding:"10px 12px",border:"1px solid var(--border)",borderRadius:"12px",background:"var(--panel)",color:"var(--text)",fontSize:"14px",width:"100%"},children:[a.jsx("option",{value:"",children:"Select Species"}),s.map(z=>a.jsx("option",{value:z,children:z},z))]}),a.jsx(Ee,{placeholder:"Breed",value:G.breed,onChange:z=>te(Y=>({...Y,breed:z.target.value}))})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[a.jsx(Ee,{placeholder:"Age",value:G.age,onChange:z=>te(Y=>({...Y,age:z.target.value}))}),a.jsx(Ee,{placeholder:"Fundraising goal ($)",type:"number",value:G.goal,onChange:z=>te(Y=>({...Y,goal:z.target.value}))})]}),a.jsx(Kt,{placeholder:"Tell the animal's story...",value:G.bio,onChange:z=>te(Y=>({...Y,bio:z.target.value})),rows:4})]}),a.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"24px"},children:[a.jsx(F,{onClick:R,style:{flex:1},children:"Add Animal"}),a.jsx(F,{variant:"outline",onClick:()=>b(!1),style:{flex:1},children:"Cancel"})]})]})}),q&&a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:a.jsxs(Z,{style:{padding:"24px",maxWidth:500,width:"90%",maxHeight:"80vh",overflow:"auto"},children:[a.jsxs("h3",{style:{margin:"0 0 24px 0"},children:["Edit Animal: ",q.name]}),a.jsxs("div",{style:{display:"grid",gap:"20px"},children:[a.jsx(Ee,{placeholder:"Animal name",value:q.name,onChange:z=>L(Y=>({...Y,name:z.target.value}))}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[a.jsxs("select",{value:q.species,onChange:z=>L(Y=>({...Y,species:z.target.value})),style:{padding:"10px 12px",border:"1px solid var(--border)",borderRadius:"12px",background:"var(--panel)",color:"var(--text)",fontSize:"14px",width:"100%"},children:[a.jsx("option",{value:"",children:"Select Species"}),s.map(z=>a.jsx("option",{value:z,children:z},z))]}),a.jsx(Ee,{placeholder:"Breed",value:q.breed,onChange:z=>L(Y=>({...Y,breed:z.target.value}))})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[a.jsx(Ee,{placeholder:"Age",value:q.age,onChange:z=>L(Y=>({...Y,age:z.target.value}))}),a.jsx(Ee,{placeholder:"Fundraising goal ($)",type:"number",value:q.goal,onChange:z=>L(Y=>({...Y,goal:z.target.value}))})]}),a.jsx(Kt,{placeholder:"Tell the animal's story...",value:q.bio||"",onChange:z=>L(Y=>({...Y,bio:z.target.value})),rows:4})]}),a.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"24px"},children:[a.jsx(F,{onClick:()=>ne(q),style:{flex:1},children:"Save Changes"}),a.jsx(F,{variant:"outline",onClick:()=>L(null),style:{flex:1},children:"Cancel"})]})]})})]}):a.jsx("div",{children:"Please log in to access the dashboard."})}function z2(){const[o,r]=C.useState(!1);return a.jsxs(Bb,{children:[a.jsxs("div",{className:"container",children:[a.jsx(v2,{onOpenAuth:()=>r(!0)}),a.jsxs(Zx,{children:[a.jsx(On,{path:"/",element:a.jsx(j2,{})}),a.jsx(On,{path:"/community",element:a.jsx(_2,{onOpenAuth:()=>r(!0)})}),a.jsx(On,{path:"/ambassador",element:a.jsx(w2,{})}),a.jsx(On,{path:"/animal/:id",element:a.jsx(Jg,{})}),a.jsx(On,{path:"/animal/:id/*",element:a.jsx(Jg,{})}),a.jsx(On,{path:"/premium",element:a.jsx(S2,{})}),a.jsx(On,{path:"/profile",element:a.jsx(k2,{})}),a.jsx(On,{path:"/profile/:userId",element:a.jsx(T2,{})}),a.jsx(On,{path:"/dashboard",element:a.jsx(E2,{})})]}),a.jsxs("footer",{className:"muted",style:{textAlign:"center",padding:"40px 0",fontSize:12},children:[" ",new Date().getFullYear()," Zoomies  Terms  Privacy"]})]}),a.jsx(b2,{open:o,onClose:()=>r(!1)})]})}function A2({children:o}){const[r,s]=C.useState(()=>{const u=localStorage.getItem("theme");return u==="dark"||u==="light"?u:window.matchMedia?.("(prefers-color-scheme: dark)").matches?"dark":"light"});C.useEffect(()=>{document.documentElement.setAttribute("data-theme",r),localStorage.setItem("theme",r)},[r]);const l=C.useMemo(()=>({theme:r,toggle:()=>s(u=>u==="dark"?"light":"dark")}),[r]);return a.jsx(Hm.Provider,{value:l,children:o})}ox.createRoot(document.getElementById("root")).render(a.jsx(ex.StrictMode,{children:a.jsx(A2,{children:a.jsx(jv,{children:a.jsx(z2,{})})})}));
